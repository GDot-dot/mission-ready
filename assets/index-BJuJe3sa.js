(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v0={exports:{}},au={},_0={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),px=Symbol.for("react.portal"),mx=Symbol.for("react.fragment"),gx=Symbol.for("react.strict_mode"),yx=Symbol.for("react.profiler"),vx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),Ex=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),Hp=Symbol.iterator;function Ix(t){return t===null||typeof t!="object"?null:(t=Hp&&t[Hp]||t["@@iterator"],typeof t=="function"?t:null)}var w0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x0=Object.assign,E0={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||w0}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b0(){}b0.prototype=Ti.prototype;function ph(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||w0}var mh=ph.prototype=new b0;mh.constructor=ph;x0(mh,Ti.prototype);mh.isPureReactComponent=!0;var Wp=Array.isArray,I0=Object.prototype.hasOwnProperty,gh={current:null},k0={key:!0,ref:!0,__self:!0,__source:!0};function T0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I0.call(e,r)&&!k0.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:na,type:t,key:i,ref:o,props:s,_owner:gh.current}}function kx(t,e){return{$$typeof:na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yh(t){return typeof t=="object"&&t!==null&&t.$$typeof===na}function Tx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gp=/\/+/g;function tc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tx(""+t.key):e.toString(36)}function nl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case na:case px:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+tc(o,0):r,Wp(s)?(n="",t!=null&&(n=t.replace(Gp,"$&/")+"/"),nl(s,e,n,"",function(d){return d})):s!=null&&(yh(s)&&(s=kx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Wp(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+tc(i,l);o+=nl(i,e,n,u,s)}else if(u=Ix(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+tc(i,l++),o+=nl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Da(t,e,n){if(t==null)return t;var r=[],s=0;return nl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Sx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},rl={transition:null},Cx={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:rl,ReactCurrentOwner:gh};function S0(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!yh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ti;me.Fragment=mx;me.Profiler=yx;me.PureComponent=ph;me.StrictMode=gx;me.Suspense=xx;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cx;me.act=S0;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=x0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)I0.call(e,u)&&!k0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:na,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:_x,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vx,_context:t},t.Consumer=t};me.createElement=T0;me.createFactory=function(t){var e=T0.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:wx,render:t}};me.isValidElement=yh;me.lazy=function(t){return{$$typeof:bx,_payload:{_status:-1,_result:t},_init:Sx}};me.memo=function(t,e){return{$$typeof:Ex,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=rl.transition;rl.transition={};try{t()}finally{rl.transition=e}};me.unstable_act=S0;me.useCallback=function(t,e){return Ft.current.useCallback(t,e)};me.useContext=function(t){return Ft.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ft.current.useEffect(t,e)};me.useId=function(){return Ft.current.useId()};me.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ft.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};me.useRef=function(t){return Ft.current.useRef(t)};me.useState=function(t){return Ft.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ft.current.useTransition()};me.version="18.3.1";_0.exports=me;var A=_0.exports;const Lt=fx(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=A,Rx=Symbol.for("react.element"),Nx=Symbol.for("react.fragment"),Px=Object.prototype.hasOwnProperty,Dx=Ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function C0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Px.call(e,r)&&!Vx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Rx,type:t,key:i,ref:o,props:s,_owner:Dx.current}}au.Fragment=Nx;au.jsx=C0;au.jsxs=C0;v0.exports=au;var h=v0.exports,$c={},A0={exports:{}},sn={},R0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Q){var Z=q.length;q.push(Q);e:for(;0<Z;){var ve=Z-1>>>1,ne=q[ve];if(0<s(ne,Q))q[ve]=Q,q[Z]=ne,Z=ve;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],Z=q.pop();if(Z!==Q){q[0]=Z;e:for(var ve=0,ne=q.length,ue=ne>>>1;ve<ue;){var Se=2*(ve+1)-1,je=q[Se],U=Se+1,X=q[U];if(0>s(je,Z))U<ne&&0>s(X,je)?(q[ve]=X,q[U]=Z,ve=U):(q[ve]=je,q[Se]=Z,ve=Se);else if(U<ne&&0>s(X,Z))q[ve]=X,q[U]=Z,ve=U;else break e}}return Q}function s(q,Q){var Z=q.sortIndex-Q.sortIndex;return Z!==0?Z:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,m=null,g=3,_=!1,C=!1,R=!1,V=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=q)r(d),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(d)}}function P(q){if(R=!1,b(q),!C)if(n(u)!==null)C=!0,ft(L);else{var Q=n(d);Q!==null&&Te(P,Q.startTime-q)}}function L(q,Q){C=!1,R&&(R=!1,T(y),y=-1),_=!0;var Z=g;try{for(b(Q),m=n(u);m!==null&&(!(m.expirationTime>Q)||q&&!S());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,g=m.priorityLevel;var ne=ve(m.expirationTime<=Q);Q=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(u)&&r(u),b(Q)}else r(u);m=n(u)}if(m!==null)var ue=!0;else{var Se=n(d);Se!==null&&Te(P,Se.startTime-Q),ue=!1}return ue}finally{m=null,g=Z,_=!1}}var F=!1,w=null,y=-1,x=5,I=-1;function S(){return!(t.unstable_now()-I<x)}function N(){if(w!==null){var q=t.unstable_now();I=q;var Q=!0;try{Q=w(!0,q)}finally{Q?k():(F=!1,w=null)}}else F=!1}var k;if(typeof E=="function")k=function(){E(N)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ve=le.port2;le.port1.onmessage=N,k=function(){Ve.postMessage(null)}}else k=function(){V(N,0)};function ft(q){w=q,F||(F=!0,k())}function Te(q,Q){y=V(function(){q(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,ft(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Z=g;g=Q;try{return q()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=g;g=q;try{return Q()}finally{g=Z}},t.unstable_scheduleCallback=function(q,Q,Z){var ve=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ve+Z:ve):Z=ve,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Z+ne,q={id:p++,callback:Q,priorityLevel:q,startTime:Z,expirationTime:ne,sortIndex:-1},Z>ve?(q.sortIndex=Z,e(d,q),n(u)===null&&q===n(d)&&(R?(T(y),y=-1):R=!0,Te(P,Z-ve))):(q.sortIndex=ne,e(u,q),C||_||(C=!0,ft(L))),q},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(q){var Q=g;return function(){var Z=g;g=Q;try{return q.apply(this,arguments)}finally{g=Z}}}})(N0);R0.exports=N0;var jx=R0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=A,rn=jx;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P0=new Set,Co={};function Is(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(Co[t]=e,t=0;t<e.length;t++)P0.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,Mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kp={},Qp={};function Ox(t){return qc.call(Qp,t)?!0:qc.call(Kp,t)?!1:Mx.test(t)?Qp[t]=!0:(Kp[t]=!0,!1)}function Fx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zx(t,e,n,r){if(e===null||typeof e>"u"||Fx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vh=/[\-:]([a-z])/g;function _h(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vh,_h);wt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vh,_h);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vh,_h);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function wh(t,e,n,r){var s=wt.hasOwnProperty(e)?wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zx(e,n,s,r)&&(n=null),r||s===null?Ox(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),Hc=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Wc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),bh=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),Yp=Symbol.iterator;function Wi(t){return t===null||typeof t!="object"?null:(t=Yp&&t[Yp]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,nc;function to(t){if(nc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nc=e&&e[1]||""}return`
`+nc+t}var rc=!1;function sc(t,e){if(!t||rc)return"";rc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{rc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?to(t):""}function Ux(t){switch(t.tag){case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return t=sc(t.type,!1),t;case 11:return t=sc(t.type.render,!1),t;case 1:return t=sc(t.type,!0),t;default:return""}}function Kc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Fs:return"Portal";case Hc:return"Profiler";case xh:return"StrictMode";case Wc:return"Suspense";case Gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V0:return(t.displayName||"Context")+".Consumer";case D0:return(t._context.displayName||"Context")+".Provider";case Eh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bh:return e=t.displayName||null,e!==null?e:Kc(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Kc(t(e))}catch{}}return null}function Bx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(e);case 8:return e===xh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $x(t){var e=L0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ja(t){t._valueTracker||(t._valueTracker=$x(t))}function M0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qc(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O0(t,e){e=e.checked,e!=null&&wh(t,"checked",e,!1)}function Yc(t,e){O0(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xc(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xc(t,e,n){(e!=="number"||wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var no=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(no(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function F0(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function em(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var La,U0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=La.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ao(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qx=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(t){qx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),co[e]=co[t]})});function B0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||co.hasOwnProperty(t)&&co[t]?(""+e).trim():e+"px"}function $0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=B0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Hx=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(t,e){if(e){if(Hx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function td(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function Ih(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rd=null,Zs=null,ei=null;function tm(t){if(t=ia(t)){if(typeof rd!="function")throw Error($(280));var e=t.stateNode;e&&(e=hu(e),rd(t.stateNode,t.type,e))}}function q0(t){Zs?ei?ei.push(t):ei=[t]:Zs=t}function H0(){if(Zs){var t=Zs,e=ei;if(ei=Zs=null,tm(t),e)for(t=0;t<e.length;t++)tm(e[t])}}function W0(t,e){return t(e)}function G0(){}var ic=!1;function K0(t,e,n){if(ic)return t(e,n);ic=!0;try{return W0(t,e,n)}finally{ic=!1,(Zs!==null||ei!==null)&&(G0(),H0())}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var sd=!1;if(sr)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){sd=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{sd=!1}function Wx(t,e,n,r,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var ho=!1,xl=null,El=!1,id=null,Gx={onError:function(t){ho=!0,xl=t}};function Kx(t,e,n,r,s,i,o,l,u){ho=!1,xl=null,Wx.apply(Gx,arguments)}function Qx(t,e,n,r,s,i,o,l,u){if(Kx.apply(this,arguments),ho){if(ho){var d=xl;ho=!1,xl=null}else throw Error($(198));El||(El=!0,id=d)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nm(t){if(ks(t)!==t)throw Error($(188))}function Yx(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nm(s),t;if(i===r)return nm(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Y0(t){return t=Yx(t),t!==null?X0(t):null}function X0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X0(t);if(e!==null)return e;t=t.sibling}return null}var J0=rn.unstable_scheduleCallback,rm=rn.unstable_cancelCallback,Xx=rn.unstable_shouldYield,Jx=rn.unstable_requestPaint,Je=rn.unstable_now,Zx=rn.unstable_getCurrentPriorityLevel,kh=rn.unstable_ImmediatePriority,Z0=rn.unstable_UserBlockingPriority,bl=rn.unstable_NormalPriority,e1=rn.unstable_LowPriority,ey=rn.unstable_IdlePriority,lu=null,Mn=null;function t1(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(lu,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:s1,n1=Math.log,r1=Math.LN2;function s1(t){return t>>>=0,t===0?32:31-(n1(t)/r1|0)|0}var Ma=64,Oa=4194304;function ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ro(l):(i&=o,i!==0&&(r=ro(i)))}else o=n&~s,o!==0?r=ro(o):i!==0&&(r=ro(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function i1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=i1(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function od(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ty(){var t=Ma;return Ma<<=1,!(Ma&4194240)&&(Ma=64),t}function oc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ra(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function a1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Th(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function ny(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ry,Sh,sy,iy,oy,ad=!1,Fa=[],Ar=null,Rr=null,Nr=null,No=new Map,Po=new Map,Ir=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sm(t,e){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Ki(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ia(e),e!==null&&Sh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function u1(t,e,n,r,s){switch(e){case"focusin":return Ar=Ki(Ar,t,e,n,r,s),!0;case"dragenter":return Rr=Ki(Rr,t,e,n,r,s),!0;case"mouseover":return Nr=Ki(Nr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return No.set(i,Ki(No.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Po.set(i,Ki(Po.get(i)||null,t,e,n,r,s)),!0}return!1}function ay(t){var e=us(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=Q0(n),e!==null){t.blockedOn=e,oy(t.priority,function(){sy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nd=r,n.target.dispatchEvent(r),nd=null}else return e=ia(n),e!==null&&Sh(e),t.blockedOn=n,!1;e.shift()}return!0}function im(t,e,n){sl(t)&&n.delete(e)}function c1(){ad=!1,Ar!==null&&sl(Ar)&&(Ar=null),Rr!==null&&sl(Rr)&&(Rr=null),Nr!==null&&sl(Nr)&&(Nr=null),No.forEach(im),Po.forEach(im)}function Qi(t,e){t.blockedOn===e&&(t.blockedOn=null,ad||(ad=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,c1)))}function Do(t){function e(s){return Qi(s,t)}if(0<Fa.length){Qi(Fa[0],t);for(var n=1;n<Fa.length;n++){var r=Fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ar!==null&&Qi(Ar,t),Rr!==null&&Qi(Rr,t),Nr!==null&&Qi(Nr,t),No.forEach(e),Po.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)ay(n),n.blockedOn===null&&Ir.shift()}var ti=fr.ReactCurrentBatchConfig,kl=!0;function d1(t,e,n,r){var s=Ae,i=ti.transition;ti.transition=null;try{Ae=1,Ch(t,e,n,r)}finally{Ae=s,ti.transition=i}}function h1(t,e,n,r){var s=Ae,i=ti.transition;ti.transition=null;try{Ae=4,Ch(t,e,n,r)}finally{Ae=s,ti.transition=i}}function Ch(t,e,n,r){if(kl){var s=ld(t,e,n,r);if(s===null)gc(t,e,r,Tl,n),sm(t,r);else if(u1(s,t,e,n,r))r.stopPropagation();else if(sm(t,r),e&4&&-1<l1.indexOf(t)){for(;s!==null;){var i=ia(s);if(i!==null&&ry(i),i=ld(t,e,n,r),i===null&&gc(t,e,r,Tl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gc(t,e,r,null,n)}}var Tl=null;function ld(t,e,n,r){if(Tl=null,t=Ih(r),t=us(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tl=t,null}function ly(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zx()){case kh:return 1;case Z0:return 4;case bl:case e1:return 16;case ey:return 536870912;default:return 16}default:return 16}}var Tr=null,Ah=null,il=null;function uy(){if(il)return il;var t,e=Ah,n=e.length,r,s="value"in Tr?Tr.value:Tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return il=s.slice(t,1<r?1-r:void 0)}function ol(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function om(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:om,this.isPropagationStopped=om,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=on(Si),sa=Ge({},Si,{view:0,detail:0}),f1=on(sa),ac,lc,Yi,uu=Ge({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(ac=t.screenX-Yi.screenX,lc=t.screenY-Yi.screenY):lc=ac=0,Yi=t),ac)},movementY:function(t){return"movementY"in t?t.movementY:lc}}),am=on(uu),p1=Ge({},uu,{dataTransfer:0}),m1=on(p1),g1=Ge({},sa,{relatedTarget:0}),uc=on(g1),y1=Ge({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=on(y1),_1=Ge({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w1=on(_1),x1=Ge({},Si,{data:0}),lm=on(x1),E1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I1[t])?!!e[t]:!1}function Nh(){return k1}var T1=Ge({},sa,{key:function(t){if(t.key){var e=E1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(t){return t.type==="keypress"?ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S1=on(T1),C1=Ge({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=on(C1),A1=Ge({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),R1=on(A1),N1=Ge({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=on(N1),D1=Ge({},uu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V1=on(D1),j1=[9,13,27,32],Ph=sr&&"CompositionEvent"in window,fo=null;sr&&"documentMode"in document&&(fo=document.documentMode);var L1=sr&&"TextEvent"in window&&!fo,cy=sr&&(!Ph||fo&&8<fo&&11>=fo),cm=" ",dm=!1;function dy(t,e){switch(t){case"keyup":return j1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function M1(t,e){switch(t){case"compositionend":return hy(e);case"keypress":return e.which!==32?null:(dm=!0,cm);case"textInput":return t=e.data,t===cm&&dm?null:t;default:return null}}function O1(t,e){if(Us)return t==="compositionend"||!Ph&&dy(t,e)?(t=uy(),il=Ah=Tr=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cy&&e.locale!=="ko"?null:e.data;default:return null}}var F1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F1[t.type]:e==="textarea"}function fy(t,e,n,r){q0(r),e=Sl(e,"onChange"),0<e.length&&(n=new Rh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var po=null,Vo=null;function z1(t){Iy(t,0)}function cu(t){var e=qs(t);if(M0(e))return t}function U1(t,e){if(t==="change")return e}var py=!1;if(sr){var cc;if(sr){var dc="oninput"in document;if(!dc){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),dc=typeof fm.oninput=="function"}cc=dc}else cc=!1;py=cc&&(!document.documentMode||9<document.documentMode)}function pm(){po&&(po.detachEvent("onpropertychange",my),Vo=po=null)}function my(t){if(t.propertyName==="value"&&cu(Vo)){var e=[];fy(e,Vo,t,Ih(t)),K0(z1,e)}}function B1(t,e,n){t==="focusin"?(pm(),po=e,Vo=n,po.attachEvent("onpropertychange",my)):t==="focusout"&&pm()}function $1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(Vo)}function q1(t,e){if(t==="click")return cu(e)}function H1(t,e){if(t==="input"||t==="change")return cu(e)}function W1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:W1;function jo(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qc.call(e,s)||!kn(t[s],e[s]))return!1}return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,e){var n=mm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mm(n)}}function gy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yy(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wl(t.document)}return e}function Dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G1(t){var e=yy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gy(n.ownerDocument.documentElement,n)){if(r!==null&&Dh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gm(n,i);var o=gm(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K1=sr&&"documentMode"in document&&11>=document.documentMode,Bs=null,ud=null,mo=null,cd=!1;function ym(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||Bs==null||Bs!==wl(r)||(r=Bs,"selectionStart"in r&&Dh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mo&&jo(mo,r)||(mo=r,r=Sl(ud,"onSelect"),0<r.length&&(e=new Rh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function Ua(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},hc={},vy={};sr&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function du(t){if(hc[t])return hc[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vy)return hc[t]=e[n];return t}var _y=du("animationend"),wy=du("animationiteration"),xy=du("animationstart"),Ey=du("transitionend"),by=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){by.set(t,e),Is(e,[t])}for(var fc=0;fc<vm.length;fc++){var pc=vm[fc],Q1=pc.toLowerCase(),Y1=pc[0].toUpperCase()+pc.slice(1);Wr(Q1,"on"+Y1)}Wr(_y,"onAnimationEnd");Wr(wy,"onAnimationIteration");Wr(xy,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Ey,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function _m(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Qx(r,e,void 0,t),t.currentTarget=null}function Iy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;_m(s,l,d),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;_m(s,l,d),i=u}}}if(El)throw t=id,El=!1,id=null,t}function Fe(t,e){var n=e[md];n===void 0&&(n=e[md]=new Set);var r=t+"__bubble";n.has(r)||(ky(e,t,2,!1),n.add(r))}function mc(t,e,n){var r=0;e&&(r|=4),ky(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Lo(t){if(!t[Ba]){t[Ba]=!0,P0.forEach(function(n){n!=="selectionchange"&&(X1.has(n)||mc(n,!1,t),mc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,mc("selectionchange",!1,e))}}function ky(t,e,n,r){switch(ly(e)){case 1:var s=d1;break;case 4:s=h1;break;default:s=Ch}n=s.bind(null,e,n,t),s=void 0,!sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=us(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}K0(function(){var d=i,p=Ih(n),m=[];e:{var g=by.get(t);if(g!==void 0){var _=Rh,C=t;switch(t){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":_=S1;break;case"focusin":C="focus",_=uc;break;case"focusout":C="blur",_=uc;break;case"beforeblur":case"afterblur":_=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=R1;break;case _y:case wy:case xy:_=v1;break;case Ey:_=P1;break;case"scroll":_=f1;break;case"wheel":_=V1;break;case"copy":case"cut":case"paste":_=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=um}var R=(e&4)!==0,V=!R&&t==="scroll",T=R?g!==null?g+"Capture":null:g;R=[];for(var E=d,b;E!==null;){b=E;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,T!==null&&(P=Ro(E,T),P!=null&&R.push(Mo(E,P,b)))),V)break;E=E.return}0<R.length&&(g=new _(g,C,null,n,p),m.push({event:g,listeners:R}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==nd&&(C=n.relatedTarget||n.fromElement)&&(us(C)||C[ir]))break e;if((_||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=d,C=C?us(C):null,C!==null&&(V=ks(C),C!==V||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=d),_!==C)){if(R=am,P="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(R=um,P="onPointerLeave",T="onPointerEnter",E="pointer"),V=_==null?g:qs(_),b=C==null?g:qs(C),g=new R(P,E+"leave",_,n,p),g.target=V,g.relatedTarget=b,P=null,us(p)===d&&(R=new R(T,E+"enter",C,n,p),R.target=b,R.relatedTarget=V,P=R),V=P,_&&C)t:{for(R=_,T=C,E=0,b=R;b;b=js(b))E++;for(b=0,P=T;P;P=js(P))b++;for(;0<E-b;)R=js(R),E--;for(;0<b-E;)T=js(T),b--;for(;E--;){if(R===T||T!==null&&R===T.alternate)break t;R=js(R),T=js(T)}R=null}else R=null;_!==null&&wm(m,g,_,R,!1),C!==null&&V!==null&&wm(m,V,C,R,!0)}}e:{if(g=d?qs(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var L=U1;else if(hm(g))if(py)L=H1;else{L=$1;var F=B1}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=q1);if(L&&(L=L(t,d))){fy(m,L,n,p);break e}F&&F(t,g,d),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Xc(g,"number",g.value)}switch(F=d?qs(d):window,t){case"focusin":(hm(F)||F.contentEditable==="true")&&(Bs=F,ud=d,mo=null);break;case"focusout":mo=ud=Bs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,ym(m,n,p);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":ym(m,n,p)}var w;if(Ph)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Us?dy(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(cy&&n.locale!=="ko"&&(Us||y!=="onCompositionStart"?y==="onCompositionEnd"&&Us&&(w=uy()):(Tr=p,Ah="value"in Tr?Tr.value:Tr.textContent,Us=!0)),F=Sl(d,y),0<F.length&&(y=new lm(y,t,null,n,p),m.push({event:y,listeners:F}),w?y.data=w:(w=hy(n),w!==null&&(y.data=w)))),(w=L1?M1(t,n):O1(t,n))&&(d=Sl(d,"onBeforeInput"),0<d.length&&(p=new lm("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=w))}Iy(m,e)})}function Mo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ro(t,n),i!=null&&r.unshift(Mo(t,i,s)),i=Ro(t,e),i!=null&&r.push(Mo(t,i,s))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wm(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,s?(u=Ro(n,i),u!=null&&o.unshift(Mo(n,u,l))):s||(u=Ro(n,i),u!=null&&o.push(Mo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var J1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function xm(t){return(typeof t=="string"?t:""+t).replace(J1,`
`).replace(Z1,"")}function $a(t,e,n){if(e=xm(e),xm(t)!==e&&n)throw Error($(425))}function Cl(){}var dd=null,hd=null;function fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(t){return Em.resolve(null).then(t).catch(nE)}:pd;function nE(t){setTimeout(function(){throw t})}function yc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Do(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Do(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Ci,Oo="__reactProps$"+Ci,ir="__reactContainer$"+Ci,md="__reactEvents$"+Ci,rE="__reactListeners$"+Ci,sE="__reactHandles$"+Ci;function us(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bm(t);t!==null;){if(n=t[Vn])return n;t=bm(t)}return e}t=n,n=t.parentNode}return null}function ia(t){return t=t[Vn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function hu(t){return t[Oo]||null}var gd=[],Hs=-1;function Gr(t){return{current:t}}function Ue(t){0>Hs||(t.current=gd[Hs],gd[Hs]=null,Hs--)}function Le(t,e){Hs++,gd[Hs]=t.current,t.current=e}var zr={},Nt=Gr(zr),qt=Gr(!1),gs=zr;function ai(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(t){return t=t.childContextTypes,t!=null}function Al(){Ue(qt),Ue(Nt)}function Im(t,e,n){if(Nt.current!==zr)throw Error($(168));Le(Nt,e),Le(qt,n)}function Ty(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,Bx(t)||"Unknown",s));return Ge({},n,r)}function Rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,gs=Nt.current,Le(Nt,t),Le(qt,qt.current),!0}function km(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Ty(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Ue(qt),Ue(Nt),Le(Nt,t)):Ue(qt),Le(qt,n)}var Xn=null,fu=!1,vc=!1;function Sy(t){Xn===null?Xn=[t]:Xn.push(t)}function iE(t){fu=!0,Sy(t)}function Kr(){if(!vc&&Xn!==null){vc=!0;var t=0,e=Ae;try{var n=Xn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,fu=!1}catch(s){throw Xn!==null&&(Xn=Xn.slice(t+1)),J0(kh,Kr),s}finally{Ae=e,vc=!1}}return null}var Ws=[],Gs=0,Nl=null,Pl=0,un=[],cn=0,ys=null,Zn=1,er="";function os(t,e){Ws[Gs++]=Pl,Ws[Gs++]=Nl,Nl=t,Pl=e}function Cy(t,e,n){un[cn++]=Zn,un[cn++]=er,un[cn++]=ys,ys=t;var r=Zn;t=er;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-bn(e)+s|n<<s|r,er=i+t}else Zn=1<<i|n<<s|r,er=t}function Vh(t){t.return!==null&&(os(t,1),Cy(t,1,0))}function jh(t){for(;t===Nl;)Nl=Ws[--Gs],Ws[Gs]=null,Pl=Ws[--Gs],Ws[Gs]=null;for(;t===ys;)ys=un[--cn],un[cn]=null,er=un[--cn],un[cn]=null,Zn=un[--cn],un[cn]=null}var nn=null,en=null,$e=!1,En=null;function Ay(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vd(t){if($e){var e=en;if(e){var n=e;if(!Tm(t,e)){if(yd(t))throw Error($(418));e=Pr(n.nextSibling);var r=nn;e&&Tm(t,e)?Ay(r,n):(t.flags=t.flags&-4097|2,$e=!1,nn=t)}}else{if(yd(t))throw Error($(418));t.flags=t.flags&-4097|2,$e=!1,nn=t}}}function Sm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function qa(t){if(t!==nn)return!1;if(!$e)return Sm(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fd(t.type,t.memoizedProps)),e&&(e=en)){if(yd(t))throw Ry(),Error($(418));for(;e;)Ay(t,e),e=Pr(e.nextSibling)}if(Sm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?Pr(t.stateNode.nextSibling):null;return!0}function Ry(){for(var t=en;t;)t=Pr(t.nextSibling)}function li(){en=nn=null,$e=!1}function Lh(t){En===null?En=[t]:En.push(t)}var oE=fr.ReactCurrentBatchConfig;function Xi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ha(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cm(t){var e=t._init;return e(t._payload)}function Ny(t){function e(T,E){if(t){var b=T.deletions;b===null?(T.deletions=[E],T.flags|=16):b.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function s(T,E){return T=Lr(T,E),T.index=0,T.sibling=null,T}function i(T,E,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<E?(T.flags|=2,E):b):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,E,b,P){return E===null||E.tag!==6?(E=kc(b,T.mode,P),E.return=T,E):(E=s(E,b),E.return=T,E)}function u(T,E,b,P){var L=b.type;return L===zs?p(T,E,b.props.children,P,b.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xr&&Cm(L)===E.type)?(P=s(E,b.props),P.ref=Xi(T,E,b),P.return=T,P):(P=fl(b.type,b.key,b.props,null,T.mode,P),P.ref=Xi(T,E,b),P.return=T,P)}function d(T,E,b,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Tc(b,T.mode,P),E.return=T,E):(E=s(E,b.children||[]),E.return=T,E)}function p(T,E,b,P,L){return E===null||E.tag!==7?(E=ps(b,T.mode,P,L),E.return=T,E):(E=s(E,b),E.return=T,E)}function m(T,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=kc(""+E,T.mode,b),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Va:return b=fl(E.type,E.key,E.props,null,T.mode,b),b.ref=Xi(T,null,E),b.return=T,b;case Fs:return E=Tc(E,T.mode,b),E.return=T,E;case xr:var P=E._init;return m(T,P(E._payload),b)}if(no(E)||Wi(E))return E=ps(E,T.mode,b,null),E.return=T,E;Ha(T,E)}return null}function g(T,E,b,P){var L=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:l(T,E,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Va:return b.key===L?u(T,E,b,P):null;case Fs:return b.key===L?d(T,E,b,P):null;case xr:return L=b._init,g(T,E,L(b._payload),P)}if(no(b)||Wi(b))return L!==null?null:p(T,E,b,P,null);Ha(T,b)}return null}function _(T,E,b,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return T=T.get(b)||null,l(E,T,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Va:return T=T.get(P.key===null?b:P.key)||null,u(E,T,P,L);case Fs:return T=T.get(P.key===null?b:P.key)||null,d(E,T,P,L);case xr:var F=P._init;return _(T,E,b,F(P._payload),L)}if(no(P)||Wi(P))return T=T.get(b)||null,p(E,T,P,L,null);Ha(E,P)}return null}function C(T,E,b,P){for(var L=null,F=null,w=E,y=E=0,x=null;w!==null&&y<b.length;y++){w.index>y?(x=w,w=null):x=w.sibling;var I=g(T,w,b[y],P);if(I===null){w===null&&(w=x);break}t&&w&&I.alternate===null&&e(T,w),E=i(I,E,y),F===null?L=I:F.sibling=I,F=I,w=x}if(y===b.length)return n(T,w),$e&&os(T,y),L;if(w===null){for(;y<b.length;y++)w=m(T,b[y],P),w!==null&&(E=i(w,E,y),F===null?L=w:F.sibling=w,F=w);return $e&&os(T,y),L}for(w=r(T,w);y<b.length;y++)x=_(w,T,y,b[y],P),x!==null&&(t&&x.alternate!==null&&w.delete(x.key===null?y:x.key),E=i(x,E,y),F===null?L=x:F.sibling=x,F=x);return t&&w.forEach(function(S){return e(T,S)}),$e&&os(T,y),L}function R(T,E,b,P){var L=Wi(b);if(typeof L!="function")throw Error($(150));if(b=L.call(b),b==null)throw Error($(151));for(var F=L=null,w=E,y=E=0,x=null,I=b.next();w!==null&&!I.done;y++,I=b.next()){w.index>y?(x=w,w=null):x=w.sibling;var S=g(T,w,I.value,P);if(S===null){w===null&&(w=x);break}t&&w&&S.alternate===null&&e(T,w),E=i(S,E,y),F===null?L=S:F.sibling=S,F=S,w=x}if(I.done)return n(T,w),$e&&os(T,y),L;if(w===null){for(;!I.done;y++,I=b.next())I=m(T,I.value,P),I!==null&&(E=i(I,E,y),F===null?L=I:F.sibling=I,F=I);return $e&&os(T,y),L}for(w=r(T,w);!I.done;y++,I=b.next())I=_(w,T,y,I.value,P),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?y:I.key),E=i(I,E,y),F===null?L=I:F.sibling=I,F=I);return t&&w.forEach(function(N){return e(T,N)}),$e&&os(T,y),L}function V(T,E,b,P){if(typeof b=="object"&&b!==null&&b.type===zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Va:e:{for(var L=b.key,F=E;F!==null;){if(F.key===L){if(L=b.type,L===zs){if(F.tag===7){n(T,F.sibling),E=s(F,b.props.children),E.return=T,T=E;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xr&&Cm(L)===F.type){n(T,F.sibling),E=s(F,b.props),E.ref=Xi(T,F,b),E.return=T,T=E;break e}n(T,F);break}else e(T,F);F=F.sibling}b.type===zs?(E=ps(b.props.children,T.mode,P,b.key),E.return=T,T=E):(P=fl(b.type,b.key,b.props,null,T.mode,P),P.ref=Xi(T,E,b),P.return=T,T=P)}return o(T);case Fs:e:{for(F=b.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(T,E.sibling),E=s(E,b.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Tc(b,T.mode,P),E.return=T,T=E}return o(T);case xr:return F=b._init,V(T,E,F(b._payload),P)}if(no(b))return C(T,E,b,P);if(Wi(b))return R(T,E,b,P);Ha(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(T,E.sibling),E=s(E,b),E.return=T,T=E):(n(T,E),E=kc(b,T.mode,P),E.return=T,T=E),o(T)):n(T,E)}return V}var ui=Ny(!0),Py=Ny(!1),Dl=Gr(null),Vl=null,Ks=null,Mh=null;function Oh(){Mh=Ks=Vl=null}function Fh(t){var e=Dl.current;Ue(Dl),t._currentValue=e}function _d(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ni(t,e){Vl=t,Mh=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Mh!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(Vl===null)throw Error($(308));Ks=t,Vl.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var cs=null;function zh(t){cs===null?cs=[t]:cs.push(t)}function Dy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zh(e)):(n.next=s.next,s.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function Uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,or(t,n)}return s=r.interleaved,s===null?(e.next=e,zh(r)):(e.next=s.next,s.next=e),r.interleaved=e,or(t,n)}function al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Th(t,n)}}function Am(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jl(t,e,n,r){var s=t.updateQueue;Er=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,p=d=u=null,l=i;do{var g=l.lane,_=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,R=l;switch(g=e,_=n,R.tag){case 1:if(C=R.payload,typeof C=="function"){m=C.call(_,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=R.payload,g=typeof C=="function"?C.call(_,m,g):C,g==null)break e;m=Ge({},m,g);break e;case 2:Er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=_,u=m):p=p.next=_,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(u=m),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=m}}function Rm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var oa={},On=Gr(oa),Fo=Gr(oa),zo=Gr(oa);function ds(t){if(t===oa)throw Error($(174));return t}function Bh(t,e){switch(Le(zo,e),Le(Fo,t),Le(On,oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zc(e,t)}Ue(On),Le(On,e)}function ci(){Ue(On),Ue(Fo),Ue(zo)}function jy(t){ds(zo.current);var e=ds(On.current),n=Zc(e,t.type);e!==n&&(Le(Fo,t),Le(On,n))}function $h(t){Fo.current===t&&(Ue(On),Ue(Fo))}var He=Gr(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _c=[];function qh(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var ll=fr.ReactCurrentDispatcher,wc=fr.ReactCurrentBatchConfig,vs=0,We=null,it=null,ct=null,Ml=!1,go=!1,Uo=0,aE=0;function kt(){throw Error($(321))}function Hh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function Wh(t,e,n,r,s,i){if(vs=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?dE:hE,t=n(r,s),go){i=0;do{if(go=!1,Uo=0,25<=i)throw Error($(301));i+=1,ct=it=null,e.updateQueue=null,ll.current=fE,t=n(r,s)}while(go)}if(ll.current=Ol,e=it!==null&&it.next!==null,vs=0,ct=it=We=null,Ml=!1,e)throw Error($(300));return t}function Gh(){var t=Uo!==0;return Uo=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?We.memoizedState=ct=t:ct=ct.next=t,ct}function mn(){if(it===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ct===null?We.memoizedState:ct.next;if(e!==null)ct=e,it=t;else{if(t===null)throw Error($(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?We.memoizedState=ct=t:ct=ct.next=t}return ct}function Bo(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=mn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=it,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,d=i;do{var p=d.lane;if((vs&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,We.lanes|=p,_s|=p}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=l,kn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,_s|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ec(t){var e=mn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);kn(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ly(){}function My(t,e){var n=We,r=mn(),s=e(),i=!kn(r.memoizedState,s);if(i&&(r.memoizedState=s,$t=!0),r=r.queue,Kh(zy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,$o(9,Fy.bind(null,n,r,s,e),void 0,null),ht===null)throw Error($(349));vs&30||Oy(n,e,s)}return s}function Oy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fy(t,e,n,r){e.value=n,e.getSnapshot=r,Uy(e)&&By(t)}function zy(t,e,n){return n(function(){Uy(e)&&By(t)})}function Uy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function By(t){var e=or(t,1);e!==null&&In(e,t,1,-1)}function Nm(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},e.queue=t,t=t.dispatch=cE.bind(null,We,t),[e.memoizedState,t]}function $o(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $y(){return mn().memoizedState}function ul(t,e,n,r){var s=Dn();We.flags|=t,s.memoizedState=$o(1|e,n,void 0,r===void 0?null:r)}function pu(t,e,n,r){var s=mn();r=r===void 0?null:r;var i=void 0;if(it!==null){var o=it.memoizedState;if(i=o.destroy,r!==null&&Hh(r,o.deps)){s.memoizedState=$o(e,n,i,r);return}}We.flags|=t,s.memoizedState=$o(1|e,n,i,r)}function Pm(t,e){return ul(8390656,8,t,e)}function Kh(t,e){return pu(2048,8,t,e)}function qy(t,e){return pu(4,2,t,e)}function Hy(t,e){return pu(4,4,t,e)}function Wy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gy(t,e,n){return n=n!=null?n.concat([t]):null,pu(4,4,Wy.bind(null,e,t),n)}function Qh(){}function Ky(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qy(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yy(t,e,n){return vs&21?(kn(n,e)||(n=ty(),We.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function lE(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=wc.transition;wc.transition={};try{t(!1),e()}finally{Ae=n,wc.transition=r}}function Xy(){return mn().memoizedState}function uE(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jy(t))Zy(e,n);else if(n=Dy(t,e,n,r),n!==null){var s=Mt();In(n,t,r,s),ev(n,e,r)}}function cE(t,e,n){var r=jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jy(t))Zy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,kn(l,o)){var u=e.interleaved;u===null?(s.next=s,zh(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Dy(t,e,s,r),n!==null&&(s=Mt(),In(n,t,r,s),ev(n,e,r))}}function Jy(t){var e=t.alternate;return t===We||e!==null&&e===We}function Zy(t,e){go=Ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ev(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Th(t,n)}}var Ol={readContext:pn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},dE={readContext:pn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Pm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ul(4194308,4,Wy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return ul(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uE.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:Nm,useDebugValue:Qh,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=Nm(!1),e=t[0];return t=lE.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=Dn();if($e){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ht===null)throw Error($(349));vs&30||Oy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pm(zy.bind(null,r,i,t),[t]),r.flags|=2048,$o(9,Fy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dn(),e=ht.identifierPrefix;if($e){var n=er,r=Zn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hE={readContext:pn,useCallback:Ky,useContext:pn,useEffect:Kh,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Qy,useReducer:xc,useRef:$y,useState:function(){return xc(Bo)},useDebugValue:Qh,useDeferredValue:function(t){var e=mn();return Yy(e,it.memoizedState,t)},useTransition:function(){var t=xc(Bo)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Ly,useSyncExternalStore:My,useId:Xy,unstable_isNewReconciler:!1},fE={readContext:pn,useCallback:Ky,useContext:pn,useEffect:Kh,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Qy,useReducer:Ec,useRef:$y,useState:function(){return Ec(Bo)},useDebugValue:Qh,useDeferredValue:function(t){var e=mn();return it===null?e.memoizedState=t:Yy(e,it.memoizedState,t)},useTransition:function(){var t=Ec(Bo)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Ly,useSyncExternalStore:My,useId:Xy,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mu={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=jr(t),i=tr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Dr(t,i,s),e!==null&&(In(e,t,s,r),al(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=jr(t),i=tr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Dr(t,i,s),e!==null&&(In(e,t,s,r),al(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=jr(t),s=tr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Dr(t,s,r),e!==null&&(In(e,t,r,n),al(e,t,r))}};function Dm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jo(n,r)||!jo(s,i):!0}function tv(t,e,n){var r=!1,s=zr,i=e.contextType;return typeof i=="object"&&i!==null?i=pn(i):(s=Ht(e)?gs:Nt.current,r=e.contextTypes,i=(r=r!=null)?ai(t,s):zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mu.enqueueReplaceState(e,e.state,null)}function xd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Uh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pn(i):(i=Ht(e)?gs:Nt.current,s.context=ai(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mu.enqueueReplaceState(s,s.state,null),jl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function di(t,e){try{var n="",r=e;do n+=Ux(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ed(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pE=typeof WeakMap=="function"?WeakMap:Map;function nv(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zl||(zl=!0,Pd=r),Ed(t,e)},n}function rv(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ed(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ed(t,e),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pE;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CE.bind(null,t,e,n),e.then(t,t))}function Lm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Dr(n,e,1))),n.lanes|=1),t)}var mE=fr.ReactCurrentOwner,$t=!1;function jt(t,e,n,r){e.child=t===null?Py(e,null,n,r):ui(e,t.child,n,r)}function Om(t,e,n,r,s){n=n.render;var i=e.ref;return ni(e,s),r=Wh(t,e,n,r,i,s),n=Gh(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ar(t,e,s)):($e&&n&&Vh(e),e.flags|=1,jt(t,e,r,s),e.child)}function Fm(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!rf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sv(t,e,i,r,s)):(t=fl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(o,r)&&t.ref===e.ref)return ar(t,e,s)}return e.flags|=1,t=Lr(i,r),t.ref=e.ref,t.return=e,e.child=t}function sv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jo(i,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,ar(t,e,s)}return bd(t,e,n,r,s)}function iv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ys,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ys,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(Ys,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(Ys,Zt),Zt|=r;return jt(t,e,s,n),e.child}function ov(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bd(t,e,n,r,s){var i=Ht(n)?gs:Nt.current;return i=ai(e,i),ni(e,s),n=Wh(t,e,n,r,i,s),r=Gh(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ar(t,e,s)):($e&&r&&Vh(e),e.flags|=1,jt(t,e,n,s),e.child)}function zm(t,e,n,r,s){if(Ht(n)){var i=!0;Rl(e)}else i=!1;if(ni(e,s),e.stateNode===null)cl(t,e),tv(e,n,r),xd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Ht(n)?gs:Nt.current,d=ai(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&Vm(e,o,r,d),Er=!1;var g=e.memoizedState;o.state=g,jl(e,r,o,s),u=e.memoizedState,l!==r||g!==u||qt.current||Er?(typeof p=="function"&&(wd(e,n,p,r),u=e.memoizedState),(l=Er||Dm(e,n,l,r,g,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vy(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_n(e.type,l),o.props=d,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=Ht(n)?gs:Nt.current,u=ai(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&Vm(e,o,r,u),Er=!1,g=e.memoizedState,o.state=g,jl(e,r,o,s);var C=e.memoizedState;l!==m||g!==C||qt.current||Er?(typeof _=="function"&&(wd(e,n,_,r),C=e.memoizedState),(d=Er||Dm(e,n,d,r,g,C,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Id(t,e,n,r,i,s)}function Id(t,e,n,r,s,i){ov(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&km(e,n,!1),ar(t,e,i);r=e.stateNode,mE.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ui(e,t.child,null,i),e.child=ui(e,null,l,i)):jt(t,e,l,i),e.memoizedState=r.state,s&&km(e,n,!0),e.child}function av(t){var e=t.stateNode;e.pendingContext?Im(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Im(t,e.context,!1),Bh(t,e.containerInfo)}function Um(t,e,n,r,s){return li(),Lh(s),e.flags|=256,jt(t,e,n,r),e.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Td(t){return{baseLanes:t,cachePool:null,transitions:null}}function lv(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(He,s&1),t===null)return vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,r,0,null),t=ps(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Td(n),e.memoizedState=kd,t):Yh(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gE(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Lr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Lr(l,i):(i=ps(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Td(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=kd,r}return i=t.child,t=i.sibling,r=Lr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yh(t,e){return e=vu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wa(t,e,n,r){return r!==null&&Lh(r),ui(e,t.child,null,n),t=Yh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gE(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bc(Error($(422))),Wa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vu({mode:"visible",children:r.children},s,0,null),i=ps(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ui(e,t.child,null,o),e.child.memoizedState=Td(o),e.memoizedState=kd,i);if(!(e.mode&1))return Wa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=bc(i,r,void 0),Wa(t,e,o,r)}if(l=(o&t.childLanes)!==0,$t||l){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(t,s),In(r,t,s,-1))}return nf(),r=bc(Error($(421))),Wa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AE.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,en=Pr(s.nextSibling),nn=e,$e=!0,En=null,t!==null&&(un[cn++]=Zn,un[cn++]=er,un[cn++]=ys,Zn=t.id,er=t.overflow,ys=e),e=Yh(e,r.children),e.flags|=4096,e)}function Bm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_d(t.return,e,n)}function Ic(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bm(t,n,e);else if(t.tag===19)Bm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ic(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ll(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ic(e,!0,n,null,i);break;case"together":Ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yE(t,e,n){switch(e.tag){case 3:av(e),li();break;case 5:jy(e);break;case 1:Ht(e.type)&&Rl(e);break;case 4:Bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Dl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?lv(t,e,n):(Le(He,He.current&1),t=ar(t,e,n),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,iv(t,e,n)}return ar(t,e,n)}var cv,Sd,dv,hv;cv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sd=function(){};dv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ds(On.current);var i=null;switch(n){case"input":s=Qc(t,s),r=Qc(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=Jc(t,s),r=Jc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cl)}ed(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Co.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Co.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Fe("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};hv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ji(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vE(t,e,n){var r=e.pendingProps;switch(jh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ht(e.type)&&Al(),Tt(e),null;case 3:return r=e.stateNode,ci(),Ue(qt),Ue(Nt),qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(jd(En),En=null))),Sd(t,e),Tt(e),null;case 5:$h(e);var s=ds(zo.current);if(n=e.type,t!==null&&e.stateNode!=null)dv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Tt(e),null}if(t=ds(On.current),qa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vn]=e,r[Oo]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<so.length;s++)Fe(so[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Xp(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Zp(r,i),Fe("invalid",r)}ed(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$a(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$a(r.textContent,l,t),s=["children",""+l]):Co.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":ja(r),Jp(r,i,!0);break;case"textarea":ja(r),em(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Oo]=r,cv(t,e,!1,!1),e.stateNode=t;e:{switch(o=td(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<so.length;s++)Fe(so[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":Xp(t,r),s=Qc(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Zp(t,r),s=Jc(t,r),Fe("invalid",t);break;default:s=r}ed(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?$0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&U0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ao(t,u):typeof u=="number"&&Ao(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Co.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Fe("scroll",t):u!=null&&wh(t,i,u,o))}switch(n){case"input":ja(t),Jp(t,r,!1);break;case"textarea":ja(t),em(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)hv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ds(zo.current),ds(On.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:$a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$a(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Ue(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&en!==null&&e.mode&1&&!(e.flags&128))Ry(),li(),e.flags|=98560,i=!1;else if(i=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Vn]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else En!==null&&(jd(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?at===0&&(at=3):nf())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return ci(),Sd(t,e),t===null&&Lo(e.stateNode.containerInfo),Tt(e),null;case 10:return Fh(e.type._context),Tt(e),null;case 17:return Ht(e.type)&&Al(),Tt(e),null;case 19:if(Ue(He),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ji(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ll(t),o!==null){for(e.flags|=128,Ji(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&Je()>hi&&(e.flags|=128,r=!0,Ji(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Tt(e),null}else 2*Je()-i.renderingStartTime>hi&&n!==1073741824&&(e.flags|=128,r=!0,Ji(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,n=He.current,Le(He,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return tf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function _E(t,e){switch(jh(e),e.tag){case 1:return Ht(e.type)&&Al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ci(),Ue(qt),Ue(Nt),qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $h(e),null;case 13:if(Ue(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(He),null;case 4:return ci(),null;case 10:return Fh(e.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Ga=!1,At=!1,wE=typeof WeakSet=="function"?WeakSet:Set,G=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Cd(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var $m=!1;function xE(t,e){if(dd=kl,t=yy(),Dh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,p=0,m=t,g=null;t:for(;;){for(var _;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===t)break t;if(g===n&&++d===s&&(l=o),g===i&&++p===r&&(u=o),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hd={focusedElem:t,selectionRange:n},kl=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var R=C.memoizedProps,V=C.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:_n(e.type,R),V);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){Ye(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return C=$m,$m=!1,C}function yo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cd(e,n,i)}s=s.next}while(s!==r)}}function gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ad(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fv(t){var e=t.alternate;e!==null&&(t.alternate=null,fv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Oo],delete e[md],delete e[rE],delete e[sE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pv(t){return t.tag===5||t.tag===3||t.tag===4}function qm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cl));else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}var mt=null,wn=!1;function wr(t,e,n){for(n=n.child;n!==null;)mv(t,e,n),n=n.sibling}function mv(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(lu,n)}catch{}switch(n.tag){case 5:At||Qs(n,e);case 6:var r=mt,s=wn;mt=null,wr(t,e,n),mt=r,wn=s,mt!==null&&(wn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(wn?(t=mt,n=n.stateNode,t.nodeType===8?yc(t.parentNode,n):t.nodeType===1&&yc(t,n),Do(t)):yc(mt,n.stateNode));break;case 4:r=mt,s=wn,mt=n.stateNode.containerInfo,wn=!0,wr(t,e,n),mt=r,wn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cd(n,e,o),s=s.next}while(s!==r)}wr(t,e,n);break;case 1:if(!At&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ye(n,e,l)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,wr(t,e,n),At=r):wr(t,e,n);break;default:wr(t,e,n)}}function Hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wE),e.forEach(function(r){var s=RE.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,wn=!1;break e;case 3:mt=l.stateNode.containerInfo,wn=!0;break e;case 4:mt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(mt===null)throw Error($(160));mv(i,o,s),mt=null,wn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Ye(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gv(e,t),e=e.sibling}function gv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Pn(t),r&4){try{yo(3,t,t.return),gu(3,t)}catch(R){Ye(t,t.return,R)}try{yo(5,t,t.return)}catch(R){Ye(t,t.return,R)}}break;case 1:vn(e,t),Pn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(vn(e,t),Pn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var s=t.stateNode;try{Ao(s,"")}catch(R){Ye(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&O0(s,i),td(l,o);var d=td(l,i);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?$0(s,m):p==="dangerouslySetInnerHTML"?U0(s,m):p==="children"?Ao(s,m):wh(s,p,m,d)}switch(l){case"input":Yc(s,i);break;case"textarea":F0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Js(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oo]=i}catch(R){Ye(t,t.return,R)}}break;case 6:if(vn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){Ye(t,t.return,R)}}break;case 3:if(vn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(R){Ye(t,t.return,R)}break;case 4:vn(e,t),Pn(t);break;case 13:vn(e,t),Pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zh=Je())),r&4&&Hm(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(At=(d=At)||p,vn(e,t),At=d):vn(e,t),Pn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(G=t,p=t.child;p!==null;){for(m=G=p;G!==null;){switch(g=G,_=g.child,g.tag){case 0:case 11:case 14:case 15:yo(4,g,g.return);break;case 1:Qs(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(R){Ye(r,n,R)}}break;case 5:Qs(g,g.return);break;case 22:if(g.memoizedState!==null){Gm(m);continue}}_!==null?(_.return=g,G=_):Gm(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=B0("display",o))}catch(R){Ye(t,t.return,R)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(R){Ye(t,t.return,R)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vn(e,t),Pn(t),r&4&&Hm(t);break;case 21:break;default:vn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pv(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ao(s,""),r.flags&=-33);var i=qm(t);Nd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qm(t);Rd(t,l,o);break;default:throw Error($(161))}}catch(u){Ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EE(t,e,n){G=t,yv(t)}function yv(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ga;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||At;l=Ga;var d=At;if(Ga=o,(At=u)&&!d)for(G=s;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Km(s):u!==null?(u.return=o,G=u):Km(s);for(;i!==null;)G=i,yv(i),i=i.sibling;G=s,Ga=l,At=d}Wm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Wm(t)}}function Wm(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||gu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Do(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}At||e.flags&512&&Ad(e)}catch(g){Ye(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Gm(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Km(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gu(4,e)}catch(u){Ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ye(e,s,u)}}var i=e.return;try{Ad(e)}catch(u){Ye(e,i,u)}break;case 5:var o=e.return;try{Ad(e)}catch(u){Ye(e,o,u)}}}catch(u){Ye(e,e.return,u)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var bE=Math.ceil,Fl=fr.ReactCurrentDispatcher,Xh=fr.ReactCurrentOwner,hn=fr.ReactCurrentBatchConfig,be=0,ht=null,nt=null,vt=0,Zt=0,Ys=Gr(0),at=0,qo=null,_s=0,yu=0,Jh=0,vo=null,Ut=null,Zh=0,hi=1/0,Yn=null,zl=!1,Pd=null,Vr=null,Ka=!1,Sr=null,Ul=0,_o=0,Dd=null,dl=-1,hl=0;function Mt(){return be&6?Je():dl!==-1?dl:dl=Je()}function jr(t){return t.mode&1?be&2&&vt!==0?vt&-vt:oE.transition!==null?(hl===0&&(hl=ty()),hl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:ly(t.type)),t):1}function In(t,e,n,r){if(50<_o)throw _o=0,Dd=null,Error($(185));ra(t,n,r),(!(be&2)||t!==ht)&&(t===ht&&(!(be&2)&&(yu|=n),at===4&&kr(t,vt)),Wt(t,r),n===1&&be===0&&!(e.mode&1)&&(hi=Je()+500,fu&&Kr()))}function Wt(t,e){var n=t.callbackNode;o1(t,e);var r=Il(t,t===ht?vt:0);if(r===0)n!==null&&rm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rm(n),e===1)t.tag===0?iE(Qm.bind(null,t)):Sy(Qm.bind(null,t)),tE(function(){!(be&6)&&Kr()}),n=null;else{switch(ny(r)){case 1:n=kh;break;case 4:n=Z0;break;case 16:n=bl;break;case 536870912:n=ey;break;default:n=bl}n=kv(n,vv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vv(t,e){if(dl=-1,hl=0,be&6)throw Error($(327));var n=t.callbackNode;if(ri()&&t.callbackNode!==n)return null;var r=Il(t,t===ht?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bl(t,r);else{e=r;var s=be;be|=2;var i=wv();(ht!==t||vt!==e)&&(Yn=null,hi=Je()+500,fs(t,e));do try{TE();break}catch(l){_v(t,l)}while(!0);Oh(),Fl.current=i,be=s,nt!==null?e=0:(ht=null,vt=0,e=at)}if(e!==0){if(e===2&&(s=od(t),s!==0&&(r=s,e=Vd(t,s))),e===1)throw n=qo,fs(t,0),kr(t,r),Wt(t,Je()),n;if(e===6)kr(t,r);else{if(s=t.current.alternate,!(r&30)&&!IE(s)&&(e=Bl(t,r),e===2&&(i=od(t),i!==0&&(r=i,e=Vd(t,i))),e===1))throw n=qo,fs(t,0),kr(t,r),Wt(t,Je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:as(t,Ut,Yn);break;case 3:if(kr(t,r),(r&130023424)===r&&(e=Zh+500-Je(),10<e)){if(Il(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=pd(as.bind(null,t,Ut,Yn),e);break}as(t,Ut,Yn);break;case 4:if(kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bE(r/1960))-r,10<r){t.timeoutHandle=pd(as.bind(null,t,Ut,Yn),r);break}as(t,Ut,Yn);break;case 5:as(t,Ut,Yn);break;default:throw Error($(329))}}}return Wt(t,Je()),t.callbackNode===n?vv.bind(null,t):null}function Vd(t,e){var n=vo;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=Bl(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&jd(e)),t}function jd(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function IE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kr(t,e){for(e&=~Jh,e&=~yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Qm(t){if(be&6)throw Error($(327));ri();var e=Il(t,0);if(!(e&1))return Wt(t,Je()),null;var n=Bl(t,e);if(t.tag!==0&&n===2){var r=od(t);r!==0&&(e=r,n=Vd(t,r))}if(n===1)throw n=qo,fs(t,0),kr(t,e),Wt(t,Je()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t,Ut,Yn),Wt(t,Je()),null}function ef(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(hi=Je()+500,fu&&Kr())}}function ws(t){Sr!==null&&Sr.tag===0&&!(be&6)&&ri();var e=be;be|=1;var n=hn.transition,r=Ae;try{if(hn.transition=null,Ae=1,t)return t()}finally{Ae=r,hn.transition=n,be=e,!(be&6)&&Kr()}}function tf(){Zt=Ys.current,Ue(Ys)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eE(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Al();break;case 3:ci(),Ue(qt),Ue(Nt),qh();break;case 5:$h(r);break;case 4:ci();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Fh(r.type._context);break;case 22:case 23:tf()}n=n.return}if(ht=t,nt=t=Lr(t.current,null),vt=Zt=e,at=0,qo=null,Jh=yu=_s=0,Ut=vo=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cs=null}return t}function _v(t,e){do{var n=nt;try{if(Oh(),ll.current=Ol,Ml){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ml=!1}if(vs=0,ct=it=We=null,go=!1,Uo=0,Xh.current=null,n===null||n.return===null){at=1,qo=e,nt=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=vt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=Lm(o);if(_!==null){_.flags&=-257,Mm(_,o,l,i,e),_.mode&1&&jm(i,d,e),e=_,u=d;var C=e.updateQueue;if(C===null){var R=new Set;R.add(u),e.updateQueue=R}else C.add(u);break e}else{if(!(e&1)){jm(i,d,e),nf();break e}u=Error($(426))}}else if($e&&l.mode&1){var V=Lm(o);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Mm(V,o,l,i,e),Lh(di(u,l));break e}}i=u=di(u,l),at!==4&&(at=2),vo===null?vo=[i]:vo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=nv(i,u,e);Am(i,T);break e;case 1:l=u;var E=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vr===null||!Vr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=rv(i,l,e);Am(i,P);break e}}i=i.return}while(i!==null)}Ev(n)}catch(L){e=L,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function wv(){var t=Fl.current;return Fl.current=Ol,t===null?Ol:t}function nf(){(at===0||at===3||at===2)&&(at=4),ht===null||!(_s&268435455)&&!(yu&268435455)||kr(ht,vt)}function Bl(t,e){var n=be;be|=2;var r=wv();(ht!==t||vt!==e)&&(Yn=null,fs(t,e));do try{kE();break}catch(s){_v(t,s)}while(!0);if(Oh(),be=n,Fl.current=r,nt!==null)throw Error($(261));return ht=null,vt=0,at}function kE(){for(;nt!==null;)xv(nt)}function TE(){for(;nt!==null&&!Xx();)xv(nt)}function xv(t){var e=Iv(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?Ev(t):nt=e,Xh.current=null}function Ev(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_E(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=vE(n,e,Zt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function as(t,e,n){var r=Ae,s=hn.transition;try{hn.transition=null,Ae=1,SE(t,e,n,r)}finally{hn.transition=s,Ae=r}return null}function SE(t,e,n,r){do ri();while(Sr!==null);if(be&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(a1(t,i),t===ht&&(nt=ht=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ka||(Ka=!0,kv(bl,function(){return ri(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var o=Ae;Ae=1;var l=be;be|=4,Xh.current=null,xE(t,n),gv(n,t),G1(hd),kl=!!dd,hd=dd=null,t.current=n,EE(n),Jx(),be=l,Ae=o,hn.transition=i}else t.current=n;if(Ka&&(Ka=!1,Sr=t,Ul=s),i=t.pendingLanes,i===0&&(Vr=null),t1(n.stateNode),Wt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,t=Pd,Pd=null,t;return Ul&1&&t.tag!==0&&ri(),i=t.pendingLanes,i&1?t===Dd?_o++:(_o=0,Dd=t):_o=0,Kr(),null}function ri(){if(Sr!==null){var t=ny(Ul),e=hn.transition,n=Ae;try{if(hn.transition=null,Ae=16>t?16:t,Sr===null)var r=!1;else{if(t=Sr,Sr=null,Ul=0,be&6)throw Error($(331));var s=be;for(be|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(G=d;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:yo(8,p,i)}var m=p.child;if(m!==null)m.return=p,G=m;else for(;G!==null;){p=G;var g=p.sibling,_=p.return;if(fv(p),p===d){G=null;break}if(g!==null){g.return=_,G=g;break}G=_}}}var C=i.alternate;if(C!==null){var R=C.child;if(R!==null){C.child=null;do{var V=R.sibling;R.sibling=null,R=V}while(R!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yo(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,G=T;break e}G=i.return}}var E=t.current;for(G=E;G!==null;){o=G;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,G=b;else e:for(o=E;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gu(9,l)}}catch(L){Ye(l,l.return,L)}if(l===o){G=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,G=P;break e}G=l.return}}if(be=s,Kr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(lu,t)}catch{}r=!0}return r}finally{Ae=n,hn.transition=e}}return!1}function Ym(t,e,n){e=di(n,e),e=nv(t,e,1),t=Dr(t,e,1),e=Mt(),t!==null&&(ra(t,1,e),Wt(t,e))}function Ye(t,e,n){if(t.tag===3)Ym(t,t,n);else for(;e!==null;){if(e.tag===3){Ym(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){t=di(n,t),t=rv(e,t,1),e=Dr(e,t,1),t=Mt(),e!==null&&(ra(e,1,t),Wt(e,t));break}}e=e.return}}function CE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>Je()-Zh?fs(t,0):Jh|=n),Wt(t,e)}function bv(t,e){e===0&&(t.mode&1?(e=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):e=1);var n=Mt();t=or(t,e),t!==null&&(ra(t,e,n),Wt(t,n))}function AE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bv(t,n)}function RE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),bv(t,n)}var Iv;Iv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,yE(t,e,n);$t=!!(t.flags&131072)}else $t=!1,$e&&e.flags&1048576&&Cy(e,Pl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cl(t,e),t=e.pendingProps;var s=ai(e,Nt.current);ni(e,n),s=Wh(null,e,r,t,s,n);var i=Gh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(i=!0,Rl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uh(e),s.updater=mu,e.stateNode=s,s._reactInternals=e,xd(e,r,t,n),e=Id(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&Vh(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PE(r),t=_n(r,t),s){case 0:e=bd(null,e,r,t,n);break e;case 1:e=zm(null,e,r,t,n);break e;case 11:e=Om(null,e,r,t,n);break e;case 14:e=Fm(null,e,r,_n(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),bd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),zm(t,e,r,s,n);case 3:e:{if(av(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Vy(t,e),jl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=di(Error($(423)),e),e=Um(t,e,r,n,s);break e}else if(r!==s){s=di(Error($(424)),e),e=Um(t,e,r,n,s);break e}else for(en=Pr(e.stateNode.containerInfo.firstChild),nn=e,$e=!0,En=null,n=Py(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){e=ar(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return jy(e),t===null&&vd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fd(r,s)?o=null:i!==null&&fd(r,i)&&(e.flags|=32),ov(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&vd(e),null;case 13:return lv(t,e,n);case 4:return Bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ui(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Om(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Dl,r._currentValue),r._currentValue=o,i!==null)if(kn(i.value,o)){if(i.children===s.children&&!qt.current){e=ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=tr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),_d(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_d(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ni(e,n),s=pn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),Fm(t,e,r,s,n);case 15:return sv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),cl(t,e),e.tag=1,Ht(r)?(t=!0,Rl(e)):t=!1,ni(e,n),tv(e,r,s),xd(e,r,s,n),Id(null,e,r,!0,t,n);case 19:return uv(t,e,n);case 22:return iv(t,e,n)}throw Error($(156,e.tag))};function kv(t,e){return J0(t,e)}function NE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new NE(t,e,n,r)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PE(t){if(typeof t=="function")return rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eh)return 11;if(t===bh)return 14}return 2}function Lr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")rf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return ps(n.children,s,i,e);case xh:o=8,s|=8;break;case Hc:return t=dn(12,n,e,s|2),t.elementType=Hc,t.lanes=i,t;case Wc:return t=dn(13,n,e,s),t.elementType=Wc,t.lanes=i,t;case Gc:return t=dn(19,n,e,s),t.elementType=Gc,t.lanes=i,t;case j0:return vu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D0:o=10;break e;case V0:o=9;break e;case Eh:o=11;break e;case bh:o=14;break e;case xr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ps(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function vu(t,e,n,r){return t=dn(22,t,r,e),t.elementType=j0,t.lanes=n,t.stateNode={isHidden:!1},t}function kc(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Tc(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DE(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sf(t,e,n,r,s,i,o,l,u){return t=new DE(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(i),t}function VE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tv(t){if(!t)return zr;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ht(n))return Ty(t,n,e)}return e}function Sv(t,e,n,r,s,i,o,l,u){return t=sf(n,r,!0,t,s,i,o,l,u),t.context=Tv(null),n=t.current,r=Mt(),s=jr(n),i=tr(r,s),i.callback=e??null,Dr(n,i,s),t.current.lanes=s,ra(t,s,r),Wt(t,r),t}function _u(t,e,n,r){var s=e.current,i=Mt(),o=jr(s);return n=Tv(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dr(s,e,o),t!==null&&(In(t,s,o,i),al(t,s,o)),o}function $l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function of(t,e){Xm(t,e),(t=t.alternate)&&Xm(t,e)}function jE(){return null}var Cv=typeof reportError=="function"?reportError:function(t){console.error(t)};function af(t){this._internalRoot=t}wu.prototype.render=af.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));_u(t,e,null,null)};wu.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){_u(null,t,null,null)}),e[ir]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=iy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&ay(t)}};function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jm(){}function LE(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=$l(o);i.call(d)}}var o=Sv(e,r,t,0,null,!1,!1,"",Jm);return t._reactRootContainer=o,t[ir]=o.current,Lo(t.nodeType===8?t.parentNode:t),ws(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=$l(u);l.call(d)}}var u=sf(t,0,!1,null,null,!1,!1,"",Jm);return t._reactRootContainer=u,t[ir]=u.current,Lo(t.nodeType===8?t.parentNode:t),ws(function(){_u(e,u,n,r)}),u}function Eu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=$l(o);l.call(u)}}_u(e,o,t,s)}else o=LE(n,e,t,s,r);return $l(o)}ry=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ro(e.pendingLanes);n!==0&&(Th(e,n|1),Wt(e,Je()),!(be&6)&&(hi=Je()+500,Kr()))}break;case 13:ws(function(){var r=or(t,1);if(r!==null){var s=Mt();In(r,t,1,s)}}),of(t,1)}};Sh=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Mt();In(e,t,134217728,n)}of(t,134217728)}};sy=function(t){if(t.tag===13){var e=jr(t),n=or(t,e);if(n!==null){var r=Mt();In(n,t,e,r)}of(t,e)}};iy=function(){return Ae};oy=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};rd=function(t,e,n){switch(e){case"input":if(Yc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hu(r);if(!s)throw Error($(90));M0(r),Yc(r,s)}}}break;case"textarea":F0(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};W0=ef;G0=ws;var ME={usingClientEntryPoint:!1,Events:[ia,qs,hu,q0,H0,ef]},Zi={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OE={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||jE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{lu=Qa.inject(OE),Mn=Qa}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ME;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(e))throw Error($(200));return VE(t,e,null,n)};sn.createRoot=function(t,e){if(!lf(t))throw Error($(299));var n=!1,r="",s=Cv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sf(t,1,!1,null,null,n,!1,r,s),t[ir]=e.current,Lo(t.nodeType===8?t.parentNode:t),new af(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Y0(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return ws(t)};sn.hydrate=function(t,e,n){if(!xu(e))throw Error($(200));return Eu(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!lf(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Cv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sv(e,null,t,1,n??null,s,!1,i,o),t[ir]=e.current,Lo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wu(e)};sn.render=function(t,e,n){if(!xu(e))throw Error($(200));return Eu(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!xu(t))throw Error($(40));return t._reactRootContainer?(ws(function(){Eu(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};sn.unstable_batchedUpdates=ef;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Eu(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function Av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Av)}catch(t){console.error(t)}}Av(),A0.exports=sn;var Xs=A0.exports,Zm=Xs;$c.createRoot=Zm.createRoot,$c.hydrateRoot=Zm.hydrateRoot;const Ce=()=>Math.random().toString(36).substring(2,9),fe="folder_default",ge="group_default",Ld="trip_group_default",Sc=[{name:"Amber",class:"bg-amber-50 text-amber-700 border-amber-200"},{name:"Blue",class:"bg-blue-50 text-blue-700 border-blue-200"},{name:"Purple",class:"bg-purple-50 text-purple-700 border-purple-200"},{name:"Emerald",class:"bg-emerald-50 text-emerald-700 border-emerald-200"},{name:"Slate",class:"bg-slate-50 text-slate-700 border-slate-200"},{name:"Red",class:"bg-red-50 text-red-700 border-red-200"},{name:"Orange",class:"bg-orange-50 text-orange-700 border-orange-200"},{name:"Teal",class:"bg-teal-50 text-teal-700 border-teal-200"},{name:"Pink",class:"bg-pink-50 text-pink-700 border-pink-200"},{name:"Indigo",class:"bg-indigo-50 text-indigo-700 border-indigo-200"}],Cc=[{id:"cat_tools",name:"/",color:"bg-amber-50 text-amber-700 border-amber-200"},{id:"cat_hardware",name:"/PCBA",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:"cat_cables",name:"/",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:"cat_software",name:"/",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:"cat_docs",name:"/",color:"bg-slate-50 text-slate-700 border-slate-200"}],FE=[{id:fe,name:" (Business)",isSystem:!0},{id:"folder_travel",name:" (Travel)",isSystem:!1}],zE=[{id:ge,folderId:fe,name:"",isSystem:!0},{id:"group_travel_default",folderId:"folder_travel",name:"",isSystem:!0}],UE=[{id:"item_stlink",folderId:fe,groupId:ge,category:"cat_tools",name:"ST-Link (U2-04)",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"U-4P-10",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"3.3v PWR-5",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"U-TTL-4 (WIFI)",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"-2",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"USB-3p -1",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"USB-3p -2",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_tools",name:"ROS3 (UR8UR10)",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"OSG PCBA ++",defaultVersion:"V1.6"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"ROS PVBA +Ozon",defaultVersion:"V1.73"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"ROSV",defaultVersion:"1.7"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"Ozone",defaultVersion:"122"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"ROS",defaultVersion:"9"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"Alpha Sensor",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_hardware",name:"PCB (/)",defaultVersion:""},{id:"item_charger",folderId:fe,groupId:ge,category:"cat_cables",name:" (1316)",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:" USB A to C ()",defaultVersion:"C1"},{id:"item_cable_white",folderId:fe,groupId:ge,category:"cat_cables",name:" USB A to C ()",defaultVersion:"C2"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:" USB A to C ()",defaultVersion:"C1"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:" USB A to C ()",defaultVersion:"C1"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:"USB PORT Hub",defaultVersion:"*1"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:"",defaultVersion:""},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:"",defaultVersion:"8"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_cables",name:" (CL+S1+)",defaultVersion:"2"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"S1_DFU",defaultVersion:"0624"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"S1_AP",defaultVersion:"0804"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"ROS_DFU",defaultVersion:"0624"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"ROS_AP",defaultVersion:"0730"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"OSG_DFU",defaultVersion:"0624"},{id:Ce(),folderId:fe,groupId:ge,category:"cat_software",name:"OSG_AP",defaultVersion:"0723"}],BE=[{id:"bundle_laptop",name:"",items:[{inventoryId:"item_charger",qty:1},{inventoryId:"item_cable_white",qty:1}]},{id:"bundle_burn",name:"",items:[{inventoryId:"item_stlink",qty:1}]}];/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},p)=>A.createElement("svg",{ref:p,...$E,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qE(t)}`,l].join(" "),...d},[...e.map(([m,g])=>A.createElement(m,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=de("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=de("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=de("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=de("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=de("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=de("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=de("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=de("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=de("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=de("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=de("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=de("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=de("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gb=({items:t,setItems:e,folders:n,setFolders:r,groups:s,setGroups:i,categories:o,setCategories:l,bundles:u,setBundles:d})=>{var Gn,Jr,Zr,Nn,qe;const[p,m]=A.useState("ITEMS"),[g,_]=A.useState(((Gn=n[0])==null?void 0:Gn.id)||fe),[C,R]=A.useState("ALL"),[V,T]=A.useState(""),[E,b]=A.useState("ALL"),[P,L]=A.useState(!1),[F,w]=A.useState(""),[y,x]=A.useState(((Jr=o[0])==null?void 0:Jr.id)||""),[I,S]=A.useState(""),[N,k]=A.useState(!1),[le,Ve]=A.useState(""),[ft,Te]=A.useState(!1),[q,Q]=A.useState(""),[Z,ve]=A.useState(!1),[ne,ue]=A.useState(!1),[Se,je]=A.useState(null),[U,X]=A.useState(""),[ce,pe]=A.useState(Sc[0].class),[M,ee]=A.useState(null),[re,he]=A.useState(!1),[Ne,Me]=A.useState(""),[Pe,Kt]=A.useState([]);A.useEffect(()=>{R("ALL")},[g]),A.useEffect(()=>{!y&&o.length>0&&x(o[0].id)},[o,y]);const Yr=((Zr=n.find(j=>j.id===g))==null?void 0:Zr.name)||"",Qt=s.filter(j=>j.folderId===g),Pt=((Nn=Qt.find(j=>j.isSystem))==null?void 0:Nn.id)||(Qt.length>0?Qt[0].id:ge),qn=j=>{window.confirm("")&&e(W=>W.filter(ie=>ie.id!==j))},pr=()=>{F.trim()&&(e(j=>[...j,{id:Math.random().toString(36).substring(2,9),folderId:g,groupId:C==="ALL"?Pt:C,name:F,category:y,defaultVersion:I}]),w(""),S(""),L(!1))},Hn=()=>{if(!le.trim())return;const j=Math.random().toString(36).substring(2,9);r(W=>[...W,{id:j,name:le,isSystem:!1}]),i(W=>[...W,{id:Math.random().toString(36).substring(2,9),folderId:j,name:"",isSystem:!0}]),Ve(""),k(!1),_(j)},mr=(j,W)=>{j.stopPropagation(),window.confirm("")&&(e(ie=>ie.map(te=>te.folderId===W?{...te,folderId:fe,groupId:ge}:te)),i(ie=>ie.filter(te=>te.folderId!==W)),r(ie=>ie.filter(te=>te.id!==W)),g===W&&_(fe))},Xr=()=>{if(!q.trim())return;const j={id:Math.random().toString(36).substring(2,9),folderId:g,name:q,isSystem:!1};i(W=>[...W,j]),Q(""),Te(!1),R(j.id)},Ze=(j,W)=>{j.stopPropagation(),window.confirm("")&&(e(ie=>ie.map(te=>te.groupId===W?{...te,groupId:Pt}:te)),i(ie=>ie.filter(te=>te.id!==W)),C===W&&R("ALL"))},Be=()=>{U.trim()&&(l(j=>[...j,{id:Math.random().toString(36).substring(2,9),name:U,color:ce}]),X(""),ue(!1))},Yt=()=>{!U.trim()||!Se||(l(j=>j.map(W=>W.id===Se?{...W,name:U,color:ce}:W)),je(null),X(""))},Cn=j=>{window.confirm("")&&l(W=>W.filter(ie=>ie.id!==j))},gr=()=>{he(!0),ee(null),Me(""),Kt([])},an=j=>{he(!0),ee(j.id),Me(j.name),Kt([...j.items])},An=()=>{if(!Ne.trim()){alert("");return}const j={id:M||Math.random().toString(36).substring(2,9),name:Ne,items:Pe};d(M?W=>W.map(ie=>ie.id===M?j:ie):W=>[...W,j]),he(!1),ee(null)},Rs=(j,W)=>{j.stopPropagation(),window.confirm("")&&d(ie=>ie.filter(te=>te.id!==W)),M===W&&he(!1)},Ns=j=>{Kt(W=>W.find(te=>te.inventoryId===j)?W.filter(te=>te.inventoryId!==j):[...W,{inventoryId:j,qty:1}])},Wn=(j,W)=>{Kt(ie=>ie.map(te=>te.inventoryId===j?{...te,qty:W}:te))},Rn=t.filter(j=>{if(p==="BUNDLES"&&re){const te=j.name.toLowerCase().includes(V.toLowerCase()),et=E==="ALL"||j.category===E;return te&&et}if(j.folderId!==g||C!=="ALL"&&j.groupId!==C)return!1;const W=j.name.toLowerCase().includes(V.toLowerCase()),ie=E==="ALL"||j.category===E;return W&&ie});Rn.sort((j,W)=>j.category.localeCompare(W.category));const Li=j=>o.find(W=>W.id===j)||{name:"",color:"bg-gray-100 text-gray-600 border-gray-200"};return h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-[600px]",children:[Z&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-lg shadow-2xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[h.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-800 dark:text-white",children:[h.jsx(ig,{size:20})," "]}),h.jsx("button",{onClick:()=>ve(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-500",children:h.jsx(Ln,{size:20})})]}),h.jsxs("div",{className:"p-4 overflow-y-auto flex-1 space-y-4",children:[(ne||Se)&&h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-3 rounded-lg border border-slate-200 dark:border-slate-700 space-y-3",children:[h.jsx("h4",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:Se?"":""}),h.jsx("div",{className:"flex gap-2",children:h.jsx("input",{autoFocus:!0,className:"flex-1 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white rounded px-2 py-1 text-sm outline-none focus:border-blue-500",placeholder:"",value:U,onChange:j=>X(j.target.value)})}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:""}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Sc.map((j,W)=>h.jsx("button",{onClick:()=>pe(j.class),className:`w-6 h-6 rounded-full border ${j.class.replace("bg-","bg-").replace("text-","text-").split(" ")[0]} ${ce===j.class?"ring-2 ring-offset-1 ring-slate-400":""}`,title:j.name},W))}),h.jsx("div",{className:`mt-2 text-xs px-2 py-1 rounded border w-fit ${ce}`,children:""})]}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsx("button",{onClick:Se?Yt:Be,className:"flex-1 bg-blue-600 text-white py-1 rounded text-sm hover:bg-blue-700",children:Se?"":""}),h.jsx("button",{onClick:()=>{ue(!1),je(null),X("")},className:"flex-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-200 py-1 rounded text-sm hover:bg-slate-50 dark:hover:bg-slate-600",children:""})]})]}),!ne&&!Se&&h.jsxs("button",{onClick:()=>{ue(!0),X(""),pe(Sc[0].class)},className:"w-full py-2 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-lg text-slate-400 hover:border-blue-300 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-slate-700 flex items-center justify-center gap-1 text-sm",children:[h.jsx(jn,{size:16})," "]}),h.jsx("div",{className:"space-y-2",children:o.map(j=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-lg shadow-sm group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:`w-4 h-4 rounded-full ${j.color.split(" ")[0].replace("text-","bg-").replace("border-","")} border opacity-50`}),h.jsx("span",{className:`text-sm px-2 py-0.5 rounded border ${j.color}`,children:j.name})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>{je(j.id),X(j.name),pe(j.color),ue(!1)},className:"p-1 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded",children:h.jsx(ub,{size:16})}),h.jsx("button",{onClick:()=>Cn(j.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-slate-700 rounded",children:h.jsx(io,{size:16})})]})]},j.id))})]})]})}),h.jsx("div",{className:"w-full lg:w-64 flex-shrink-0 space-y-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col h-full min-h-[500px]",children:[h.jsxs("div",{className:"flex gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>m("ITEMS"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${p==="ITEMS"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:""}),h.jsx("button",{onClick:()=>{m("BUNDLES"),he(!1)},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${p==="BUNDLES"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:" "})]}),p==="ITEMS"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("h2",{className:"font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[h.jsx(tg,{size:18}),""]}),h.jsx("button",{onClick:()=>k(!0),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-blue-600 dark:text-blue-400",title:"",children:h.jsx(eb,{size:18})})]}),N&&h.jsxs("div",{className:"mb-4 bg-blue-50 dark:bg-slate-700 p-2 rounded-lg border border-blue-100 dark:border-slate-600 shrink-0",children:[h.jsx("input",{autoFocus:!0,type:"text",placeholder:"...",value:le,onChange:j=>Ve(j.target.value),onKeyDown:j=>j.key==="Enter"&&Hn(),className:"w-full text-sm p-1.5 border border-blue-200 dark:border-slate-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white rounded mb-2 outline-none"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:Hn,className:"flex-1 bg-blue-600 text-white text-xs py-1 rounded",children:""}),h.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-white dark:bg-slate-600 text-slate-500 dark:text-slate-200 text-xs py-1 rounded border dark:border-slate-500",children:""})]})]}),h.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",children:n.map(j=>h.jsxs("div",{onClick:()=>_(j.id),className:`group flex items-center justify-between p-2.5 rounded-lg cursor-pointer transition-all border ${g===j.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 shadow-sm":"hover:bg-slate-50 dark:hover:bg-slate-700 border-transparent text-slate-600 dark:text-slate-400"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 truncate",children:[h.jsx(tg,{size:16,className:g===j.id?"fill-blue-200 dark:fill-blue-900":""}),h.jsx("span",{className:"text-sm font-medium truncate",children:j.name})]}),!j.isSystem&&h.jsx("button",{onClick:W=>mr(W,j.id),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-500 transition-opacity p-1",children:h.jsx(io,{size:14})})]},j.id))})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:gr,className:"w-full mb-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center justify-center gap-2 shrink-0",children:[h.jsx(ab,{size:16})," "]}),h.jsx("p",{className:"text-xs text-slate-400 mb-2 shrink-0",children:""}),h.jsx("div",{className:"space-y-2 overflow-y-auto flex-1",children:u.map(j=>h.jsx("div",{onClick:()=>an(j),className:`group p-3 rounded-lg border cursor-pointer transition-all ${M===j.id&&re?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 ring-1 ring-blue-300 dark:ring-blue-700":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-600 hover:bg-white dark:hover:bg-slate-700"}`,children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h4",{className:`font-bold ${M===j.id&&re?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-200"}`,children:j.name}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[j.items.length," "]})]}),h.jsx("div",{className:"flex gap-1",children:h.jsx("button",{onClick:W=>Rs(W,j.id),className:"p-1 text-slate-400 hover:text-red-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(io,{size:14})})})]})},j.id))})]})]})}),h.jsx("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col overflow-hidden",children:p==="BUNDLES"?re?h.jsxs("div",{className:"flex flex-col h-full animate-in fade-in",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[h.jsx(Nv,{size:24,className:"text-blue-600 dark:text-blue-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:""}),h.jsx("input",{className:"w-full bg-transparent text-xl font-bold text-slate-800 dark:text-white border-b border-transparent hover:border-slate-300 focus:border-blue-500 focus:outline-none",placeholder:"...",value:Ne,onChange:j=>Me(j.target.value)})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>he(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700 rounded-lg",children:""}),h.jsxs("button",{onClick:An,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 font-medium shadow-sm",children:[h.jsx(Pv,{size:18})," "]})]})]}),h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col md:flex-row gap-2 items-center bg-white dark:bg-slate-800",children:[h.jsxs("div",{className:"relative flex-1 w-full",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",placeholder:"...",value:V,onChange:j=>T(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none"})]}),h.jsxs("select",{value:E,onChange:j=>b(j.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none",children:[h.jsx("option",{value:"ALL",children:""}),o.map(j=>h.jsx("option",{value:j.id,children:j.name},j.id))]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50/50 dark:bg-slate-900/20",children:[h.jsxs("p",{className:"text-sm text-slate-500 mb-4 flex items-center gap-2",children:[h.jsx(eg,{size:16})," "]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:Rn.map(j=>{const W=Pe.find(te=>te.inventoryId===j.id),ie=Li(j.category);return h.jsxs("div",{onClick:()=>Ns(j.id),className:`relative flex flex-col p-3 rounded-xl border cursor-pointer transition-all ${W?"bg-blue-50 dark:bg-blue-900/20 border-blue-400 dark:border-blue-500 ring-1 ring-blue-400 dark:ring-blue-500":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${ie.color}`,children:ie.name}),W?h.jsx(eg,{className:"text-blue-600 dark:text-blue-400",size:20}):h.jsx(db,{className:"text-slate-300 dark:text-slate-600",size:20})]}),h.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 mb-1",children:j.name}),W&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-800 flex items-center justify-between",onClick:te=>te.stopPropagation(),children:[h.jsx("span",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:":"}),h.jsx("input",{type:"number",min:"1",value:W.qty,onChange:te=>Wn(j.id,parseInt(te.target.value)||1),className:"w-16 text-center text-sm font-bold bg-white dark:bg-slate-900 border border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-100 rounded py-1 outline-none focus:ring-2 focus:ring-blue-500"})]})]},j.id)})})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[h.jsx(WE,{size:64,className:"mb-4 opacity-20"}),h.jsx("p",{className:"text-lg font-medium",children:""}),h.jsx("p",{className:"text-sm opacity-70 mb-6",children:""}),h.jsx("button",{onClick:gr,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:""})]}):h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 flex flex-col gap-4",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:Yr}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[Rn.length," "]})]}),h.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors shadow-md text-sm",children:[h.jsx(jn,{size:16}),h.jsx("span",{children:""})]})]}),h.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(nb,{size:14,className:"text-slate-400"}),h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>R("ALL"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${C==="ALL"?"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-white border-slate-300 dark:border-slate-600":"bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:""}),Qt.map(j=>h.jsxs("div",{className:`group flex items-center gap-1 pl-3 pr-2 py-1.5 rounded-lg border transition-all ${C===j.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-blue-200 dark:hover:border-blue-700"}`,onClick:()=>R(j.id),children:[h.jsx("span",{className:"text-sm font-medium cursor-pointer",children:j.name}),!j.isSystem&&h.jsx("button",{onClick:W=>Ze(W,j.id),className:"ml-1 p-0.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Ln,{size:12})})]},j.id)),ft?h.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-700 p-1 rounded-lg border border-slate-200 dark:border-slate-600 animate-in fade-in",children:[h.jsx("input",{autoFocus:!0,className:"w-24 text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white px-2 py-0.5 rounded border border-slate-200 dark:border-slate-600 outline-none focus:border-blue-300",placeholder:"",value:q,onChange:j=>Q(j.target.value),onKeyDown:j=>j.key==="Enter"&&Xr()}),h.jsx("button",{onClick:Xr,className:"bg-blue-500 text-white p-0.5 rounded hover:bg-blue-600",children:h.jsx(jn,{size:14})}),h.jsx("button",{onClick:()=>Te(!1),className:"text-slate-400 hover:text-slate-600 p-0.5",children:h.jsx(Ln,{size:14})})]}):h.jsxs("button",{onClick:()=>Te(!0),className:"px-2 py-1.5 rounded-lg border border-dashed border-slate-300 dark:border-slate-600 text-slate-400 hover:text-blue-600 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-slate-700 transition-all flex items-center gap-1 text-sm",children:[h.jsx(jn,{size:14}),""]})]})]})]}),P&&h.jsxs("div",{className:"bg-blue-50 dark:bg-slate-700/50 border-b border-blue-200 dark:border-slate-600 p-6 shadow-inner animate-in fade-in slide-in-from-top-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"font-bold text-blue-900 dark:text-blue-200 flex items-center gap-2",children:[h.jsx(jn,{size:18}),"",Yr,"",C!=="ALL"&&h.jsx("span",{className:"text-blue-600 dark:text-blue-300 text-sm bg-white dark:bg-slate-800 px-2 py-0.5 rounded-full shadow-sm",children:(qe=Qt.find(j=>j.id===C))==null?void 0:qe.name})]}),h.jsx("button",{onClick:()=>L(!1),className:"text-blue-500 hover:text-blue-700",children:h.jsx(Ln,{size:20})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[h.jsxs("div",{className:"md:col-span-4",children:[h.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-200 mb-1",children:""}),h.jsx("input",{type:"text",value:F,onChange:j=>w(j.target.value),placeholder:": ST-Link",className:"w-full bg-white dark:bg-slate-800 border border-blue-200 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),h.jsxs("div",{className:"md:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-200 mb-1",children:""}),h.jsx("select",{value:y,onChange:j=>x(j.target.value),className:"w-full bg-white dark:bg-slate-800 border border-blue-200 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",children:o.map(j=>h.jsx("option",{value:j.id,children:j.name},j.id))})]}),h.jsxs("div",{className:"md:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-200 mb-1",children:"/"}),h.jsx("input",{type:"text",value:I,onChange:j=>S(j.target.value),placeholder:": V1.6",className:"w-full bg-white dark:bg-slate-800 border border-blue-200 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),h.jsx("div",{className:"md:col-span-2 flex items-end",children:h.jsx("button",{onClick:pr,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 font-medium shadow-sm",children:""})})]})]}),h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 flex flex-col md:flex-row gap-4 items-center",children:[h.jsxs("div",{className:"relative flex-1 w-full",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",placeholder:"...",value:V,onChange:j=>T(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white focus:ring-2 focus:ring-slate-400 outline-none shadow-sm"})]}),h.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[h.jsxs("select",{value:E,onChange:j=>b(j.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-slate-400 outline-none shadow-sm cursor-pointer flex-1 md:flex-none",children:[h.jsx("option",{value:"ALL",children:""}),o.map(j=>h.jsx("option",{value:j.id,children:j.name},j.id))]}),h.jsx("button",{onClick:()=>ve(!0),className:"px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 hover:text-blue-600 transition-colors shadow-sm flex items-center gap-2 whitespace-nowrap",title:"",children:h.jsx(ig,{size:18})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50/30 dark:bg-slate-900/30",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[Rn.map(j=>{var st;const W=((st=Qt.find(Xt=>Xt.id===j.groupId))==null?void 0:st.name)||"",ie=o.find(Xt=>Xt.id===j.category),te=(ie==null?void 0:ie.color)||"bg-gray-100 text-gray-600 border-gray-200",et=(ie==null?void 0:ie.name)||"";return h.jsxs("div",{className:"group bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-all",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${te}`,children:et}),h.jsx("span",{className:"text-xs px-2 py-1 rounded-full border border-slate-100 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:W})]}),h.jsx("button",{onClick:()=>qn(j.id),className:"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(io,{size:16})})]}),h.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:j.name}),j.defaultVersion&&h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[": ",h.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded text-slate-700 dark:text-slate-300",children:j.defaultVersion})]})]},j.id)}),Rn.length===0&&h.jsx("div",{className:"col-span-full text-center py-12 text-slate-400 border border-dashed border-slate-200 dark:border-slate-700 rounded-xl",children:V||E!=="ALL"||C!=="ALL"?"":""})]})})]})})]})};function yb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const bu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ai(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function uf(t){return"nodeType"in t}function Gt(t){var e,n;return t?Ai(t)?t:uf(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function cf(t){const{Document:e}=Gt(t);return t instanceof e}function aa(t){return Ai(t)?!1:t instanceof Gt(t).HTMLElement}function Dv(t){return t instanceof Gt(t).SVGElement}function Ri(t){return t?Ai(t)?t.document:uf(t)?cf(t)?t:aa(t)||Dv(t)?t.ownerDocument:document:document:document}const Bn=bu?A.useLayoutEffect:A.useEffect;function df(t){const e=A.useRef(t);return Bn(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function vb(){const t=A.useRef(null),e=A.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ho(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Bn(()=>{n.current!==t&&(n.current=t)},e),n}function la(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Hl(t){const e=df(t),n=A.useRef(null),r=A.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Od(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let Rc={};function ua(t,e){return A.useMemo(()=>{if(e)return e;const n=Rc[t]==null?0:Rc[t]+1;return Rc[t]=n,t+"-"+n},[t,e])}function Vv(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[u,d]of l){const p=i[u];p!=null&&(i[u]=p+t*d)}return i},{...e})}}const si=Vv(1),Wo=Vv(-1);function _b(t){return"clientX"in t&&"clientY"in t}function hf(t){if(!t)return!1;const{KeyboardEvent:e}=Gt(t.target);return e&&t instanceof e}function wb(t){if(!t)return!1;const{TouchEvent:e}=Gt(t.target);return e&&t instanceof e}function Fd(t){if(wb(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return _b(t)?{x:t.clientX,y:t.clientY}:null}const Go=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Go.Translate.toString(t),Go.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),og="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xb(t){return t.matches(og)?t:t.querySelector(og)}const Eb={display:"none"};function bb(t){let{id:e,value:n}=t;return Lt.createElement("div",{id:e,style:Eb},n)}function Ib(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Lt.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function kb(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const jv=A.createContext(null);function Tb(t){const e=A.useContext(jv);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Sb(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,i)})},[t]),e]}const Cb={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ab={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Rb(t){let{announcements:e=Ab,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=Cb}=t;const{announce:i,announcement:o}=kb(),l=ua("DndLiveRegion"),[u,d]=A.useState(!1);if(A.useEffect(()=>{d(!0)},[]),Tb(A.useMemo(()=>({onDragStart(m){let{active:g}=m;i(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:_}=m;e.onDragMove&&i(e.onDragMove({active:g,over:_}))},onDragOver(m){let{active:g,over:_}=m;i(e.onDragOver({active:g,over:_}))},onDragEnd(m){let{active:g,over:_}=m;i(e.onDragEnd({active:g,over:_}))},onDragCancel(m){let{active:g,over:_}=m;i(e.onDragCancel({active:g,over:_}))}}),[i,e])),!u)return null;const p=Lt.createElement(Lt.Fragment,null,Lt.createElement(bb,{id:r,value:s.draggable}),Lt.createElement(Ib,{id:l,announcement:o}));return n?Xs.createPortal(p,n):p}var ot;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ot||(ot={}));function Wl(){}function ag(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Nb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Tn=Object.freeze({x:0,y:0});function Lv(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Mv(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Pb(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function lg(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function Ov(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function ug(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Db=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=ug(e,e.left,e.top),i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=Lv(ug(u),s);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(Mv)},Vb=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=lg(e),i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=lg(u),p=s.reduce((g,_,C)=>g+Lv(d[C],_),0),m=Number((p/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:m}})}}return i.sort(Mv)};function jb(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,l=i-n;if(r<s&&n<i){const u=e.width*e.height,d=t.width*t.height,p=o*l,m=p/(u+d-p);return Number(m.toFixed(4))}return 0}const Lb=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const u=jb(l,e);u>0&&s.push({id:o,data:{droppableContainer:i,value:u}})}}return s.sort(Pb)};function Mb(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Fv(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Tn}function Ob(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const Fb=Ob(1);function zb(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Ub(t,e,n){const r=zb(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:l}=r,u=t.left-o-(1-s)*parseFloat(n),d=t.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?t.width/s:t.width,m=i?t.height/i:t.height;return{width:p,height:m,top:d,right:u+p,bottom:d+m,left:u}}const Bb={ignoreTransform:!1};function Ni(t,e){e===void 0&&(e=Bb);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=Gt(t).getComputedStyle(t);d&&(n=Ub(n,d,p))}const{top:r,left:s,width:i,height:o,bottom:l,right:u}=n;return{top:r,left:s,width:i,height:o,bottom:l,right:u}}function cg(t){return Ni(t,{ignoreTransform:!0})}function $b(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function qb(t,e){return e===void 0&&(e=Gt(t).getComputedStyle(t)),e.position==="fixed"}function Hb(t,e){e===void 0&&(e=Gt(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function Iu(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(cf(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!aa(s)||Dv(s)||n.includes(s))return n;const i=Gt(t).getComputedStyle(s);return s!==t&&Hb(s,i)&&n.push(s),qb(s,i)?n:r(s.parentNode)}return t?r(t):n}function zv(t){const[e]=Iu(t,1);return e??null}function Nc(t){return!bu||!t?null:Ai(t)?t:uf(t)?cf(t)||t===Ri(t).scrollingElement?window:aa(t)?t:null:null}function Uv(t){return Ai(t)?t.scrollX:t.scrollLeft}function Bv(t){return Ai(t)?t.scrollY:t.scrollTop}function zd(t){return{x:Uv(t),y:Bv(t)}}var dt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(dt||(dt={}));function $v(t){return!bu||!t?!1:t===document.scrollingElement}function qv(t){const e={x:0,y:0},n=$v(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const Wb={x:.2,y:.2};function Gb(t,e,n,r,s){let{top:i,left:o,right:l,bottom:u}=n;r===void 0&&(r=10),s===void 0&&(s=Wb);const{isTop:d,isBottom:p,isLeft:m,isRight:g}=qv(t),_={x:0,y:0},C={x:0,y:0},R={height:e.height*s.y,width:e.width*s.x};return!d&&i<=e.top+R.height?(_.y=dt.Backward,C.y=r*Math.abs((e.top+R.height-i)/R.height)):!p&&u>=e.bottom-R.height&&(_.y=dt.Forward,C.y=r*Math.abs((e.bottom-R.height-u)/R.height)),!g&&l>=e.right-R.width?(_.x=dt.Forward,C.x=r*Math.abs((e.right-R.width-l)/R.width)):!m&&o<=e.left+R.width&&(_.x=dt.Backward,C.x=r*Math.abs((e.left+R.width-o)/R.width)),{direction:_,speed:C}}function Kb(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Hv(t){return t.reduce((e,n)=>si(e,zd(n)),Tn)}function Qb(t){return t.reduce((e,n)=>e+Uv(n),0)}function Yb(t){return t.reduce((e,n)=>e+Bv(n),0)}function Xb(t,e){if(e===void 0&&(e=Ni),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);zv(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Jb=[["x",["left","right"],Qb],["y",["top","bottom"],Yb]];class ff{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Iu(n),s=Hv(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,l]of Jb)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(r),p=s[i]-d;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wo{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Zb(t){const{EventTarget:e}=Gt(t);return t instanceof e?t:Ri(t)}function Pc(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ln;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ln||(ln={}));function dg(t){t.preventDefault()}function eI(t){t.stopPropagation()}var _e;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(_e||(_e={}));const Wv={start:[_e.Space,_e.Enter],cancel:[_e.Esc],end:[_e.Space,_e.Enter,_e.Tab]},tI=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case _e.Right:return{...n,x:n.x+25};case _e.Left:return{...n,x:n.x-25};case _e.Down:return{...n,y:n.y+25};case _e.Up:return{...n,y:n.y-25}}};class pf{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new wo(Ri(n)),this.windowListeners=new wo(Gt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ln.Resize,this.handleCancel),this.windowListeners.add(ln.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ln.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Xb(r),n(Tn)}handleKeyDown(e){if(hf(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Wv,coordinateGetter:o=tI,scrollBehavior:l="smooth"}=s,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:Tn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=o(e,{active:n,context:r.current,currentCoordinates:p});if(m){const g=Wo(m,p),_={x:0,y:0},{scrollableAncestors:C}=r.current;for(const R of C){const V=e.code,{isTop:T,isRight:E,isLeft:b,isBottom:P,maxScroll:L,minScroll:F}=qv(R),w=Kb(R),y={x:Math.min(V===_e.Right?w.right-w.width/2:w.right,Math.max(V===_e.Right?w.left:w.left+w.width/2,m.x)),y:Math.min(V===_e.Down?w.bottom-w.height/2:w.bottom,Math.max(V===_e.Down?w.top:w.top+w.height/2,m.y))},x=V===_e.Right&&!E||V===_e.Left&&!b,I=V===_e.Down&&!P||V===_e.Up&&!T;if(x&&y.x!==m.x){const S=R.scrollLeft+g.x,N=V===_e.Right&&S<=L.x||V===_e.Left&&S>=F.x;if(N&&!g.y){R.scrollTo({left:S,behavior:l});return}N?_.x=R.scrollLeft-S:_.x=V===_e.Right?R.scrollLeft-L.x:R.scrollLeft-F.x,_.x&&R.scrollBy({left:-_.x,behavior:l});break}else if(I&&y.y!==m.y){const S=R.scrollTop+g.y,N=V===_e.Down&&S<=L.y||V===_e.Up&&S>=F.y;if(N&&!g.x){R.scrollTo({top:S,behavior:l});return}N?_.y=R.scrollTop-S:_.y=V===_e.Down?R.scrollTop-L.y:R.scrollTop-F.y,_.y&&R.scrollBy({top:-_.y,behavior:l});break}}this.handleMove(e,si(Wo(m,this.referenceCoordinates),_))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pf.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Wv,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function hg(t){return!!(t&&"distance"in t)}function fg(t){return!!(t&&"delay"in t)}class mf{constructor(e,n,r){var s;r===void 0&&(r=Zb(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Ri(o),this.documentListeners=new wo(this.document),this.listeners=new wo(r),this.windowListeners=new wo(Gt(o)),this.initialCoordinates=(s=Fd(i))!=null?s:Tn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ln.Resize,this.handleCancel),this.windowListeners.add(ln.DragStart,dg),this.windowListeners.add(ln.VisibilityChange,this.handleCancel),this.windowListeners.add(ln.ContextMenu,dg),this.documentListeners.add(ln.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(hg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ln.Click,eI,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ln.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!s)return;const u=(n=Fd(e))!=null?n:Tn,d=Wo(s,u);if(!r&&l){if(hg(l)){if(l.tolerance!=null&&Pc(d,l.tolerance))return this.handleCancel();if(Pc(d,l.distance))return this.handleStart()}if(fg(l)&&Pc(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===_e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const nI={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gf extends mf{constructor(e){const{event:n}=e,r=Ri(n.target);super(e,nI,r)}}gf.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const rI={move:{name:"mousemove"},end:{name:"mouseup"}};var Ud;(function(t){t[t.RightClick=2]="RightClick"})(Ud||(Ud={}));class sI extends mf{constructor(e){super(e,rI,Ri(e.event.target))}}sI.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Ud.RightClick?!1:(r==null||r({event:n}),!0)}}];const Dc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iI extends mf{constructor(e){super(e,Dc)}static setup(){return window.addEventListener(Dc.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Dc.move.name,e)};function e(){}}}iI.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var xo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(xo||(xo={}));var Gl;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Gl||(Gl={}));function oI(t){let{acceleration:e,activator:n=xo.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:l=Gl.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,delta:m,threshold:g}=t;const _=lI({delta:m,disabled:!i}),[C,R]=vb(),V=A.useRef({x:0,y:0}),T=A.useRef({x:0,y:0}),E=A.useMemo(()=>{switch(n){case xo.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case xo.DraggableRect:return s}},[n,s,u]),b=A.useRef(null),P=A.useCallback(()=>{const F=b.current;if(!F)return;const w=V.current.x*T.current.x,y=V.current.y*T.current.y;F.scrollBy(w,y)},[]),L=A.useMemo(()=>l===Gl.TreeOrder?[...d].reverse():d,[l,d]);A.useEffect(()=>{if(!i||!d.length||!E){R();return}for(const F of L){if((r==null?void 0:r(F))===!1)continue;const w=d.indexOf(F),y=p[w];if(!y)continue;const{direction:x,speed:I}=Gb(F,y,E,e,g);for(const S of["x","y"])_[S][x[S]]||(I[S]=0,x[S]=0);if(I.x>0||I.y>0){R(),b.current=F,C(P,o),V.current=I,T.current=x;return}}V.current={x:0,y:0},T.current={x:0,y:0},R()},[e,P,r,R,i,o,JSON.stringify(E),JSON.stringify(_),C,d,L,p,JSON.stringify(g)])}const aI={x:{[dt.Backward]:!1,[dt.Forward]:!1},y:{[dt.Backward]:!1,[dt.Forward]:!1}};function lI(t){let{delta:e,disabled:n}=t;const r=Od(e);return la(s=>{if(n||!r||!s)return aI;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[dt.Backward]:s.x[dt.Backward]||i.x===-1,[dt.Forward]:s.x[dt.Forward]||i.x===1},y:{[dt.Backward]:s.y[dt.Backward]||i.y===-1,[dt.Forward]:s.y[dt.Forward]||i.y===1}}},[n,e,r])}function uI(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return la(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function cI(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Ko;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ko||(Ko={}));var Bd;(function(t){t.Optimized="optimized"})(Bd||(Bd={}));const pg=new Map;function dI(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=A.useState(null),{frequency:l,measure:u,strategy:d}=s,p=A.useRef(t),m=V(),g=Ho(m),_=A.useCallback(function(T){T===void 0&&(T=[]),!g.current&&o(E=>E===null?T:E.concat(T.filter(b=>!E.includes(b))))},[g]),C=A.useRef(null),R=la(T=>{if(m&&!n)return pg;if(!T||T===pg||p.current!==t||i!=null){const E=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){E.set(b.id,b.rect.current);continue}const P=b.node.current,L=P?new ff(u(P),P):null;b.rect.current=L,L&&E.set(b.id,L)}return E}return T},[t,i,n,m,u]);return A.useEffect(()=>{p.current=t},[t]),A.useEffect(()=>{m||_()},[n,m]),A.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),A.useEffect(()=>{m||typeof l!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},l))},[l,m,_,...r]),{droppableRects:R,measureDroppableContainers:_,measuringScheduled:i!=null};function V(){switch(d){case Ko.Always:return!1;case Ko.BeforeDragging:return n;default:return!n}}}function Gv(t,e){return la(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function hI(t,e){return Gv(t,e)}function fI(t){let{callback:e,disabled:n}=t;const r=df(e),s=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return A.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ku(t){let{callback:e,disabled:n}=t;const r=df(e),s=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return A.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function pI(t){return new ff(Ni(t),t)}function mg(t,e,n){e===void 0&&(e=pI);const[r,s]=A.useState(null);function i(){s(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const o=fI({callback(u){if(t)for(const d of u){const{type:p,target:m}=d;if(p==="childList"&&m instanceof HTMLElement&&m.contains(t)){i();break}}}}),l=ku({callback:i});return Bn(()=>{i(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),r}function mI(t){const e=Gv(t);return Fv(t,e)}const gg=[];function gI(t){const e=A.useRef(t),n=la(r=>t?r&&r!==gg&&t&&e.current&&t.parentNode===e.current.parentNode?r:Iu(t):gg,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function yI(t){const[e,n]=A.useState(null),r=A.useRef(t),s=A.useCallback(i=>{const o=Nc(i.target);o&&n(l=>l?(l.set(o,zd(o)),new Map(l)):null)},[]);return A.useEffect(()=>{const i=r.current;if(t!==i){o(i);const l=t.map(u=>{const d=Nc(u);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,zd(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(i)};function o(l){l.forEach(u=>{const d=Nc(u);d==null||d.removeEventListener("scroll",s)})}},[s,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>si(i,o),Tn):Hv(t):Tn,[t,e])}function yg(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==Tn;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Wo(t,n.current):Tn}function vI(t){A.useEffect(()=>{if(!bu)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function _I(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function Kv(t){return A.useMemo(()=>t?$b(t):null,[t])}const vg=[];function wI(t,e){e===void 0&&(e=Ni);const[n]=t,r=Kv(n?Gt(n):null),[s,i]=A.useState(vg);function o(){i(()=>t.length?t.map(u=>$v(u)?r:new ff(e(u),u)):vg)}const l=ku({callback:o});return Bn(()=>{l==null||l.disconnect(),o(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),s}function xI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return aa(e)?e:t}function EI(t){let{measure:e}=t;const[n,r]=A.useState(null),s=A.useCallback(d=>{for(const{target:p}of d)if(aa(p)){r(m=>{const g=e(p);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),i=ku({callback:s}),o=A.useCallback(d=>{const p=xI(d);i==null||i.disconnect(),p&&(i==null||i.observe(p)),r(p?e(p):null)},[e,i]),[l,u]=Hl(o);return A.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const bI=[{sensor:gf,options:{}},{sensor:pf,options:{}}],II={current:{}},pl={draggable:{measure:cg},droppable:{measure:cg,strategy:Ko.WhileDragging,frequency:Bd.Optimized},dragOverlay:{measure:Ni}};class Eo extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const kI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Eo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:pl,measureDroppableContainers:Wl,windowRect:null,measuringScheduled:!1},TI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wl,draggableNodes:new Map,over:null,measureDroppableContainers:Wl},Tu=A.createContext(TI),Qv=A.createContext(kI);function SI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Eo}}}function CI(t,e){switch(e.type){case ot.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ot.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ot.DragEnd:case ot.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ot.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Eo(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case ot.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Eo(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case ot.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new Eo(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function AI(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=A.useContext(Tu),i=Od(r),o=Od(n==null?void 0:n.id);return A.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!hf(i)||document.activeElement===i.target)return;const l=s.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[u.current,d.current]){if(!p)continue;const m=xb(p);if(m){m.focus();break}}})}},[r,e,s,o,i]),null}function RI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function NI(t){return A.useMemo(()=>({draggable:{...pl.draggable,...t==null?void 0:t.draggable},droppable:{...pl.droppable,...t==null?void 0:t.droppable},dragOverlay:{...pl.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function PI(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=A.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Bn(()=>{if(!o&&!l||!e){i.current=!1;return}if(i.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=n(d),m=Fv(p,r);if(o||(m.x=0),l||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=zv(d);g&&g.scrollBy({top:m.y,left:m.x})}},[e,o,l,r,n])}const Yv=A.createContext({...Tn,scaleX:1,scaleY:1});var br;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(br||(br={}));const DI=A.memo(function(e){var n,r,s,i;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:p=bI,collisionDetection:m=Lb,measuring:g,modifiers:_,...C}=e;const R=A.useReducer(CI,void 0,SI),[V,T]=R,[E,b]=Sb(),[P,L]=A.useState(br.Uninitialized),F=P===br.Initialized,{draggable:{active:w,nodes:y,translate:x},droppable:{containers:I}}=V,S=w!=null?y.get(w):null,N=A.useRef({initial:null,translated:null}),k=A.useMemo(()=>{var qe;return w!=null?{id:w,data:(qe=S==null?void 0:S.data)!=null?qe:II,rect:N}:null},[w,S]),le=A.useRef(null),[Ve,ft]=A.useState(null),[Te,q]=A.useState(null),Q=Ho(C,Object.values(C)),Z=ua("DndDescribedBy",o),ve=A.useMemo(()=>I.getEnabled(),[I]),ne=NI(g),{droppableRects:ue,measureDroppableContainers:Se,measuringScheduled:je}=dI(ve,{dragging:F,dependencies:[x.x,x.y],config:ne.droppable}),U=uI(y,w),X=A.useMemo(()=>Te?Fd(Te):null,[Te]),ce=Nn(),pe=hI(U,ne.draggable.measure);PI({activeNode:w!=null?y.get(w):null,config:ce.layoutShiftCompensation,initialRect:pe,measure:ne.draggable.measure});const M=mg(U,ne.draggable.measure,pe),ee=mg(U?U.parentElement:null),re=A.useRef({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=I.getNodeFor((n=re.current.over)==null?void 0:n.id),Ne=EI({measure:ne.dragOverlay.measure}),Me=(r=Ne.nodeRef.current)!=null?r:U,Pe=F?(s=Ne.rect)!=null?s:M:null,Kt=!!(Ne.nodeRef.current&&Ne.rect),Yr=mI(Kt?null:M),Qt=Kv(Me?Gt(Me):null),Pt=gI(F?he??U:null),qn=wI(Pt),pr=RI(_,{transform:{x:x.x-Yr.x,y:x.y-Yr.y,scaleX:1,scaleY:1},activatorEvent:Te,active:k,activeNodeRect:M,containerNodeRect:ee,draggingNodeRect:Pe,over:re.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:Pt,scrollableAncestorRects:qn,windowRect:Qt}),Hn=X?si(X,x):null,mr=yI(Pt),Xr=yg(mr),Ze=yg(mr,[M]),Be=si(pr,Xr),Yt=Pe?Fb(Pe,pr):null,Cn=k&&Yt?m({active:k,collisionRect:Yt,droppableRects:ue,droppableContainers:ve,pointerCoordinates:Hn}):null,gr=Ov(Cn,"id"),[an,An]=A.useState(null),Rs=Kt?pr:si(pr,Ze),Ns=Mb(Rs,(i=an==null?void 0:an.rect)!=null?i:null,M),Wn=A.useRef(null),Rn=A.useCallback((qe,j)=>{let{sensor:W,options:ie}=j;if(le.current==null)return;const te=y.get(le.current);if(!te)return;const et=qe.nativeEvent,st=new W({active:le.current,activeNode:te,event:et,options:ie,context:re,onAbort(Ee){if(!y.get(Ee))return;const{onDragAbort:Et}=Q.current,Dt={id:Ee};Et==null||Et(Dt),E({type:"onDragAbort",event:Dt})},onPending(Ee,gn,Et,Dt){if(!y.get(Ee))return;const{onDragPending:ts}=Q.current,Vt={id:Ee,constraint:gn,initialCoordinates:Et,offset:Dt};ts==null||ts(Vt),E({type:"onDragPending",event:Vt})},onStart(Ee){const gn=le.current;if(gn==null)return;const Et=y.get(gn);if(!Et)return;const{onDragStart:Dt}=Q.current,es={activatorEvent:et,active:{id:gn,data:Et.data,rect:N}};Xs.unstable_batchedUpdates(()=>{Dt==null||Dt(es),L(br.Initializing),T({type:ot.DragStart,initialCoordinates:Ee,active:gn}),E({type:"onDragStart",event:es}),ft(Wn.current),q(et)})},onMove(Ee){T({type:ot.DragMove,coordinates:Ee})},onEnd:Xt(ot.DragEnd),onCancel:Xt(ot.DragCancel)});Wn.current=st;function Xt(Ee){return async function(){const{active:Et,collisions:Dt,over:es,scrollAdjustedTranslate:ts}=re.current;let Vt=null;if(Et&&ts){const{cancelDrop:ns}=Q.current;Vt={activatorEvent:et,active:Et,collisions:Dt,delta:ts,over:es},Ee===ot.DragEnd&&typeof ns=="function"&&await Promise.resolve(ns(Vt))&&(Ee=ot.DragCancel)}le.current=null,Xs.unstable_batchedUpdates(()=>{T({type:Ee}),L(br.Uninitialized),An(null),ft(null),q(null),Wn.current=null;const ns=Ee===ot.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const Mi=Q.current[ns];Mi==null||Mi(Vt),E({type:ns,event:Vt})}})}}},[y]),Li=A.useCallback((qe,j)=>(W,ie)=>{const te=W.nativeEvent,et=y.get(ie);if(le.current!==null||!et||te.dndKit||te.defaultPrevented)return;const st={active:et};qe(W,j.options,st)===!0&&(te.dndKit={capturedBy:j.sensor},le.current=ie,Rn(W,j))},[y,Rn]),Gn=cI(p,Li);vI(p),Bn(()=>{M&&P===br.Initializing&&L(br.Initialized)},[M,P]),A.useEffect(()=>{const{onDragMove:qe}=Q.current,{active:j,activatorEvent:W,collisions:ie,over:te}=re.current;if(!j||!W)return;const et={active:j,activatorEvent:W,collisions:ie,delta:{x:Be.x,y:Be.y},over:te};Xs.unstable_batchedUpdates(()=>{qe==null||qe(et),E({type:"onDragMove",event:et})})},[Be.x,Be.y]),A.useEffect(()=>{const{active:qe,activatorEvent:j,collisions:W,droppableContainers:ie,scrollAdjustedTranslate:te}=re.current;if(!qe||le.current==null||!j||!te)return;const{onDragOver:et}=Q.current,st=ie.get(gr),Xt=st&&st.rect.current?{id:st.id,rect:st.rect.current,data:st.data,disabled:st.disabled}:null,Ee={active:qe,activatorEvent:j,collisions:W,delta:{x:te.x,y:te.y},over:Xt};Xs.unstable_batchedUpdates(()=>{An(Xt),et==null||et(Ee),E({type:"onDragOver",event:Ee})})},[gr]),Bn(()=>{re.current={activatorEvent:Te,active:k,activeNode:U,collisionRect:Yt,collisions:Cn,droppableRects:ue,draggableNodes:y,draggingNode:Me,draggingNodeRect:Pe,droppableContainers:I,over:an,scrollableAncestors:Pt,scrollAdjustedTranslate:Be},N.current={initial:Pe,translated:Yt}},[k,U,Cn,Yt,y,Me,Pe,ue,I,an,Pt,Be]),oI({...ce,delta:x,draggingRect:Yt,pointerCoordinates:Hn,scrollableAncestors:Pt,scrollableAncestorRects:qn});const Jr=A.useMemo(()=>({active:k,activeNode:U,activeNodeRect:M,activatorEvent:Te,collisions:Cn,containerNodeRect:ee,dragOverlay:Ne,draggableNodes:y,droppableContainers:I,droppableRects:ue,over:an,measureDroppableContainers:Se,scrollableAncestors:Pt,scrollableAncestorRects:qn,measuringConfiguration:ne,measuringScheduled:je,windowRect:Qt}),[k,U,M,Te,Cn,ee,Ne,y,I,ue,an,Se,Pt,qn,ne,je,Qt]),Zr=A.useMemo(()=>({activatorEvent:Te,activators:Gn,active:k,activeNodeRect:M,ariaDescribedById:{draggable:Z},dispatch:T,draggableNodes:y,over:an,measureDroppableContainers:Se}),[Te,Gn,k,M,T,Z,y,an,Se]);return Lt.createElement(jv.Provider,{value:b},Lt.createElement(Tu.Provider,{value:Zr},Lt.createElement(Qv.Provider,{value:Jr},Lt.createElement(Yv.Provider,{value:Ns},d)),Lt.createElement(AI,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Lt.createElement(Rb,{...l,hiddenTextDescribedById:Z}));function Nn(){const qe=(Ve==null?void 0:Ve.autoScrollEnabled)===!1,j=typeof u=="object"?u.enabled===!1:u===!1,W=F&&!qe&&!j;return typeof u=="object"?{...u,enabled:W}:{enabled:W}}}),VI=A.createContext(null),_g="button",jI="Draggable";function LI(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=ua(jI),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:m,over:g}=A.useContext(Tu),{role:_=_g,roleDescription:C="draggable",tabIndex:R=0}=s??{},V=(u==null?void 0:u.id)===e,T=A.useContext(V?Yv:VI),[E,b]=Hl(),[P,L]=Hl(),F=_I(o,e),w=Ho(n);Bn(()=>(m.set(e,{id:e,key:i,node:E,activatorNode:P,data:w}),()=>{const x=m.get(e);x&&x.key===i&&m.delete(e)}),[m,e]);const y=A.useMemo(()=>({role:_,tabIndex:R,"aria-disabled":r,"aria-pressed":V&&_===_g?!0:void 0,"aria-roledescription":C,"aria-describedby":p.draggable}),[r,_,R,V,C,p.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:y,isDragging:V,listeners:r?void 0:F,node:E,over:g,setNodeRef:b,setActivatorNodeRef:L,transform:T}}function MI(){return A.useContext(Qv)}const OI="Droppable",FI={timeout:25};function zI(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=ua(OI),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=A.useContext(Tu),p=A.useRef({disabled:n}),m=A.useRef(!1),g=A.useRef(null),_=A.useRef(null),{disabled:C,updateMeasurementsFor:R,timeout:V}={...FI,...s},T=Ho(R??r),E=A.useCallback(()=>{if(!m.current){m.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),_.current=null},V)},[V]),b=ku({callback:E,disabled:C||!o}),P=A.useCallback((y,x)=>{b&&(x&&(b.unobserve(x),m.current=!1),y&&b.observe(y))},[b]),[L,F]=Hl(P),w=Ho(e);return A.useEffect(()=>{!b||!L.current||(b.disconnect(),m.current=!1,b.observe(L.current))},[L,b]),A.useEffect(()=>(l({type:ot.RegisterDroppable,element:{id:r,key:i,disabled:n,node:L,rect:g,data:w}}),()=>l({type:ot.UnregisterDroppable,key:i,id:r})),[r]),A.useEffect(()=>{n!==p.current.disabled&&(l({type:ot.SetDroppableDisabled,id:r,key:i,disabled:n}),p.current.disabled=n)},[r,i,n,l]),{active:o,rect:g,isOver:(u==null?void 0:u.id)===r,node:L,over:u,setNodeRef:F}}function yf(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function UI(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function Ya(t){return t!==null&&t>=0}function BI(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $I(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Xv=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=yf(e,r,n),o=e[s],l=i[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},Xa={scaleX:1,scaleY:1},qI=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const l=(e=i[n])!=null?e:r;if(!l)return null;if(s===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...Xa}:null}const u=HI(i,s,n);return s>n&&s<=o?{x:0,y:-l.height-u,...Xa}:s<n&&s>=o?{x:0,y:l.height+u,...Xa}:{x:0,y:0,...Xa}};function HI(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Jv="Sortable",Zv=Lt.createContext({activeIndex:-1,containerId:Jv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xv,disabled:{draggable:!1,droppable:!1}});function WI(t){let{children:e,id:n,items:r,strategy:s=Xv,disabled:i=!1}=t;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:p}=MI(),m=ua(Jv,n),g=l.rect!==null,_=A.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),C=o!=null,R=o?_.indexOf(o.id):-1,V=d?_.indexOf(d.id):-1,T=A.useRef(_),E=!BI(_,T.current),b=V!==-1&&R===-1||E,P=$I(i);Bn(()=>{E&&C&&p(_)},[E,_,C,p]),A.useEffect(()=>{T.current=_},[_]);const L=A.useMemo(()=>({activeIndex:R,containerId:m,disabled:P,disableTransforms:b,items:_,overIndex:V,useDragOverlay:g,sortedRects:UI(_,u),strategy:s}),[R,m,P.draggable,P.droppable,b,_,V,u,g,s]);return Lt.createElement(Zv.Provider,{value:L},e)}const GI=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return yf(n,r,s).indexOf(e)},KI=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==i&&s===o?!1:n?!0:o!==s&&e===u},QI={duration:200,easing:"ease"},e_="transform",YI=Go.Transition.toString({property:e_,duration:0,easing:"linear"}),XI={roleDescription:"sortable"};function JI(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=A.useState(null),l=A.useRef(n);return Bn(()=>{if(!e&&n!==l.current&&r.current){const u=s.current;if(u){const d=Ni(r.current,{ignoreTransform:!0}),p={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(p.x||p.y)&&o(p)}}n!==l.current&&(l.current=n)},[e,n,r,s]),A.useEffect(()=>{i&&o(null)},[i]),i}function ZI(t){let{animateLayoutChanges:e=KI,attributes:n,disabled:r,data:s,getNewIndex:i=GI,id:o,strategy:l,resizeObserverConfig:u,transition:d=QI}=t;const{items:p,containerId:m,activeIndex:g,disabled:_,disableTransforms:C,sortedRects:R,overIndex:V,useDragOverlay:T,strategy:E}=A.useContext(Zv),b=ek(r,_),P=p.indexOf(o),L=A.useMemo(()=>({sortable:{containerId:m,index:P,items:p},...s}),[m,s,P,p]),F=A.useMemo(()=>p.slice(p.indexOf(o)),[p,o]),{rect:w,node:y,isOver:x,setNodeRef:I}=zI({id:o,data:L,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...u}}),{active:S,activatorEvent:N,activeNodeRect:k,attributes:le,setNodeRef:Ve,listeners:ft,isDragging:Te,over:q,setActivatorNodeRef:Q,transform:Z}=LI({id:o,data:L,attributes:{...XI,...n},disabled:b.draggable}),ve=yb(I,Ve),ne=!!S,ue=ne&&!C&&Ya(g)&&Ya(V),Se=!T&&Te,je=Se&&ue?Z:null,X=ue?je??(l??E)({rects:R,activeNodeRect:k,activeIndex:g,overIndex:V,index:P}):null,ce=Ya(g)&&Ya(V)?i({id:o,items:p,activeIndex:g,overIndex:V}):P,pe=S==null?void 0:S.id,M=A.useRef({activeId:pe,items:p,newIndex:ce,containerId:m}),ee=p!==M.current.items,re=e({active:S,containerId:m,isDragging:Te,isSorting:ne,id:o,index:P,items:p,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:d,wasDragging:M.current.activeId!=null}),he=JI({disabled:!re,index:P,node:y,rect:w});return A.useEffect(()=>{ne&&M.current.newIndex!==ce&&(M.current.newIndex=ce),m!==M.current.containerId&&(M.current.containerId=m),p!==M.current.items&&(M.current.items=p)},[ne,ce,m,p]),A.useEffect(()=>{if(pe===M.current.activeId)return;if(pe&&!M.current.activeId){M.current.activeId=pe;return}const Me=setTimeout(()=>{M.current.activeId=pe},50);return()=>clearTimeout(Me)},[pe]),{active:S,activeIndex:g,attributes:le,data:L,rect:w,index:P,newIndex:ce,items:p,isOver:x,isSorting:ne,isDragging:Te,listeners:ft,node:y,overIndex:V,over:q,setNodeRef:ve,setActivatorNodeRef:Q,setDroppableNodeRef:I,setDraggableNodeRef:Ve,transform:he??X,transition:Ne()};function Ne(){if(he||ee&&M.current.newIndex===P)return YI;if(!(Se&&!hf(N)||!d)&&(ne||re))return Go.Transition.toString({...d,property:e_})}}function ek(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Kl(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const tk=[_e.Down,_e.Right,_e.Up,_e.Left],nk=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:l}}=e;if(tk.includes(t.code)){if(t.preventDefault(),!n||!r)return;const u=[];i.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=s.get(m.id);if(g)switch(t.code){case _e.Down:r.top<g.top&&u.push(m);break;case _e.Up:r.top>g.top&&u.push(m);break;case _e.Left:r.left>g.left&&u.push(m);break;case _e.Right:r.left<g.left&&u.push(m);break}});const d=Vb({collisionRect:r,droppableRects:s,droppableContainers:u});let p=Ov(d,"id");if(p===(o==null?void 0:o.id)&&d.length>1&&(p=d[1].id),p!=null){const m=i.get(n.id),g=i.get(p),_=g?s.get(g.id):null,C=g==null?void 0:g.node.current;if(C&&_&&m&&g){const V=Iu(C).some((F,w)=>l[w]!==F),T=t_(m,g),E=rk(m,g),b=V||!T?{x:0,y:0}:{x:E?r.width-_.width:0,y:E?r.height-_.height:0},P={x:_.left,y:_.top};return b.x&&b.y?P:Wo(P,b)}}}};function t_(t,e){return!Kl(t)||!Kl(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function rk(t,e){return!Kl(t)||!Kl(e)||!t_(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const sk=({item:t,info:e,updateItem:n,handleRemoveItem:r})=>{const{attributes:s,listeners:i,setNodeRef:o,transform:l,transition:u,isDragging:d}=ZI({id:t.id}),p={transform:Go.Transform.toString(l),transition:u,zIndex:d?50:"auto",opacity:d?.5:1,touchAction:"none"};return h.jsxs("div",{ref:o,style:p,className:"flex gap-3 items-start bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[h.jsx("div",{...s,...i,className:"mt-1 text-slate-300 dark:text-slate-600 cursor-grab active:cursor-grabbing hover:text-slate-500 dark:hover:text-slate-400 p-1",children:h.jsx(tb,{size:20})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${e.color} whitespace-nowrap`,children:e.name}),h.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 truncate",children:t.name})]}),h.jsx("div",{className:"flex gap-2",children:h.jsx("div",{className:"flex-1",children:h.jsx("textarea",{value:t.version,onChange:m=>n(t.id,"version",m.target.value),placeholder:" ()...",rows:2,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-slate-900 dark:text-slate-100 focus:ring-1 focus:ring-blue-500 outline-none resize-none"})})})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2",children:[h.jsxs("div",{className:"flex items-center border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden bg-slate-50 dark:bg-slate-900",children:[h.jsx("input",{type:"number",min:"1",value:t.qty,onChange:m=>n(t.id,"qty",parseInt(m.target.value)||1),className:"w-12 text-center bg-white dark:bg-slate-800 border-x border-slate-200 dark:border-slate-700 py-1 text-slate-900 dark:text-white font-bold outline-none"}),h.jsx("span",{className:"text-xs text-slate-400 px-1",children:"Qty"})]}),h.jsx("button",{onClick:()=>r(t.id),className:"text-slate-300 hover:text-red-500 p-1",children:h.jsx(io,{size:16})})]})]})},ik=({inventory:t,folders:e,groups:n,categories:r,bundles:s,currentTrip:i,onSave:o,onCancel:l})=>{var pe;const[u,d]=A.useState((i==null?void 0:i.name)||` ${new Date().toLocaleDateString()}`),[p,m]=A.useState((i==null?void 0:i.date)||new Date().toISOString().split("T")[0]),[g,_]=A.useState((i==null?void 0:i.items)||[]),[C,R]=A.useState((i==null?void 0:i.groups)||[{id:Ld,name:""}]),[V,T]=A.useState(C[0].id),[E,b]=A.useState(""),[P,L]=A.useState(!1),[F,w]=A.useState(""),[y,x]=A.useState("ALL"),[I,S]=A.useState("ALL"),[N,k]=A.useState("ALL"),[le,Ve]=A.useState("ITEMS"),ft=Nb(ag(gf,{activationConstraint:{distance:8}}),ag(pf,{coordinateGetter:nk})),Te=M=>{const{active:ee,over:re}=M;ee.id!==(re==null?void 0:re.id)&&_(he=>{const Ne=he.findIndex(Pe=>Pe.id===ee.id),Me=he.findIndex(Pe=>Pe.id===(re==null?void 0:re.id));return yf(he,Ne,Me)})},q=(M,ee=1)=>{const re={id:Math.random().toString(36).substring(2,9),inventoryId:M.id,tripGroupId:V,name:M.name,category:M.category,qty:ee,version:M.defaultVersion||"",checked:!1};_(he=>[...he,re])},Q=M=>{if(window.confirm(`${M.name}`)){const ee=[];M.items.forEach(re=>{const he=t.find(Ne=>Ne.id===re.inventoryId);he&&ee.push({id:Math.random().toString(36).substring(2,9),inventoryId:he.id,tripGroupId:V,name:he.name,category:he.category,qty:re.qty,version:he.defaultVersion||"",checked:!1})}),_(re=>[...re,...ee])}},Z=M=>_(ee=>ee.filter(re=>re.id!==M)),ve=(M,ee,re)=>_(he=>he.map(Ne=>Ne.id===M?{...Ne,[ee]:re}:Ne)),ne=()=>{if(!E.trim())return;const M=Math.random().toString(36).substring(2,9);R(ee=>[...ee,{id:M,name:E}]),T(M),b(""),L(!1)},ue=(M,ee)=>{if(M.stopPropagation(),C.length<=1){alert("");return}window.confirm("")&&(R(re=>re.filter(he=>he.id!==ee)),_(re=>re.filter(he=>he.tripGroupId!==ee)),V===ee&&T(C[0].id))},Se=()=>{if(!u.trim()){alert("");return}g.length===0&&!window.confirm("")||o({id:(i==null?void 0:i.id)||Math.random().toString(36).substring(2,9),userId:(i==null?void 0:i.userId)||"unknown",name:u,date:p,status:(i==null?void 0:i.status)||"planning",groups:C,items:g})},je=t.filter(M=>M.name.toLowerCase().includes(F.toLowerCase())&&(y==="ALL"||M.category===y)&&(I==="ALL"||M.folderId===I)&&(N==="ALL"||M.groupId===N)),U=I==="ALL"?n:n.filter(M=>M.folderId===I),X=g.filter(M=>M.tripGroupId===V),ce=M=>{const ee=r.find(re=>re.id===M);return{name:(ee==null?void 0:ee.name)||"",color:(ee==null?void 0:ee.color)||"bg-gray-100 text-gray-600 border-gray-200"}};return h.jsxs("div",{className:"h-[calc(100vh-100px)] flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[h.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-500",children:h.jsx(Rv,{size:24})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase tracking-wider",children:""}),h.jsx("input",{type:"text",value:u,onChange:M=>d(M.target.value),className:"text-xl font-bold text-slate-900 dark:text-white bg-transparent border-b border-transparent hover:border-slate-300 focus:border-blue-500 focus:outline-none w-full"})]})]}),h.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[h.jsx("input",{type:"date",value:p,onChange:M=>m(M.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-blue-500"}),h.jsxs("button",{onClick:Se,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 shadow-md transition-transform active:scale-95",children:[h.jsx(Pv,{size:18}),h.jsx("span",{children:""})]})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 overflow-hidden",children:[h.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Md,{className:"text-slate-500",size:20}),h.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200",children:""})]}),h.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded-full",children:["  ",(pe=C.find(M=>M.id===V))==null?void 0:pe.name]})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[h.jsx("button",{onClick:()=>Ve("ITEMS"),className:`flex-1 py-1.5 text-xs font-medium rounded transition-all ${le==="ITEMS"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:""}),h.jsx("button",{onClick:()=>Ve("BUNDLES"),className:`flex-1 py-1.5 text-xs font-medium rounded transition-all ${le==="BUNDLES"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:" "})]}),le==="ITEMS"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),h.jsx("input",{type:"text",placeholder:"...",value:F,onChange:M=>w(M.target.value),className:"w-full pl-9 pr-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded text-sm text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none"})]}),h.jsxs("select",{value:I,onChange:M=>{S(M.target.value),k("ALL")},className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded px-2 py-1 text-sm text-slate-700 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none",children:[h.jsx("option",{value:"ALL",children:" "}),e.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))]}),h.jsxs("select",{value:N,onChange:M=>k(M.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded px-2 py-1 text-sm text-slate-700 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none max-w-[150px]",children:[h.jsx("option",{value:"ALL",children:" "}),U.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))]})]}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[h.jsx("button",{onClick:()=>x("ALL"),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-colors ${y==="ALL"?"bg-slate-800 dark:bg-white text-white dark:text-slate-900":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100"}`,children:""}),r.map(M=>h.jsx("button",{onClick:()=>x(M.id),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-colors ${y===M.id?"bg-slate-800 dark:bg-white text-white dark:text-slate-900":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100"}`,children:M.name},M.id))]})]}):h.jsx("div",{className:"text-xs text-slate-400 text-center",children:""})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-1 lg:grid-cols-2 gap-3 content-start",children:le==="ITEMS"?h.jsxs(h.Fragment,{children:[je.map(M=>{const ee=ce(M.category);return h.jsxs("button",{onClick:()=>q(M),className:"group flex flex-col items-start p-3 rounded-lg border border-slate-100 dark:border-slate-700 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-slate-700 transition-all text-left bg-white dark:bg-slate-800 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between w-full mb-1",children:[h.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${ee.color}`,children:ee.name}),h.jsx(jn,{size:16,className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),h.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:M.name}),M.defaultVersion&&h.jsxs("span",{className:"text-xs text-slate-400 mt-1",children:[": ",M.defaultVersion]})]},M.id)}),je.length===0&&h.jsx("div",{className:"col-span-full text-center text-slate-400 text-sm py-8",children:""})]}):h.jsxs(h.Fragment,{children:[s.map(M=>h.jsxs("button",{onClick:()=>Q(M),className:"group flex flex-col items-start p-4 rounded-lg border border-slate-100 dark:border-slate-700 hover:border-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all text-left bg-white dark:bg-slate-800 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between w-full mb-2",children:[h.jsxs("h4",{className:"font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:[h.jsx(Nv,{size:16,className:"text-purple-500"}),M.name]}),h.jsx(jn,{size:16,className:"text-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[" ",M.items.length," "]})]},M.id)),s.length===0&&h.jsx("div",{className:"col-span-full text-center text-slate-400 text-sm py-8",children:""})]})})]}),h.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"p-2 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex overflow-x-auto gap-2 scrollbar-hide items-center",children:[C.map(M=>h.jsxs("div",{onClick:()=>T(M.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg cursor-pointer transition-all whitespace-nowrap border ${V===M.id?"bg-white dark:bg-slate-800 border-blue-200 dark:border-blue-500/50 text-blue-700 dark:text-blue-400 shadow-sm font-medium":"bg-slate-100 dark:bg-slate-800 border-transparent text-slate-500 hover:bg-white hover:border-slate-200"}`,children:[h.jsx("span",{children:M.name}),h.jsx("span",{className:"text-xs bg-opacity-20 bg-slate-500 px-1.5 rounded-full",children:g.filter(ee=>ee.tripGroupId===M.id).length}),V===M.id&&h.jsx("button",{onClick:ee=>ue(ee,M.id),className:"ml-1 p-0.5 hover:text-red-500 rounded hover:bg-red-50",children:h.jsx(Ln,{size:12})})]},M.id)),P?h.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 p-1 rounded-lg border border-blue-200 shadow-sm animate-in fade-in",children:[h.jsx("input",{autoFocus:!0,className:"w-24 text-sm px-2 py-0.5 outline-none bg-transparent dark:text-white",placeholder:"",value:E,onChange:M=>b(M.target.value),onKeyDown:M=>M.key==="Enter"&&ne()}),h.jsx("button",{onClick:ne,className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:h.jsx(jn,{size:14})}),h.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600 p-1",children:h.jsx(Ln,{size:14})})]}):h.jsx("button",{onClick:()=>L(!0),className:"p-1.5 rounded-lg text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-600 transition-colors",title:"",children:h.jsx(jn,{size:18})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50/50 dark:bg-slate-900/30",children:X.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300",children:[h.jsx(Md,{size:48,className:"mb-4 opacity-50"}),h.jsx("p",{children:""})]}):h.jsx(DI,{sensors:ft,collisionDetection:Db,onDragEnd:Te,children:h.jsx(WI,{items:X.map(M=>M.id),strategy:qI,children:X.map(M=>h.jsx(sk,{item:M,info:ce(M.category),updateItem:ve,handleRemoveItem:Z},M.id))})})})]})]})]})};var wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ok=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,p=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|d>>6,_=d&63;u||(_=64,o||(g=64)),r.push(n[p],n[m],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ok(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new ak;const g=i<<2|l>>4;if(r.push(g),d!==64){const _=l<<4&240|d>>2;if(r.push(_),m!==64){const C=d<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lk=function(t){const e=n_(t);return r_.encodeByteArray(e,!0)},Ql=function(t){return lk(t).replace(/\./g,"")},uk=function(t){try{return r_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yl(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ck(n)||(t[n]=Yl(t[n],e[n]));return t}function ck(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>s_().__FIREBASE_DEFAULTS__,hk=()=>{if(typeof process>"u"||typeof wg>"u")return;const t=wg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uk(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return dk()||hk()||fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pk=t=>{var e,n;return(n=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mk=t=>{const e=pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i_=()=>{var t;return(t=vf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ql(JSON.stringify(n)),Ql(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){var t;const e=(t=vf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wk(){return typeof window<"u"||o_()}function o_(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xk(){return!_k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function bk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ik,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?kk(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ts(s,l,r)}}function kk(t,e){return t.replace(Tk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Tk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Eg(i)&&Eg(o)){if(!Qo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Eg(t){return t!==null&&typeof t=="object"}function Sk(t,e){const n=new Ck(t,e);return n.subscribe.bind(n)}class Ck{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ak(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vc),s.error===void 0&&(s.error=Vc),s.complete===void 0&&(s.complete=Vc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ak(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pk(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(t){return t===ls?void 0:t}function Pk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=[];var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const l_={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Dk=xe.INFO,Vk={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},jk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Vk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wf{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=jk,this._userLogHandler=null,_f.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}function Lk(t){_f.forEach(e=>{e.setLogLevel(t)})}function Mk(t,e){for(const n of _f){let r=null;e&&e.level&&(r=l_[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const l=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");i>=(r??s.logLevel)&&t({level:xe[i].toLowerCase(),message:l,args:o,type:s.name})}}}const Ok=(t,e)=>e.some(n=>t instanceof n);let bg,Ig;function Fk(){return bg||(bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u_=new WeakMap,$d=new WeakMap,c_=new WeakMap,jc=new WeakMap,xf=new WeakMap;function Uk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u_.set(n,t)}).catch(()=>{}),xf.set(e,t),e}function Bk(t){if($d.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$d.set(t,e)}let qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $k(t){qd=t(qd)}function qk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lc(this),e,...n);return c_.set(r,e.sort?e.sort():[e]),Mr(r)}:zk().includes(t)?function(...e){return t.apply(Lc(this),e),Mr(u_.get(this))}:function(...e){return Mr(t.apply(Lc(this),e))}}function Hk(t){return typeof t=="function"?qk(t):(t instanceof IDBTransaction&&Bk(t),Ok(t,Fk())?new Proxy(t,qd):t)}function Mr(t){if(t instanceof IDBRequest)return Uk(t);if(jc.has(t))return jc.get(t);const e=Hk(t);return e!==t&&(jc.set(t,e),xf.set(e,t)),e}const Lc=t=>xf.get(t);function Wk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Mr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mr(o.result),u.oldVersion,u.newVersion,Mr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Gk=["get","getKey","getAll","getAllKeys","count"],Kk=["put","add","delete","clear"],Mc=new Map;function kg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Kk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Gk.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return Mc.set(e,i),i}$k(t=>({...t,get:(e,n,r)=>kg(e,n)||t.get(e,n,r),has:(e,n)=>!!kg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xl="@firebase/app",Hd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new wf("@firebase/app"),Xk="@firebase/app-compat",Jk="@firebase/analytics-compat",Zk="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",r2="@firebase/auth-compat",s2="@firebase/database",i2="@firebase/data-connect",o2="@firebase/database-compat",a2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",d2="@firebase/messaging",h2="@firebase/messaging-compat",f2="@firebase/performance",p2="@firebase/performance-compat",m2="@firebase/remote-config",g2="@firebase/remote-config-compat",y2="@firebase/storage",v2="@firebase/storage-compat",_2="@firebase/firestore",w2="@firebase/vertexai-preview",x2="@firebase/firestore-compat",E2="firebase",b2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]",I2={[Xl]:"fire-core",[Xk]:"fire-core-compat",[Zk]:"fire-analytics",[Jk]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[r2]:"fire-auth-compat",[s2]:"fire-rtdb",[i2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[a2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[d2]:"fire-fcm",[h2]:"fire-fcm-compat",[f2]:"fire-perf",[p2]:"fire-perf-compat",[m2]:"fire-rc",[g2]:"fire-rc-compat",[y2]:"fire-gcs",[v2]:"fire-gcs-compat",[_2]:"fire-fst",[x2]:"fire-fst-compat",[w2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Map,pi=new Map,mi=new Map;function Yo(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function d_(t,e){t.container.addOrOverwriteComponent(e)}function gi(t){const e=t.name;if(mi.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;mi.set(e,t);for(const n of Br.values())Yo(n,t);for(const n of pi.values())Yo(n,t);return!0}function Ef(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function k2(t,e,n=Ur){Ef(t,e).clearInstance(n)}function h_(t){return t.options!==void 0}function T2(t){return t.settings!==void 0}function S2(){mi.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fn=new Su("app","Firebase",C2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends f_{constructor(e,n,r,s){const i=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:i};if(e.apiKey!==void 0)super(e,o,s);else{const l=e;super(l.options,o,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,nr(Xl,Hd,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){kf(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw fn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=b2;function If(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw fn.create("bad-app-name",{appName:String(s)});if(n||(n=i_()),!n)throw fn.create("no-options");const i=Br.get(s);if(i){if(Qo(n,i.options)&&Qo(r,i.config))return i;throw fn.create("duplicate-app",{appName:s})}const o=new a_(s);for(const u of mi.values())o.addComponent(u);const l=new f_(n,r,o);return Br.set(s,l),l}function R2(t,e){if(wk()&&!o_())throw fn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;h_(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=d=>[...d].reduce((p,m)=>Math.imul(31,p)+m.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw fn.create("finalization-registry-not-supported",{});const i=""+s(JSON.stringify(r)),o=pi.get(i);if(o)return o.incRefCount(e.releaseOnDeref),o;const l=new a_(i);for(const d of mi.values())l.addComponent(d);const u=new A2(n,e,i,l);return pi.set(i,u),u}function p_(t=Ur){const e=Br.get(t);if(!e&&t===Ur&&i_())return If();if(!e)throw fn.create("no-app",{appName:t});return e}function N2(){return Array.from(Br.values())}async function kf(t){let e=!1;const n=t.name;Br.has(n)?(e=!0,Br.delete(n)):pi.has(n)&&t.decRefCount()<=0&&(pi.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function nr(t,e,n){var r;let s=(r=I2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(l.join(" "));return}gi(new fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function m_(t,e){if(t!==null&&typeof t!="function")throw fn.create("invalid-log-argument");Mk(t,e)}function g_(t){Lk(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebase-heartbeat-database",D2=1,Xo="firebase-heartbeat-store";let Oc=null;function y_(){return Oc||(Oc=Wk(P2,D2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw fn.create("idb-open",{originalErrorMessage:t.message})})),Oc}async function V2(t){try{const n=(await y_()).transaction(Xo),r=await n.objectStore(Xo).get(v_(t));return await n.done,r}catch(e){if(e instanceof Ts)ur.warn(e.message);else{const n=fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Tg(t,e){try{const r=(await y_()).transaction(Xo,"readwrite");await r.objectStore(Xo).put(e,v_(t)),await r.done}catch(n){if(n instanceof Ts)ur.warn(n.message);else{const r=fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function v_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1024,L2=30*24*60*60*1e3;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=L2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sg(),{heartbeatsToSend:r,unsentEntries:s}=O2(this._heartbeatsCache.heartbeats),i=Ql(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ur.warn(n),""}}}function Sg(){return new Date().toISOString().substring(0,10)}function O2(t,e=j2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Cg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Cg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?bk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cg(t){return Ql(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){gi(new fi("platform-logger",e=>new Qk(e),"PRIVATE")),gi(new fi("heartbeat",e=>new M2(e),"PRIVATE")),nr(Xl,Hd,t),nr(Xl,Hd,"esm2017"),nr("fire-js","")}z2("");const U2=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ts,SDK_VERSION:bf,_DEFAULT_ENTRY_NAME:Ur,_addComponent:Yo,_addOrOverwriteComponent:d_,_apps:Br,_clearComponents:S2,_components:mi,_getProvider:Ef,_isFirebaseApp:h_,_isFirebaseServerApp:T2,_registerComponent:gi,_removeServiceInstance:k2,_serverApps:pi,deleteApp:kf,getApp:p_,getApps:N2,initializeApp:If,initializeServerApp:R2,onLog:m_,registerVersion:nr,setLogLevel:g_},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this._delegate=e,this.firebase=n,Yo(e,new fi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),kf(this._delegate)))}_getService(e,n=Ur){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ur){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Yo(this._delegate,e)}_addOrOverwriteComponent(e){d_(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Ag=new Su("app-compat","Firebase",$2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:nr,setLogLevel:g_,onLog:m_,apps:null,SDK_VERSION:bf,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:U2}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(d){delete e[d]}function s(d){if(d=d||Ur,!xg(e,d))throw Ag.create("no-app",{appName:d});return e[d]}s.App=t;function i(d,p={}){const m=If(d,p);if(xg(e,m.name))return e[m.name];const g=new t(m,n);return e[m.name]=g,g}function o(){return Object.keys(e).map(d=>e[d])}function l(d){const p=d.name,m=p.replace("-compat","");if(gi(d)&&d.type==="PUBLIC"){const g=(_=s())=>{if(typeof _[m]!="function")throw Ag.create("invalid-app-argument",{appName:p});return _[m]()};d.serviceProps!==void 0&&Yl(g,d.serviceProps),n[m]=g,t.prototype[m]=function(..._){return this._getService.bind(this,p).apply(this,d.multipleInstances?_:[])}}return d.type==="PUBLIC"?n[m]:null}function u(d,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(){const t=q2(B2);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:__,extendNamespace:e,createSubscribe:Sk,ErrorFactory:Su,deepExtend:Yl});function e(n){Yl(t,n)}return t}const H2=__();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new wf("@firebase/app-compat"),W2="@firebase/app-compat",G2="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){nr(W2,G2,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=s_();if(t.firebase!==void 0){Rg.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Rg.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const w_=H2;K2();var Q2="firebase",Y2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */w_.registerVersion(Q2,Y2,"app-compat");var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,x_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,y){function x(){}x.prototype=y.prototype,w.D=y.prototype,w.prototype=new x,w.prototype.constructor=w,w.C=function(I,S,N){for(var k=Array(arguments.length-2),le=2;le<arguments.length;le++)k[le-2]=arguments[le];return y.prototype[S].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,y,x){x||(x=0);var I=Array(16);if(typeof y=="string")for(var S=0;16>S;++S)I[S]=y.charCodeAt(x++)|y.charCodeAt(x++)<<8|y.charCodeAt(x++)<<16|y.charCodeAt(x++)<<24;else for(S=0;16>S;++S)I[S]=y[x++]|y[x++]<<8|y[x++]<<16|y[x++]<<24;y=w.g[0],x=w.g[1],S=w.g[2];var N=w.g[3],k=y+(N^x&(S^N))+I[0]+3614090360&4294967295;y=x+(k<<7&4294967295|k>>>25),k=N+(S^y&(x^S))+I[1]+3905402710&4294967295,N=y+(k<<12&4294967295|k>>>20),k=S+(x^N&(y^x))+I[2]+606105819&4294967295,S=N+(k<<17&4294967295|k>>>15),k=x+(y^S&(N^y))+I[3]+3250441966&4294967295,x=S+(k<<22&4294967295|k>>>10),k=y+(N^x&(S^N))+I[4]+4118548399&4294967295,y=x+(k<<7&4294967295|k>>>25),k=N+(S^y&(x^S))+I[5]+1200080426&4294967295,N=y+(k<<12&4294967295|k>>>20),k=S+(x^N&(y^x))+I[6]+2821735955&4294967295,S=N+(k<<17&4294967295|k>>>15),k=x+(y^S&(N^y))+I[7]+4249261313&4294967295,x=S+(k<<22&4294967295|k>>>10),k=y+(N^x&(S^N))+I[8]+1770035416&4294967295,y=x+(k<<7&4294967295|k>>>25),k=N+(S^y&(x^S))+I[9]+2336552879&4294967295,N=y+(k<<12&4294967295|k>>>20),k=S+(x^N&(y^x))+I[10]+4294925233&4294967295,S=N+(k<<17&4294967295|k>>>15),k=x+(y^S&(N^y))+I[11]+2304563134&4294967295,x=S+(k<<22&4294967295|k>>>10),k=y+(N^x&(S^N))+I[12]+1804603682&4294967295,y=x+(k<<7&4294967295|k>>>25),k=N+(S^y&(x^S))+I[13]+4254626195&4294967295,N=y+(k<<12&4294967295|k>>>20),k=S+(x^N&(y^x))+I[14]+2792965006&4294967295,S=N+(k<<17&4294967295|k>>>15),k=x+(y^S&(N^y))+I[15]+1236535329&4294967295,x=S+(k<<22&4294967295|k>>>10),k=y+(S^N&(x^S))+I[1]+4129170786&4294967295,y=x+(k<<5&4294967295|k>>>27),k=N+(x^S&(y^x))+I[6]+3225465664&4294967295,N=y+(k<<9&4294967295|k>>>23),k=S+(y^x&(N^y))+I[11]+643717713&4294967295,S=N+(k<<14&4294967295|k>>>18),k=x+(N^y&(S^N))+I[0]+3921069994&4294967295,x=S+(k<<20&4294967295|k>>>12),k=y+(S^N&(x^S))+I[5]+3593408605&4294967295,y=x+(k<<5&4294967295|k>>>27),k=N+(x^S&(y^x))+I[10]+38016083&4294967295,N=y+(k<<9&4294967295|k>>>23),k=S+(y^x&(N^y))+I[15]+3634488961&4294967295,S=N+(k<<14&4294967295|k>>>18),k=x+(N^y&(S^N))+I[4]+3889429448&4294967295,x=S+(k<<20&4294967295|k>>>12),k=y+(S^N&(x^S))+I[9]+568446438&4294967295,y=x+(k<<5&4294967295|k>>>27),k=N+(x^S&(y^x))+I[14]+3275163606&4294967295,N=y+(k<<9&4294967295|k>>>23),k=S+(y^x&(N^y))+I[3]+4107603335&4294967295,S=N+(k<<14&4294967295|k>>>18),k=x+(N^y&(S^N))+I[8]+1163531501&4294967295,x=S+(k<<20&4294967295|k>>>12),k=y+(S^N&(x^S))+I[13]+2850285829&4294967295,y=x+(k<<5&4294967295|k>>>27),k=N+(x^S&(y^x))+I[2]+4243563512&4294967295,N=y+(k<<9&4294967295|k>>>23),k=S+(y^x&(N^y))+I[7]+1735328473&4294967295,S=N+(k<<14&4294967295|k>>>18),k=x+(N^y&(S^N))+I[12]+2368359562&4294967295,x=S+(k<<20&4294967295|k>>>12),k=y+(x^S^N)+I[5]+4294588738&4294967295,y=x+(k<<4&4294967295|k>>>28),k=N+(y^x^S)+I[8]+2272392833&4294967295,N=y+(k<<11&4294967295|k>>>21),k=S+(N^y^x)+I[11]+1839030562&4294967295,S=N+(k<<16&4294967295|k>>>16),k=x+(S^N^y)+I[14]+4259657740&4294967295,x=S+(k<<23&4294967295|k>>>9),k=y+(x^S^N)+I[1]+2763975236&4294967295,y=x+(k<<4&4294967295|k>>>28),k=N+(y^x^S)+I[4]+1272893353&4294967295,N=y+(k<<11&4294967295|k>>>21),k=S+(N^y^x)+I[7]+4139469664&4294967295,S=N+(k<<16&4294967295|k>>>16),k=x+(S^N^y)+I[10]+3200236656&4294967295,x=S+(k<<23&4294967295|k>>>9),k=y+(x^S^N)+I[13]+681279174&4294967295,y=x+(k<<4&4294967295|k>>>28),k=N+(y^x^S)+I[0]+3936430074&4294967295,N=y+(k<<11&4294967295|k>>>21),k=S+(N^y^x)+I[3]+3572445317&4294967295,S=N+(k<<16&4294967295|k>>>16),k=x+(S^N^y)+I[6]+76029189&4294967295,x=S+(k<<23&4294967295|k>>>9),k=y+(x^S^N)+I[9]+3654602809&4294967295,y=x+(k<<4&4294967295|k>>>28),k=N+(y^x^S)+I[12]+3873151461&4294967295,N=y+(k<<11&4294967295|k>>>21),k=S+(N^y^x)+I[15]+530742520&4294967295,S=N+(k<<16&4294967295|k>>>16),k=x+(S^N^y)+I[2]+3299628645&4294967295,x=S+(k<<23&4294967295|k>>>9),k=y+(S^(x|~N))+I[0]+4096336452&4294967295,y=x+(k<<6&4294967295|k>>>26),k=N+(x^(y|~S))+I[7]+1126891415&4294967295,N=y+(k<<10&4294967295|k>>>22),k=S+(y^(N|~x))+I[14]+2878612391&4294967295,S=N+(k<<15&4294967295|k>>>17),k=x+(N^(S|~y))+I[5]+4237533241&4294967295,x=S+(k<<21&4294967295|k>>>11),k=y+(S^(x|~N))+I[12]+1700485571&4294967295,y=x+(k<<6&4294967295|k>>>26),k=N+(x^(y|~S))+I[3]+2399980690&4294967295,N=y+(k<<10&4294967295|k>>>22),k=S+(y^(N|~x))+I[10]+4293915773&4294967295,S=N+(k<<15&4294967295|k>>>17),k=x+(N^(S|~y))+I[1]+2240044497&4294967295,x=S+(k<<21&4294967295|k>>>11),k=y+(S^(x|~N))+I[8]+1873313359&4294967295,y=x+(k<<6&4294967295|k>>>26),k=N+(x^(y|~S))+I[15]+4264355552&4294967295,N=y+(k<<10&4294967295|k>>>22),k=S+(y^(N|~x))+I[6]+2734768916&4294967295,S=N+(k<<15&4294967295|k>>>17),k=x+(N^(S|~y))+I[13]+1309151649&4294967295,x=S+(k<<21&4294967295|k>>>11),k=y+(S^(x|~N))+I[4]+4149444226&4294967295,y=x+(k<<6&4294967295|k>>>26),k=N+(x^(y|~S))+I[11]+3174756917&4294967295,N=y+(k<<10&4294967295|k>>>22),k=S+(y^(N|~x))+I[2]+718787259&4294967295,S=N+(k<<15&4294967295|k>>>17),k=x+(N^(S|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(S+(k<<21&4294967295|k>>>11))&4294967295,w.g[2]=w.g[2]+S&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var x=y-this.blockSize,I=this.B,S=this.h,N=0;N<y;){if(S==0)for(;N<=x;)s(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<y;)if(I[S++]=w.charCodeAt(N++),S==this.blockSize){s(this,I),S=0;break}}else for(;N<y;)if(I[S++]=w[N++],S==this.blockSize){s(this,I),S=0;break}}this.h=S,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var x=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=x&255,x/=256;for(this.u(w),w=Array(16),y=x=0;4>y;++y)for(var I=0;32>I;I+=8)w[x++]=this.g[y]>>>I&255;return w};function i(w,y){var x=l;return Object.prototype.hasOwnProperty.call(x,w)?x[w]:x[w]=y(w)}function o(w,y){this.h=y;for(var x=[],I=!0,S=w.length-1;0<=S;S--){var N=w[S]|0;I&&N==y||(x[S]=N,I=!1)}this.g=x}var l={};function u(w){return-128<=w&&128>w?i(w,function(y){return new o([y|0],0>y?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return V(d(-w));for(var y=[],x=1,I=0;w>=x;I++)y[I]=w/x|0,x*=4294967296;return new o(y,0)}function p(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return V(p(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(y,8)),I=m,S=0;S<w.length;S+=8){var N=Math.min(8,w.length-S),k=parseInt(w.substring(S,S+N),y);8>N?(N=d(Math.pow(y,N)),I=I.j(N).add(d(k))):(I=I.j(x),I=I.add(d(k)))}return I}var m=u(0),g=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-V(this).m();for(var w=0,y=1,x=0;x<this.g.length;x++){var I=this.i(x);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(R(this))return"-"+V(this).toString(w);for(var y=d(Math.pow(w,6)),x=this,I="";;){var S=P(x,y).g;x=T(x,S.j(y));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(w);if(x=S,C(x))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=T(this,w),R(w)?-1:C(w)?0:1};function V(w){for(var y=w.g.length,x=[],I=0;I<y;I++)x[I]=~w.g[I];return new o(x,~w.h).add(g)}t.abs=function(){return R(this)?V(this):this},t.add=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0,S=0;S<=y;S++){var N=I+(this.i(S)&65535)+(w.i(S)&65535),k=(N>>>16)+(this.i(S)>>>16)+(w.i(S)>>>16);I=k>>>16,N&=65535,k&=65535,x[S]=k<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function T(w,y){return w.add(V(y))}t.j=function(w){if(C(this)||C(w))return m;if(R(this))return R(w)?V(this).j(V(w)):V(V(this).j(w));if(R(w))return V(this.j(V(w)));if(0>this.l(_)&&0>w.l(_))return d(this.m()*w.m());for(var y=this.g.length+w.g.length,x=[],I=0;I<2*y;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<w.g.length;S++){var N=this.i(I)>>>16,k=this.i(I)&65535,le=w.i(S)>>>16,Ve=w.i(S)&65535;x[2*I+2*S]+=k*Ve,E(x,2*I+2*S),x[2*I+2*S+1]+=N*Ve,E(x,2*I+2*S+1),x[2*I+2*S+1]+=k*le,E(x,2*I+2*S+1),x[2*I+2*S+2]+=N*le,E(x,2*I+2*S+2)}for(I=0;I<y;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=y;I<2*y;I++)x[I]=0;return new o(x,0)};function E(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function b(w,y){this.g=w,this.h=y}function P(w,y){if(C(y))throw Error("division by zero");if(C(w))return new b(m,m);if(R(w))return y=P(V(w),y),new b(V(y.g),V(y.h));if(R(y))return y=P(w,V(y)),new b(V(y.g),y.h);if(30<w.g.length){if(R(w)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var x=g,I=y;0>=I.l(w);)x=L(x),I=L(I);var S=F(x,1),N=F(I,1);for(I=F(I,2),x=F(x,2);!C(I);){var k=N.add(I);0>=k.l(w)&&(S=S.add(x),N=k),I=F(I,1),x=F(x,1)}return y=T(w,S.j(y)),new b(S,y)}for(S=m;0<=w.l(y);){for(x=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=d(x),k=N.j(y);R(k)||0<k.l(w);)x-=I,N=d(x),k=N.j(y);C(N)&&(N=g),S=S.add(N),w=T(w,k)}return new b(S,w)}t.A=function(w){return P(this,w).h},t.and=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)&w.i(I);return new o(x,this.h&w.h)},t.or=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)|w.i(I);return new o(x,this.h|w.h)},t.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)^w.i(I);return new o(x,this.h^w.h)};function L(w){for(var y=w.g.length+1,x=[],I=0;I<y;I++)x[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(x,w.h)}function F(w,y){var x=y>>5;y%=32;for(var I=w.g.length-x,S=[],N=0;N<I;N++)S[N]=0<y?w.i(N+x)>>>y|w.i(N+x+1)<<32-y:w.i(N+x);return new o(S,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,ms=o}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E_,oo,b_,ml,Wd,I_,k_,T_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,f){return a==Array.prototype||a==Object.prototype||(a[c]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ja=="object"&&Ja];for(var c=0;c<a.length;++c){var f=a[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,c){if(c)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var D=a[v];if(!(D in f))break e;f=f[D]}a=a[a.length-1],v=f[a],c=c(v),c!=v&&c!=null&&e(f,a,{configurable:!0,writable:!0,value:c})}}function i(a,c){a instanceof String&&(a+="");var f=0,v=!1,D={next:function(){if(!v&&f<a.length){var O=f++;return{value:c(O,a[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(a){return a||function(){return i(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function d(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function p(a,c,f){return a.call.apply(a.bind,arguments)}function m(a,c,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),a.apply(c,D)}}return function(){return a.apply(c,arguments)}}function g(a,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function _(a,c){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function C(a,c){function f(){}f.prototype=c.prototype,a.aa=c.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,D,O){for(var H=Array(arguments.length-2),De=2;De<arguments.length;De++)H[De-2]=arguments[De];return c.prototype[D].apply(v,H)}}function R(a){const c=a.length;if(0<c){const f=Array(c);for(let v=0;v<c;v++)f[v]=a[v];return f}return[]}function V(a,c){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(u(v)){const D=a.length||0,O=v.length||0;a.length=D+O;for(let H=0;H<O;H++)a[D+H]=v[H]}else a.push(v)}}class T{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(a){return/^[\s\xa0]*$/.test(a)}function b(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function P(a){return P[" "](a),a}P[" "]=function(){};var L=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function F(a,c,f){for(const v in a)c.call(f,a[v],v,a)}function w(a,c){for(const f in a)c.call(void 0,a[f],f,a)}function y(a){const c={};for(const f in a)c[f]=a[f];return c}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,c){let f,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(f in v)a[f]=v[f];for(let O=0;O<x.length;O++)f=x[O],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function S(a){var c=1;a=a.split(":");const f=[];for(;0<c&&a.length;)f.push(a.shift()),c--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function k(){var a=Q;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class le{constructor(){this.h=this.g=null}add(c,f){const v=Ve.get();v.set(c,f),this.h?this.h.next=v:this.g=v,this.h=v}}var Ve=new T(()=>new ft,a=>a.reset());class ft{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,q=!1,Q=new le,Z=()=>{const a=l.Promise.resolve(void 0);Te=()=>{a.then(ve)}};var ve=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(f){N(f)}var c=Ve;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}q=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return a}();function je(a,c){if(ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(L){e:{try{P(c.nodeName);var D=!0;break e}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=a.fromElement:f=="mouseout"&&(c=a.toElement);this.relatedTarget=c,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:U[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&je.aa.h.call(this)}}C(je,ue);var U={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),ce=0;function pe(a,c,f,v,D){this.listener=a,this.proxy=null,this.src=c,this.type=f,this.capture=!!v,this.ha=D,this.key=++ce,this.da=this.fa=!1}function M(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ee(a){this.src=a,this.g={},this.h=0}ee.prototype.add=function(a,c,f,v,D){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var H=he(a,c,v,D);return-1<H?(c=a[H],f||(c.fa=!1)):(c=new pe(c,this.src,O,!!v,D),c.fa=f,a.push(c)),c};function re(a,c){var f=c.type;if(f in a.g){var v=a.g[f],D=Array.prototype.indexOf.call(v,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(v,D,1),O&&(M(c),a.g[f].length==0&&(delete a.g[f],a.h--))}}function he(a,c,f,v){for(var D=0;D<a.length;++D){var O=a[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==v)return D}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Me={};function Pe(a,c,f,v,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Pe(a,c[O],f,v,D);return null}return f=Xr(f),a&&a[X]?a.K(c,f,d(v)?!!v.capture:!1,D):Kt(a,c,f,!1,v,D)}function Kt(a,c,f,v,D,O){if(!c)throw Error("Invalid event type");var H=d(D)?!!D.capture:!!D,De=Hn(a);if(De||(a[Ne]=De=new ee(a)),f=De.add(c,f,v,H,O),f.proxy)return f;if(v=Yr(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)Se||(D=H),D===void 0&&(D=!1),a.addEventListener(c.toString(),v,D);else if(a.attachEvent)a.attachEvent(qn(c.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Yr(){function a(f){return c.call(a.src,a.listener,f)}const c=pr;return a}function Qt(a,c,f,v,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)Qt(a,c[O],f,v,D);else v=d(v)?!!v.capture:!!v,f=Xr(f),a&&a[X]?(a=a.i,c=String(c).toString(),c in a.g&&(O=a.g[c],f=he(O,f,v,D),-1<f&&(M(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete a.g[c],a.h--)))):a&&(a=Hn(a))&&(c=a.g[c.toString()],a=-1,c&&(a=he(c,f,v,D)),(f=-1<a?c[a]:null)&&Pt(f))}function Pt(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[X])re(c.i,a);else{var f=a.type,v=a.proxy;c.removeEventListener?c.removeEventListener(f,v,a.capture):c.detachEvent?c.detachEvent(qn(f),v):c.addListener&&c.removeListener&&c.removeListener(v),(f=Hn(c))?(re(f,a),f.h==0&&(f.src=null,c[Ne]=null)):M(a)}}}function qn(a){return a in Me?Me[a]:Me[a]="on"+a}function pr(a,c){if(a.da)a=!0;else{c=new je(c,this);var f=a.listener,v=a.ha||a.src;a.fa&&Pt(a),a=f.call(v,c)}return a}function Hn(a){return a=a[Ne],a instanceof ee?a:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xr(a){return typeof a=="function"?a:(a[mr]||(a[mr]=function(c){return a.handleEvent(c)}),a[mr])}function Ze(){ne.call(this),this.i=new ee(this),this.M=this,this.F=null}C(Ze,ne),Ze.prototype[X]=!0,Ze.prototype.removeEventListener=function(a,c,f,v){Qt(this,a,c,f,v)};function Be(a,c){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=c.type||c,typeof c=="string")c=new ue(c,a);else if(c instanceof ue)c.target=c.target||a;else{var D=c;c=new ue(v,a),I(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var H=c.g=f[O];D=Yt(H,v,!0,c)&&D}if(H=c.g=a,D=Yt(H,v,!0,c)&&D,D=Yt(H,v,!1,c)&&D,f)for(O=0;O<f.length;O++)H=c.g=f[O],D=Yt(H,v,!1,c)&&D}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var f=a.g[c],v=0;v<f.length;v++)M(f[v]);delete a.g[c],a.h--}}this.F=null},Ze.prototype.K=function(a,c,f,v){return this.i.add(String(a),c,!1,f,v)},Ze.prototype.L=function(a,c,f,v){return this.i.add(String(a),c,!0,f,v)};function Yt(a,c,f,v){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var H=c[O];if(H&&!H.da&&H.capture==f){var De=H.listener,pt=H.ha||H.src;H.fa&&re(a.i,H),D=De.call(pt,v)!==!1&&D}}return D&&!v.defaultPrevented}function Cn(a,c,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function gr(a){a.g=Cn(()=>{a.g=null,a.i&&(a.i=!1,gr(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class an extends ne{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(a){ne.call(this),this.h=a,this.g={}}C(An,ne);var Rs=[];function Ns(a){F(a.g,function(c,f){this.g.hasOwnProperty(f)&&Pt(c)},a),a.g={}}An.prototype.N=function(){An.aa.N.call(this),Ns(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=l.JSON.stringify,Rn=l.JSON.parse,Li=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Gn(){}Gn.prototype.h=null;function Jr(a){return a.h||(a.h=a.i())}function Zr(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qe(){ue.call(this,"d")}C(qe,ue);function j(){ue.call(this,"c")}C(j,ue);var W={},ie=null;function te(){return ie=ie||new Ze}W.La="serverreachability";function et(a){ue.call(this,W.La,a)}C(et,ue);function st(a){const c=te();Be(c,new et(c))}W.STAT_EVENT="statevent";function Xt(a,c){ue.call(this,W.STAT_EVENT,a),this.stat=c}C(Xt,ue);function Ee(a){const c=te();Be(c,new Xt(c,a))}W.Ma="timingevent";function gn(a,c){ue.call(this,W.Ma,a),this.size=c}C(gn,ue);function Et(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function Dt(){this.g=!0}Dt.prototype.xa=function(){this.g=!1};function es(a,c,f,v,D,O){a.info(function(){if(a.g)if(O)for(var H="",De=O.split("&"),pt=0;pt<De.length;pt++){var Ie=De[pt].split("=");if(1<Ie.length){var bt=Ie[0];Ie=Ie[1];var It=bt.split("_");H=2<=It.length&&It[1]=="type"?H+(bt+"="+Ie+"&"):H+(bt+"=redacted&")}}else H=null;else H=O;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+c+`
`+f+`
`+H})}function ts(a,c,f,v,D,O,H){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+H})}function Vt(a,c,f,v){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+Mi(a,f)+(v?" "+v:"")})}function ns(a,c){a.info(function(){return"TIMEOUT: "+c})}Dt.prototype.info=function(){};function Mi(a,c){if(!a.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var H=1;H<D.length;H++)D[H]=""}}}}return Wn(f)}catch{return c}}var _a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},op={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$u;function wa(){}C(wa,Gn),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},$u=new wa;function yr(a,c,f,v){this.j=a,this.i=c,this.l=f,this.R=v||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ap}function ap(){this.i=null,this.g="",this.h=!1}var lp={},qu={};function Hu(a,c,f){a.L=1,a.v=Ia(Kn(c)),a.m=f,a.P=!0,up(a,null)}function up(a,c){a.F=Date.now(),xa(a),a.A=Kn(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),bp(f.i,"t",v),a.C=0,f=a.j.J,a.h=new ap,a.g=Up(a.j,f?c:null,!a.m),0<a.O&&(a.M=new an(g(a.Y,a,a.g),a.O)),c=a.U,f=a.g,v=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Rs[0]=D.toString()),D=Rs);for(var O=0;O<D.length;O++){var H=Pe(f,D[O],v||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),st(),es(a.i,a.u,a.A,a.l,a.R,a.m)}yr.prototype.ca=function(a){a=a.target;const c=this.M;c&&Qn(a)==3?c.j():this.Y(a)},yr.prototype.Y=function(a){try{if(a==this.g)e:{const It=Qn(this.g);var c=this.g.Ba();const Vs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Rp(this.g)))){this.J||It!=4||c==7||(c==8||0>=Vs?st(3):st(2)),Wu(this);var f=this.g.Z();this.X=f;t:if(cp(this)){var v=Rp(this.g);a="";var D=v.length,O=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),Oi(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,a+=this.h.i.decode(v[c],{stream:!(O&&c==D-1)});v.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,ts(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,pt=this.g;if((De=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(De)){var Ie=De;break t}}Ie=null}if(f=Ie)Vt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,f);else{this.o=!1,this.s=3,Ee(12),rs(this),Oi(this);break e}}if(this.P){f=!0;let yn;for(;!this.J&&this.C<H.length;)if(yn=Kw(this,H),yn==qu){It==4&&(this.s=4,Ee(14),f=!1),Vt(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==lp){this.s=4,Ee(15),Vt(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Vt(this.i,this.l,yn,null),Gu(this,yn);if(cp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||H.length!=0||this.h.h||(this.s=1,Ee(16),f=!1),this.o=this.o&&f,!f)Vt(this.i,this.l,H,"[Invalid Chunked Response]"),rs(this),Oi(this);else if(0<H.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Zu(bt),bt.M=!0,Ee(11))}}else Vt(this.i,this.l,H,null),Gu(this,H);It==4&&rs(this),this.o&&!this.J&&(It==4?Mp(this.j,this):(this.o=!1,xa(this)))}else dx(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),rs(this),Oi(this)}}}catch{}finally{}};function cp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Kw(a,c){var f=a.C,v=c.indexOf(`
`,f);return v==-1?qu:(f=Number(c.substring(f,v)),isNaN(f)?lp:(v+=1,v+f>c.length?qu:(c=c.slice(v,v+f),a.C=v+f,c)))}yr.prototype.cancel=function(){this.J=!0,rs(this)};function xa(a){a.S=Date.now()+a.I,dp(a,a.I)}function dp(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Et(g(a.ba,a),c)}function Wu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}yr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ns(this.i,this.A),this.L!=2&&(st(),Ee(17)),rs(this),this.s=2,Oi(this)):dp(this,this.S-a)};function Oi(a){a.j.G==0||a.J||Mp(a.j,a)}function rs(a){Wu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Ns(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Gu(a,c){try{var f=a.j;if(f.G!=0&&(f.g==a||Ku(f.h,a))){if(!a.K&&Ku(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(c)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Ra(f),Ca(f);else break e;Ju(f),Ee(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Et(g(f.Za,f),6e3));if(1>=pp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else is(f,11)}else if((a.K||f.g==a)&&Ra(f),!E(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let Ie=D[c];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];const bt=Ie[3];bt!=null&&(f.la=bt,f.j.info("VER="+f.la));const It=Ie[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));const Vs=Ie[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(v=1.5*Vs,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const yn=a.g;if(yn){const Pa=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pa){var O=v.h;O.g||Pa.indexOf("spdy")==-1&&Pa.indexOf("quic")==-1&&Pa.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Qu(O,O.h),O.h=null))}if(v.D){const ec=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(v.ya=ec,Oe(v.I,v.D,ec))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var H=a;if(v.qa=zp(v,v.J?v.ia:null,v.W),H.K){mp(v.h,H);var De=H,pt=v.L;pt&&(De.I=pt),De.B&&(Wu(De),xa(De)),v.g=H}else jp(v);0<f.i.length&&Aa(f)}else Ie[0]!="stop"&&Ie[0]!="close"||is(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?is(f,7):Xu(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}st(4)}catch{}}var Qw=class{constructor(a,c){this.g=a,this.map=c}};function hp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function pp(a){return a.h?1:a.g?a.g.size:0}function Ku(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Qu(a,c){a.g?a.g.add(c):a.h=c}function mp(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}hp.prototype.cancel=function(){if(this.i=gp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function gp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const f of a.g.values())c=c.concat(f.D);return c}return R(a.i)}function Yw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],f=a.length,v=0;v<f;v++)c.push(a[v]);return c}c=[],f=0;for(v in a)c[f++]=a[v];return c}function Xw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var f=0;f<a;f++)c.push(f);return c}c=[],f=0;for(const v in a)c[f++]=v;return c}}}function yp(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var f=Xw(a),v=Yw(a),D=v.length,O=0;O<D;O++)c.call(void 0,v[O],f&&f[O],a)}var vp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jw(a,c){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),D=null;if(0<=v){var O=a[f].substring(0,v);D=a[f].substring(v+1)}else O=a[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ss(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ss){this.h=a.h,Ea(this,a.j),this.o=a.o,this.g=a.g,ba(this,a.s),this.l=a.l;var c=a.i,f=new Ui;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),_p(this,f),this.m=a.m}else a&&(c=String(a).match(vp))?(this.h=!1,Ea(this,c[1]||"",!0),this.o=Fi(c[2]||""),this.g=Fi(c[3]||"",!0),ba(this,c[4]),this.l=Fi(c[5]||"",!0),_p(this,c[6]||"",!0),this.m=Fi(c[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}ss.prototype.toString=function(){var a=[],c=this.j;c&&a.push(zi(c,wp,!0),":");var f=this.g;return(f||c=="file")&&(a.push("//"),(c=this.o)&&a.push(zi(c,wp,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(zi(f,f.charAt(0)=="/"?tx:ex,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",zi(f,rx)),a.join("")};function Kn(a){return new ss(a)}function Ea(a,c,f){a.j=f?Fi(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function ba(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function _p(a,c,f){c instanceof Ui?(a.i=c,sx(a.i,a.h)):(f||(c=zi(c,nx)),a.i=new Ui(c,a.h))}function Oe(a,c,f){a.i.set(c,f)}function Ia(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Fi(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zi(a,c,f){return typeof a=="string"?(a=encodeURI(a).replace(c,Zw),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Zw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wp=/[#\/\?@]/g,ex=/[#\?:]/g,tx=/[#\?]/g,nx=/[#\?@]/g,rx=/#/g;function Ui(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function vr(a){a.g||(a.g=new Map,a.h=0,a.i&&Jw(a.i,function(c,f){a.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Ui.prototype,t.add=function(a,c){vr(this),this.i=null,a=Ps(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(c),this.h+=1,this};function xp(a,c){vr(a),c=Ps(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Ep(a,c){return vr(a),c=Ps(a,c),a.g.has(c)}t.forEach=function(a,c){vr(this),this.g.forEach(function(f,v){f.forEach(function(D){a.call(c,D,v,this)},this)},this)},t.na=function(){vr(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let v=0;v<c.length;v++){const D=a[v];for(let O=0;O<D.length;O++)f.push(c[v])}return f},t.V=function(a){vr(this);let c=[];if(typeof a=="string")Ep(this,a)&&(c=c.concat(this.g.get(Ps(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)c=c.concat(a[f])}return c},t.set=function(a,c){return vr(this),this.i=null,a=Ps(this,a),Ep(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function bp(a,c,f){xp(a,c),0<f.length&&(a.i=null,a.g.set(Ps(a,c),R(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var v=c[f];const O=encodeURIComponent(String(v)),H=this.V(v);for(v=0;v<H.length;v++){var D=O;H[v]!==""&&(D+="="+encodeURIComponent(String(H[v]))),a.push(D)}}return this.i=a.join("&")};function Ps(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function sx(a,c){c&&!a.j&&(vr(a),a.i=null,a.g.forEach(function(f,v){var D=v.toLowerCase();v!=D&&(xp(this,v),bp(this,D,f))},a)),a.j=c}function ix(a,c){const f=new Dt;if(l.Image){const v=new Image;v.onload=_(_r,f,"TestLoadImage: loaded",!0,c,v),v.onerror=_(_r,f,"TestLoadImage: error",!1,c,v),v.onabort=_(_r,f,"TestLoadImage: abort",!1,c,v),v.ontimeout=_(_r,f,"TestLoadImage: timeout",!1,c,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else c(!1)}function ox(a,c){const f=new Dt,v=new AbortController,D=setTimeout(()=>{v.abort(),_r(f,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:v.signal}).then(O=>{clearTimeout(D),O.ok?_r(f,"TestPingServer: ok",!0,c):_r(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),_r(f,"TestPingServer: error",!1,c)})}function _r(a,c,f,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(f)}catch{}}function ax(){this.g=new Li}function lx(a,c,f){const v=f||"";try{yp(a,function(D,O){let H=D;d(D)&&(H=Wn(D)),c.push(v+O+"="+encodeURIComponent(H))})}catch(D){throw c.push(v+"type="+encodeURIComponent("_badmap")),D}}function ka(a){this.l=a.Ub||null,this.j=a.eb||!1}C(ka,Gn),ka.prototype.g=function(){return new Ta(this.l,this.j)},ka.prototype.i=function(a){return function(){return a}}({});function Ta(a,c){Ze.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ta,Ze),t=Ta.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,$i(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ip(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ip(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?Bi(this):$i(this),this.readyState==3&&Ip(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Bi(this))},t.Qa=function(a){this.g&&(this.response=a,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,$i(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=c.next();return a.join(`\r
`)};function $i(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kp(a){let c="";return F(a,function(f,v){c+=v,c+=":",c+=f,c+=`\r
`}),c}function Yu(a,c,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=kp(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Oe(a,c,f))}function Qe(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Qe,Ze);var ux=/^https?$/i,cx=["POST","PUT"];t=Qe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$u.g(),this.v=this.o?Jr(this.o):Jr($u),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(O){Tp(this,O);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)f.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())f.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(cx,c,void 0))||v||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,H]of f)this.g.setRequestHeader(O,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ap(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){Tp(this,O)}};function Tp(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Sp(a),Sa(a)}function Sp(a){a.A||(a.A=!0,Be(a,"complete"),Be(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Be(this,"complete"),Be(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cp(this):this.bb())},t.bb=function(){Cp(this)};function Cp(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Qn(a)!=4||a.Z()!=2)){if(a.u&&Qn(a)==4)Cn(a.Ea,0,a);else if(Be(a,"readystatechange"),Qn(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var v;if(v=H===0){var D=String(a.D).match(vp)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),v=!ux.test(D?D.toLowerCase():"")}f=v}if(f)Be(a,"complete"),Be(a,"success");else{a.m=6;try{var O=2<Qn(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",Sp(a)}}finally{Sa(a)}}}}function Sa(a,c){if(a.g){Ap(a);const f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||Be(a,"ready");try{f.onreadystatechange=v}catch{}}}function Ap(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Qn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),Rn(c)}};function Rp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dx(a){const c={};a=(a.g&&2<=Qn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(E(a[v]))continue;var f=S(a[v]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}w(c,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(a,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||c}function Np(a){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,a),this.cb=qi("retryDelaySeedMs",1e4,a),this.Wa=qi("forwardChannelMaxRetries",2,a),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new hp(a&&a.concurrentRequestLimit),this.Da=new ax,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Np.prototype,t.la=8,t.G=1,t.connect=function(a,c,f,v){Ee(0),this.W=a,this.H=c||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=zp(this,null,this.W),Aa(this)};function Xu(a){if(Pp(a),a.G==3){var c=a.U++,f=Kn(a.I);if(Oe(f,"SID",a.K),Oe(f,"RID",c),Oe(f,"TYPE","terminate"),Hi(a,f),c=new yr(a,a.j,c),c.L=2,c.v=Ia(Kn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Up(c.j,null),c.g.ea(c.v)),c.F=Date.now(),xa(c)}Fp(a)}function Ca(a){a.g&&(Zu(a),a.g.cancel(),a.g=null)}function Pp(a){Ca(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ra(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Aa(a){if(!fp(a.h)&&!a.s){a.s=!0;var c=a.Ga;Te||Z(),q||(Te(),q=!0),Q.add(c,a),a.B=0}}function hx(a,c){return pp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Et(g(a.Ga,a,c),Op(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new yr(this,this.j,a);let O=this.o;if(this.S&&(O?(O=y(O),I(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(c+=v,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=Vp(this,D,c),f=Kn(this.I),Oe(f,"RID",a),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),Hi(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(kp(O)))+"&"+c:this.m&&Yu(f,this.m,O)),Qu(this.h,D),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",c),Oe(f,"SID","null"),D.T=!0,Hu(D,f,null)):Hu(D,f,c),this.G=2}}else this.G==3&&(a?Dp(this,a):this.i.length==0||fp(this.h)||Dp(this))};function Dp(a,c){var f;c?f=c.l:f=a.U++;const v=Kn(a.I);Oe(v,"SID",a.K),Oe(v,"RID",f),Oe(v,"AID",a.T),Hi(a,v),a.m&&a.o&&Yu(v,a.m,a.o),f=new yr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Vp(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qu(a.h,f),Hu(f,v,c)}function Hi(a,c){a.H&&F(a.H,function(f,v){Oe(c,v,f)}),a.l&&yp({},function(f,v){Oe(c,v,f)})}function Vp(a,c,f){f=Math.min(a.i.length,f);var v=a.l?g(a.l.Na,a.l,a):null;e:{var D=a.i;let O=-1;for(;;){const H=["count="+f];O==-1?0<f?(O=D[0].g,H.push("ofs="+O)):O=0:H.push("ofs="+O);let De=!0;for(let pt=0;pt<f;pt++){let Ie=D[pt].g;const bt=D[pt].map;if(Ie-=O,0>Ie)O=Math.max(0,D[pt].g-100),De=!1;else try{lx(bt,H,"req"+Ie+"_")}catch{v&&v(bt)}}if(De){v=H.join("&");break e}}}return a=a.i.splice(0,f),c.D=a,v}function jp(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Te||Z(),q||(Te(),q=!0),Q.add(c,a),a.v=0}}function Ju(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Et(g(a.Fa,a),Op(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Lp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Et(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Ca(this),Lp(this))};function Zu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Lp(a){a.g=new yr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=Kn(a.qa);Oe(c,"RID","rpc"),Oe(c,"SID",a.K),Oe(c,"AID",a.T),Oe(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(c,"TO",a.ja),Oe(c,"TYPE","xmlhttp"),Hi(a,c),a.m&&a.o&&Yu(c,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Ia(Kn(c)),f.m=null,f.P=!0,up(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),Ju(this),Ee(19))};function Ra(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Mp(a,c){var f=null;if(a.g==c){Ra(a),Zu(a),a.g=null;var v=2}else if(Ku(a.h,c))f=c.D,mp(a.h,c),v=1;else return;if(a.G!=0){if(c.o)if(v==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=a.B;v=te(),Be(v,new gn(v,f)),Aa(a)}else jp(a);else if(D=c.s,D==3||D==0&&0<c.X||!(v==1&&hx(a,c)||v==2&&Ju(a)))switch(f&&0<f.length&&(c=a.h,c.i=c.i.concat(f)),D){case 1:is(a,5);break;case 4:is(a,10);break;case 3:is(a,6);break;default:is(a,2)}}}function Op(a,c){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*c}function is(a,c){if(a.j.info("Error code "+c),c==2){var f=g(a.fb,a),v=a.Xa;const D=!v;v=new ss(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ea(v,"https"),Ia(v),D?ix(v.toString(),f):ox(v.toString(),f)}else Ee(2);a.G=0,a.l&&a.l.sa(c),Fp(a),Pp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Fp(a){if(a.G=0,a.ka=[],a.l){const c=gp(a.h);(c.length!=0||a.i.length!=0)&&(V(a.ka,c),V(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function zp(a,c,f){var v=f instanceof ss?Kn(f):new ss(f);if(v.g!="")c&&(v.g=c+"."+v.g),ba(v,v.s);else{var D=l.location;v=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new ss(null);v&&Ea(O,v),c&&(O.g=c),D&&ba(O,D),f&&(O.l=f),v=O}return f=a.D,c=a.ya,f&&c&&Oe(v,f,c),Oe(v,"VER",a.la),Hi(a,v),v}function Up(a,c,f){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new Qe(new ka({eb:f})):new Qe(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bp(){}t=Bp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Na(){}Na.prototype.g=function(a,c){return new Jt(a,c)};function Jt(a,c){Ze.call(this),this.g=new Np(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!E(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Ds(this)}C(Jt,Ze),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Xu(this.g)},Jt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Wn(a),a=f);c.i.push(new Qw(c.Ya++,a)),c.G==3&&Aa(c)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,Jt.aa.N.call(this)};function $p(a){qe.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const f in c){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}C($p,qe);function qp(){j.call(this),this.status=1}C(qp,j);function Ds(a){this.g=a}C(Ds,Bp),Ds.prototype.ua=function(){Be(this.g,"a")},Ds.prototype.ta=function(a){Be(this.g,new $p(a))},Ds.prototype.sa=function(a){Be(this.g,new qp)},Ds.prototype.ra=function(){Be(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,T_=function(){return new Na},k_=function(){return te()},I_=W,Wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,ml=_a,op.COMPLETE="complete",b_=op,Zr.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,oo=Zr,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,E_=Qe}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});const Pg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new wf("@firebase/firestore");function eo(){return xs.logLevel}function Y(t,...e){if(xs.logLevel<=xe.DEBUG){const n=e.map(Tf);xs.debug(`Firestore (${Pi}): ${t}`,...n)}}function cr(t,...e){if(xs.logLevel<=xe.ERROR){const n=e.map(Tf);xs.error(`Firestore (${Pi}): ${t}`,...n)}}function yi(t,...e){if(xs.logLevel<=xe.WARN){const n=e.map(Tf);xs.warn(`Firestore (${Pi}): ${t}`,...n)}}function Tf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Pi}) INTERNAL ASSERTION FAILED: `+t;throw cr(e),new Error(e)}function Re(t,e){t||se()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class J2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z2{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new S_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Ct(e)}}class eT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new nT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=sT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function vi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new lt(0,0))}static max(){return new oe(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Jo{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const iT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Jo{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return iT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new K(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(ze.fromString(e))}static fromName(e){return new J(ze.fromString(e).popFirst(5))}static empty(){return new J(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ze(e.slice()))}}function oT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new $r(s,J.empty(),e)}function aT(t){return new $r(t.readTime,t.key,-1)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(oe.min(),J.empty(),-1)}static max(){return new $r(oe.max(),J.empty(),-1)}}function lT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==uT)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(p=>{o[d]=p,++l,l===i&&r(o)},p=>s(p))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function dT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sf.oe=-1;function Cu(t){return t==null}function Jl(t){return t===0&&1/t==-1/0}function hT(t){return typeof t=="number"&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Za(this.root,e,this.comparator,!1)}getReverseIterator(){return new Za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Za(this.root,e,this.comparator,!0)}}class Za{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??gt.RED,this.left=s??gt.EMPTY,this.right=i??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new gt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vg(this.data.getIterator())}getIteratorFrom(e){return new Vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Vg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new _t(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new R_("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const fT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Re(!!t),typeof t=="string"){let e=0;const n=fT.exec(t);if(Re(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Af(t){const e=t.mapValue.fields.__previous_value__;return Cf(e)?Af(e):e}function Zo(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,s,i,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el={mapValue:{}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cf(t)?4:gT(t)?9007199254740991:mT(t)?10:11:se()}function $n(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zo(t).isEqual(Zo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qr(s.timestampValue),l=qr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Es(s.bytesValue).isEqual(Es(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xe(s.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(s.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xe(s.integerValue)===Xe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Xe(s.doubleValue),l=Xe(i.doubleValue);return o===l?Jl(o)===Jl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return vi(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Dg(o)!==Dg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!$n(o[u],l[u])))return!1;return!0}(t,e);default:return se()}}function ta(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function _i(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Xe(i.integerValue||i.doubleValue),u=Xe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return jg(t.timestampValue,e.timestampValue);case 4:return jg(Zo(t),Zo(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Es(i),u=Es(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=ke(l[d],u[d]);if(p!==0)return p}return ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ke(Xe(i.latitude),Xe(o.latitude));return l!==0?l:ke(Xe(i.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,d,p;const m=i.fields||{},g=o.fields||{},_=(l=m.value)===null||l===void 0?void 0:l.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,R=ke(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:Lg(_,C)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===el.mapValue&&o===el.mapValue)return 0;if(i===el.mapValue)return 1;if(o===el.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const g=ke(u[m],p[m]);if(g!==0)return g;const _=_i(l[u[m]],d[p[m]]);if(_!==0)return _}return ke(u.length,p.length)}(t.mapValue,e.mapValue);default:throw se()}}function jg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=qr(t),r=qr(e),s=ke(n.seconds,r.seconds);return s!==0?s:ke(n.nanos,r.nanos)}function Lg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=_i(n[s],r[s]);if(i)return i}return ke(n.length,r.length)}function wi(t){return Gd(t)}function Gd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gd(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function Mg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kd(t){return!!t&&"integerValue"in t}function Rf(t){return!!t&&"arrayValue"in t}function Og(t){return!!t&&"nullValue"in t}function Fg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gl(t){return!!t&&"mapValue"in t}function mT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(n)}setAll(e){let n=yt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=bo(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(bo(this.value))}}function N_(t){const e=[];return Ss(t.fields,(n,r)=>{const s=new yt([n]);if(gl(r)){const i=N_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Rt(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.position=e,this.inclusive=n}}function zg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=_i(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ug(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function yT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{}class rt extends P_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _T(e,n,r):n==="array-contains"?new ET(e,r):n==="in"?new bT(e,r):n==="not-in"?new IT(e,r):n==="array-contains-any"?new kT(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wT(e,r):new xT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_i(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(_i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends P_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sn(e,n)}matches(e){return D_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function D_(t){return t.op==="and"}function V_(t){return vT(t)&&D_(t)}function vT(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function Qd(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+wi(t.value);if(V_(t))return t.filters.map(e=>Qd(e)).join(",");{const e=t.filters.map(n=>Qd(n)).join(",");return`${t.op}(${e})`}}function j_(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&$n(r.value,s.value)}(t,e):t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&j_(o,s.filters[l]),!0):!1}(t,e):void se()}function L_(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${wi(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(L_).join(" ,")+"}"}(t):"Filter"}class _T extends rt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class wT extends rt{constructor(e,n){super(e,"in",n),this.keys=M_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xT extends rt{constructor(e,n){super(e,"not-in",n),this.keys=M_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class ET extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rf(n)&&ta(n.arrayValue,this.value)}}class bT extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class IT extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class kT extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function Bg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new TT(t,e,n,r,s,i,o)}function Nf(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wi(r)).join(",")),e.ue=n}return e.ue}function Pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ug(t.startAt,e.startAt)&&Ug(t.endAt,e.endAt)}function Yd(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ST(t,e,n,r,s,i,o,l){return new ha(t,e,n,r,s,i,o,l)}function Df(t){return new ha(t)}function $g(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O_(t){return t.collectionGroup!==null}function Io(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _t(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new eu(i,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new eu(yt.keyField(),r))}return e.ce}function Fn(t){const e=ae(t);return e.le||(e.le=CT(e,Io(t))),e.le}function CT(t,e){if(t.limitType==="F")return Bg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new eu(s.field,i)});const n=t.endAt?new Zl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zl(t.startAt.position,t.startAt.inclusive):null;return Bg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xd(t,e){const n=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jd(t,e,n){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return Pf(Fn(t),Fn(e))&&t.limitType===e.limitType}function F_(t){return`${Nf(Fn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>L_(s)).join(", ")}]`),Cu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wi(s)).join(",")),`Target(${r})`}(Fn(t))}; limitType=${t.limitType})`}function Ru(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Io(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const d=zg(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,Io(r),s)||r.endAt&&!function(o,l,u){const d=zg(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,Io(r),s))}(t,e)}function AT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z_(t){return(e,n)=>{let r=!1;for(const s of Io(t)){const i=RT(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function RT(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?_i(u,d):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return A_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Ke(J.comparator);function dr(){return NT}const U_=new Ke(J.comparator);function ao(...t){let e=U_;for(const n of t)e=e.insert(n.key,n);return e}function B_(t){let e=U_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return ko()}function $_(){return ko()}function ko(){return new Di(t=>t.toString(),(t,e)=>t.isEqual(e))}const PT=new Ke(J.comparator),DT=new _t(J.comparator);function ye(...t){let e=DT;for(const n of t)e=e.add(n);return e}const VT=new _t(ke);function jT(){return VT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function q_(t){return{integerValue:""+t}}function LT(t,e){return hT(e)?q_(e):Vf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this._=void 0}}function MT(t,e,n){return t instanceof tu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cf(i)&&(i=Af(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof xi?W_(t,e):t instanceof Ei?G_(t,e):function(s,i){const o=H_(s,i),l=qg(o)+qg(s.Pe);return Kd(o)&&Kd(s.Pe)?q_(l):Vf(s.serializer,l)}(t,e)}function OT(t,e,n){return t instanceof xi?W_(t,e):t instanceof Ei?G_(t,e):n}function H_(t,e){return t instanceof nu?function(r){return Kd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tu extends Nu{}class xi extends Nu{constructor(e){super(),this.elements=e}}function W_(t,e){const n=K_(e);for(const r of t.elements)n.some(s=>$n(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ei extends Nu{constructor(e){super(),this.elements=e}}function G_(t,e){let n=K_(e);for(const r of t.elements)n=n.filter(s=>!$n(s,r));return{arrayValue:{values:n}}}class nu extends Nu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qg(t){return Xe(t.integerValue||t.doubleValue)}function K_(t){return Rf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.field=e,this.transform=n}}function FT(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xi&&s instanceof xi||r instanceof Ei&&s instanceof Ei?vi(r.elements,s.elements,$n):r instanceof nu&&s instanceof nu?$n(r.Pe,s.Pe):r instanceof tu&&s instanceof tu}(t.transform,e.transform)}class zT{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pu{}function Y_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J_(t.key,zn.none()):new fa(t.key,t.data,zn.none());{const n=t.data,r=Bt.empty();let s=new _t(yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qr(t.key,r,new tn(s.toArray()),zn.none())}}function UT(t,e,n){t instanceof fa?function(s,i,o){const l=s.value.clone(),u=Wg(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(s,i,o){if(!yl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Wg(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(X_(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function To(t,e,n,r){return t instanceof fa?function(i,o,l,u){if(!yl(i.precondition,o))return l;const d=i.value.clone(),p=Gg(i.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qr?function(i,o,l,u){if(!yl(i.precondition,o))return l;const d=Gg(i.fieldTransforms,u,o),p=o.data;return p.setAll(X_(i)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return yl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function BT(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=H_(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function Hg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vi(r,s,(i,o)=>FT(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fa extends Pu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qr extends Pu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function X_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wg(t,e,n){const r=new Map;Re(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,OT(o,l,n[s]))}return r}function Gg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,MT(i,o,e))}return r}class J_ extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $T extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&UT(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=To(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=To(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=Y_(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&vi(this.mutations,e.mutations,(n,r)=>Hg(n,r))&&vi(this.baseMutations,e.baseMutations,(n,r)=>Hg(n,r))}}class jf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length);let s=function(){return PT}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,we;function GT(t){switch(t){default:return se();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Z_(t){if(t===void 0)return cr("GRPC error has no .code"),z.UNKNOWN;switch(t){case tt.OK:return z.OK;case tt.CANCELLED:return z.CANCELLED;case tt.UNKNOWN:return z.UNKNOWN;case tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case tt.INTERNAL:return z.INTERNAL;case tt.UNAVAILABLE:return z.UNAVAILABLE;case tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case tt.NOT_FOUND:return z.NOT_FOUND;case tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case tt.ABORTED:return z.ABORTED;case tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case tt.DATA_LOSS:return z.DATA_LOSS;default:return se()}}(we=tt||(tt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new ms([4294967295,4294967295],0);function Kg(t){const e=KT().encode(t),n=new x_;return n.update(e),new Uint8Array(n.digest())}function Qg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ms([n,r],0),new ms([s,i],0)]}class Lf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lo(`Invalid padding: ${n}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ms.fromNumber(r)));return s.compare(QT)===1&&(s=new ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Kg(e),[r,s]=Qg(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Lf(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Kg(e),[r,s]=Qg(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Du(oe.min(),s,new Ke(ke),dr(),ye())}}class pa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pa(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class ew{constructor(e,n){this.targetId=e,this.me=n}}class tw{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Yg{constructor(){this.fe=0,this.ge=Jg(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new pa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YT{constructor(e){this.Le=e,this.Be=new Map,this.ke=dr(),this.qe=Xg(),this.Qe=new Ke(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Yd(i))if(r===0){const o=new J(i.path);this.Ue(n,o,Rt.newNoDocument(o,oe.min()))}else Re(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Es(r).toUint8Array()}catch(u){if(u instanceof R_)return yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Lf(o,s,i)}catch(u){return yi(u instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Yd(l.target)){const u=new J(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Rt.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ye();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Du(e,n,this.Qe,this.ke,r);return this.ke=dr(),this.qe=Xg(),this.Qe=new Ke(ke),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Xg(){return new Ke(J.comparator)}function Jg(){return new Ke(J.comparator)}const XT={asc:"ASCENDING",desc:"DESCENDING"},JT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZT={and:"AND",or:"OR"};class eS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zd(t,e){return t.useProto3Json||Cu(e)?e:{value:e}}function ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tS(t,e){return ru(t,e.toTimestamp())}function Un(t){return Re(!!t),oe.fromTimestamp(function(n){const r=qr(n);return new lt(r.seconds,r.nanos)}(t))}function Mf(t,e){return eh(t,e).canonicalString()}function eh(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rw(t){const e=ze.fromString(t);return Re(lw(e)),e}function th(t,e){return Mf(t.databaseId,e.path)}function Fc(t,e){const n=rw(e);if(n.get(1)!==t.databaseId.projectId)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(iw(n))}function sw(t,e){return Mf(t.databaseId,e)}function nS(t){const e=rw(t);return e.length===4?ze.emptyPath():iw(e)}function nh(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iw(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zg(t,e,n){return{name:th(t,e),fields:n.value.mapValue.fields}}function rS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,p){return d.useProto3Json?(Re(p===void 0||typeof p=="string"),xt.fromBase64String(p||"")):(Re(p===void 0||p instanceof Buffer||p instanceof Uint8Array),xt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const p=d.code===void 0?z.UNKNOWN:Z_(d.code);return new K(p,d.message||"")}(o);n=new tw(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fc(t,r.document.name),i=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):oe.min(),l=new Bt({mapValue:{fields:r.document.fields}}),u=Rt.newFoundDocument(s,i,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new vl(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fc(t,r.document),i=r.readTime?Un(r.readTime):oe.min(),o=Rt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new vl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fc(t,r.document),i=r.removedTargetIds||[];n=new vl([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new WT(s,i),l=r.targetId;n=new ew(l,o)}}return n}function sS(t,e){let n;if(e instanceof fa)n={update:Zg(t,e.key,e.value)};else if(e instanceof J_)n={delete:th(t,e.key)};else if(e instanceof Qr)n={update:Zg(t,e.key,e.data),updateMask:fS(e.fieldMask)};else{if(!(e instanceof $T))return se();n={verify:th(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ei)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof nu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tS(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function iS(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Un(s.updateTime):Un(i);return o.isEqual(oe.min())&&(o=Un(i)),new zT(o,s.transformResults||[])}(n,e))):[]}function oS(t,e){return{documents:[sw(t,e.path)]}}function aS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sw(t,s);const i=function(d){if(d.length!==0)return aw(Sn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(p=>function(g){return{field:Ms(g.field),direction:cS(g.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Zd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function lS(t){let e=nS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(m){const g=ow(m);return g instanceof Sn&&V_(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(C){return new eu(Os(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Cu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,_=m.values||[];return new Zl(_,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,_=m.values||[];return new Zl(_,g)}(n.endAt)),ST(e,s,o,i,l,"F",u,d)}function uS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ow(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Os(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Os(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Os(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Os(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Os(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>ow(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function cS(t){return XT[t]}function dS(t){return JT[t]}function hS(t){return ZT[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Os(t){return yt.fromServerFormat(t.fieldPath)}function aw(t){return t instanceof rt?function(n){if(n.op==="=="){if(Fg(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(Og(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fg(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(Og(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:dS(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(s=>aw(s));return r.length===1?r[0]:{compositeFilter:{op:hS(n.op),filters:r}}}(t):se()}function fS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,s,i=oe.min(),o=oe.min(),l=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.ct=e}}function mS(t){const e=lS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.un=new yS}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve($r.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bi(0)}static kn(){return new bi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&To(r.mutation,s,tn.empty(),lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const s=hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ao();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=dr();const o=ko(),l=function(){return ko()}();return n.forEach((u,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Qr)?i=i.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),To(p.mutation,d,p.mutation.getFieldMask(),lt.now())):o.set(d.key,tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var m;return l.set(d,new _S(p,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ko();let s=new Ke((o,l)=>o-l),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||tn.empty();p=l.applyToLocalView(d,p),r.set(u,p);const m=(s.get(l.batchId)||ye()).add(u);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,m=$_();p.forEach(g=>{if(!i.has(g)){const _=Y_(n.get(g),r.get(g));_!==null&&m.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(hs());let l=-1,u=i;return o.next(d=>B.forEach(d,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(p)?B.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{u=u.insert(p,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,ye())).next(p=>({batchId:l,changes:B_(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=ao();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ao();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,u=>{const d=function(m,g){return new ha(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Rt.newInvalidDocument(p)))});let l=ao();return o.forEach((u,d)=>{const p=i.get(u);p!==void 0&&To(p.mutation,d,tn.empty(),lt.now()),Ru(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Un(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:mS(s.bundledQuery),readTime:Un(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.overlays=new Ke(J.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=hs(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=hs(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=hs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=s)););return B.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HT(n,r));let i=this.Ir.get(n);i===void 0&&(i=ye(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.Tr=new _t(ut.Er),this.dr=new _t(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new ze([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new ze([])),r=new ut(n,e),s=new ut(n,e+1);let i=ye();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(ut.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qT(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new ut(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(ke);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ut(new J(i),0);let l=new _t(ke);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.wr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ut(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Mr=e,this.docs=function(){return new Ke(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=dr();const o=n.path,l=new J(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||lT(aT(p),r)<=0||(s.has(p.key)||Ru(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TS(this)}getSize(e){return B.resolve(this.size)}}class TS extends vS{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.persistence=e,this.Nr=new Di(n=>Nf(n),Pf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Of,this.targetCount=0,this.kr=bi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sf(0),this.Kr=!1,this.Kr=!0,this.$r=new bS,this.referenceDelegate=e(this),this.Ur=new SS(this),this.indexManager=new gS,this.remoteDocumentCache=function(s){return new kS(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pS(n),this.Gr=new xS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ES,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new IS(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new AS(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class AS extends cT{constructor(e){super(),this.currentSequenceNumber=e}}class Ff{constructor(e){this.persistence=e,this.Jr=new Of,this.Yr=null}static Zr(e){return new Ff(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=J.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ye(),s=ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xk()?8:dT(vk())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new RS;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(eo()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(eo()<=xe.DEBUG&&Y("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(eo()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(n))):B.resolve())}Yi(e,n){if($g(n))return B.resolve(null);let r=Fn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jd(n,null,"F"),r=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ye(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,l);return this.ns(n,d,o,u.readTime)?this.Yi(e,Jd(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return $g(n)||s.isEqual(oe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?B.resolve(null):(eo()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ls(n)),this.rs(e,o,n,oT(s,-1)).next(l=>l))})}ts(e,n){let r=new _t(z_(e));return n.forEach((s,i)=>{Ru(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return eo()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ke(ke),this._s=new Di(i=>Nf(i),Pf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function DS(t,e,n,r){return new PS(t,e,n,r)}async function uw(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=ye();for(const d of s){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of i){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function VS(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const m=d.batch,g=m.keys();let _=B.resolve();return g.forEach(C=>{_=_.next(()=>p.getEntry(u,C)).next(R=>{const V=d.docVersions.get(C);Re(V!==null),R.version.compareTo(V)<0&&(m.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ye();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function cw(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jS(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((p,m)=>{const g=s.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(i,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,p.addedDocuments,m)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(xt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),s=s.insert(m,_),function(R,V,T){return R.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,_,p)&&l.push(n.Ur.updateTargetData(i,_))});let u=dr(),d=ye();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),l.push(LS(i,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(oe.min())){const p=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(p)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function LS(t,e,n){let r=ye(),s=ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=dr();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function MS(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OS(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function rh(t,e,n){const r=ae(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!da(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function e0(t,e,n){const r=ae(t);let s=oe.min(),i=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const m=ae(u),g=m._s.get(p);return g!==void 0?B.resolve(m.os.get(g)):m.Ur.getTargetData(d,p)}(r,o,Fn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ye())).next(l=>(FS(r,AT(e),l),{documents:l,Ts:i})))}function FS(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class t0{constructor(){this.activeTargetIds=jT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zS{constructor(){this.so=new t0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new t0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl=null;function zc(){return tl===null?tl=function(){return 268435456+Math.round(2147483648*Math.random())}():tl++,"0x"+tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class qS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=zc(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,u,d,s).then(p=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw yi("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",s),p})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=BS[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=zc();return new Promise((o,l)=>{const u=new E_;u.setWithCredentials(!0),u.listenOnce(b_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ml.NO_ERROR:const p=u.getResponseJson();Y(St,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),o(p);break;case ml.TIMEOUT:Y(St,`RPC '${e}' ${i} timed out`),l(new K(z.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:const m=u.getStatus();if(Y(St,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const C=function(V){const T=V.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(_.status);l(new K(C,_.message))}else l(new K(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(z.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Y(St,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Y(St,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=zc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=T_(),l=k_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");Y(St,`Creating RPC '${e}' stream ${s}: ${p}`,u);const m=o.createWebChannel(p,u);let g=!1,_=!1;const C=new $S({Io:V=>{_?Y(St,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(g||(Y(St,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Y(St,`RPC '${e}' stream ${s} sending:`,V),m.send(V))},To:()=>m.close()}),R=(V,T,E)=>{V.listen(T,b=>{try{E(b)}catch(P){setTimeout(()=>{throw P},0)}})};return R(m,oo.EventType.OPEN,()=>{_||(Y(St,`RPC '${e}' stream ${s} transport opened.`),C.yo())}),R(m,oo.EventType.CLOSE,()=>{_||(_=!0,Y(St,`RPC '${e}' stream ${s} transport closed`),C.So())}),R(m,oo.EventType.ERROR,V=>{_||(_=!0,yi(St,`RPC '${e}' stream ${s} transport errored:`,V),C.So(new K(z.UNAVAILABLE,"The operation could not be completed")))}),R(m,oo.EventType.MESSAGE,V=>{var T;if(!_){const E=V.data[0];Re(!!E);const b=E,P=b.error||((T=b[0])===null||T===void 0?void 0:T.error);if(P){Y(St,`RPC '${e}' stream ${s} received error:`,P);const L=P.status;let F=function(x){const I=tt[x];if(I!==void 0)return Z_(I)}(L),w=P.message;F===void 0&&(F=z.INTERNAL,w="Unknown error status: "+L+" with message "+P.message),_=!0,C.So(new K(F,w)),m.close()}else Y(St,`RPC '${e}' stream ${s} received:`,E),C.bo(E)}}),R(l,I_.STAT_EVENT,V=>{V.stat===Wd.PROXY?Y(St,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===Wd.NOPROXY&&Y(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Uc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return new eS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r,s,i,o,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new K(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HS extends hw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rS(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Un(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=nh(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Yd(u)?{documents:oS(i,u)}:{query:aS(i,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=nw(i,o.resumeToken);const d=Zd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(oe.min())>0){l.readTime=ru(i,o.snapshotVersion.toTimestamp());const d=Zd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=uS(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=nh(this.serializer),n.removeTarget=e,this.a_(n)}}class WS extends hw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iS(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=nh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,eh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,eh(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cr(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ae(u);d.L_.add(4),await ma(d),d.q_.set("Unknown"),d.L_.delete(4),await ju(d)}(this))})}),this.q_=new KS(r,s)}}async function ju(t){if(Cs(t))for(const e of t.B_)await e(!0)}async function ma(t){for(const e of t.B_)await e(!1)}function fw(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),qf(n)?$f(n):Vi(n).r_()&&Bf(n,e))}function Uf(t,e){const n=ae(t),r=Vi(n);n.N_.delete(e),r.r_()&&pw(n,e),n.N_.size===0&&(r.r_()?r.o_():Cs(n)&&n.q_.set("Unknown"))}function Bf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vi(t).A_(e)}function pw(t,e){t.Q_.xe(e),Vi(t).R_(e)}function $f(t){t.Q_=new YT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vi(t).start(),t.q_.v_()}function qf(t){return Cs(t)&&!Vi(t).n_()&&t.N_.size>0}function Cs(t){return ae(t).L_.size===0}function mw(t){t.Q_=void 0}async function YS(t){t.q_.set("Online")}async function XS(t){t.N_.forEach((e,n)=>{Bf(t,e)})}async function JS(t,e){mw(t),qf(t)?(t.q_.M_(e),$f(t)):t.q_.set("Unknown")}async function ZS(t,e,n){if(t.q_.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await su(t,r)}else if(e instanceof vl?t.Q_.Ke(e):e instanceof ew?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await cw(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.N_.get(d);p&&i.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const p=i.N_.get(u);if(!p)return;i.N_.set(u,p.withResumeToken(xt.EMPTY_BYTE_STRING,p.snapshotVersion)),pw(i,u);const m=new Cr(p.target,u,d,p.sequenceNumber);Bf(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await su(t,r)}}async function su(t,e,n){if(!da(e))throw e;t.L_.add(1),await ma(t),t.q_.set("Offline"),n||(n=()=>cw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ju(t)})}function gw(t,e){return e().catch(n=>su(t,n,e))}async function Lu(t){const e=ae(t),n=Hr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eC(e);)try{const s=await MS(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,tC(e,s)}catch(s){await su(e,s)}yw(e)&&vw(e)}function eC(t){return Cs(t)&&t.O_.length<10}function tC(t,e){t.O_.push(e);const n=Hr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yw(t){return Cs(t)&&!Hr(t).n_()&&t.O_.length>0}function vw(t){Hr(t).start()}async function nC(t){Hr(t).p_()}async function rC(t){const e=Hr(t);for(const n of t.O_)e.m_(n.mutations)}async function sC(t,e,n){const r=t.O_.shift(),s=jf.from(r,e,n);await gw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lu(t)}async function iC(t,e){e&&Hr(t).V_&&await async function(r,s){if(function(o){return GT(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();Hr(r).s_(),await gw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lu(r)}}(t,e),yw(t)&&vw(t)}async function r0(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.L_.add(3),await ma(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ju(n)}async function oC(t,e){const n=ae(t);e?(n.L_.delete(2),await ju(n)):e||(n.L_.add(2),await ma(n),n.q_.set("Unknown"))}function Vi(t){return t.K_||(t.K_=function(n,r,s){const i=ae(n);return i.w_(),new HS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:YS.bind(null,t),Ro:XS.bind(null,t),mo:JS.bind(null,t),d_:ZS.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),qf(t)?$f(t):t.q_.set("Unknown")):(await t.K_.stop(),mw(t))})),t.K_}function Hr(t){return t.U_||(t.U_=function(n,r,s){const i=ae(n);return i.w_(),new WS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nC.bind(null,t),mo:iC.bind(null,t),f_:rC.bind(null,t),g_:sC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lu(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Hf(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(t,e){if(cr("AsyncQueue",`${e}: ${t}`),da(t))return new K(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ao(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new ii(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.W_=new Ke(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ii{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ii(e,n,ii.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lC{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=i0(),i.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new K(z.ABORTED,"Firestore shutting down"))}}function i0(){return new Di(t=>F_(t),Au)}async function _w(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new aC,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Wf(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Gf(n)}async function ww(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uC(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Gf(n)}function cC(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Gf(t){t.Y_.forEach(e=>{e.next()})}var sh,o0;(o0=sh||(sh={})).ea="default",o0.Cache="cache";class xw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ii(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ii.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class dC{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=z_(e),this.Ra=new ii(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new s0,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,m)=>{const g=s.get(p),_=Ru(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;g&&_?g.data.isEqual(_.data)?C!==R&&(r.track({type:3,doc:_}),V=!0):this.ga(g,_)||(r.track({type:2,doc:_}),V=!0,(u&&this.Aa(_,u)>0||d&&this.Aa(_,d)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),V=!0):g&&!_&&(r.track({type:1,doc:g}),V=!0,(u||d)&&(l=!0)),V&&(_?(o=o.add(_),i=R?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(_,C){const R=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return R(_)-R(C)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Ii(this.query,e.Ra,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new bw(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ew(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ii.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fC{constructor(e){this.key=e,this.va=!1}}class pC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Di(l=>F_(l),Au),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(J.comparator),this.Na=new Map,this.La=new Of,this.Ba={},this.ka=new Map,this.qa=bi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mC(t,e,n=!0){const r=Aw(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Iw(r,e,n,!0),s}async function gC(t,e){const n=Aw(t);await Iw(n,e,!0,!1)}async function Iw(t,e,n,r){const s=await OS(t.localStore,Fn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await yC(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&fw(t.remoteStore,s),l}async function yC(t,e,n,r,s){t.Ka=(m,g,_)=>async function(R,V,T,E){let b=V.view.ma(T);b.ns&&(b=await e0(R.localStore,V.query,!1).then(({documents:w})=>V.view.ma(w,b)));const P=E&&E.targetChanges.get(V.targetId),L=E&&E.targetMismatches.get(V.targetId)!=null,F=V.view.applyChanges(b,R.isPrimaryClient,P,L);return l0(R,V.targetId,F.wa),F.snapshot}(t,m,g,_);const i=await e0(t.localStore,e,!0),o=new dC(e,i.Ts),l=o.ma(i.documents),u=pa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);l0(t,n,d.wa);const p=new hC(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function vC(t,e,n){const r=ae(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Au(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Uf(r.remoteStore,s.targetId),ih(r,s.targetId)}).catch(ca)):(ih(r,s.targetId),await rh(r.localStore,s.targetId,!0))}async function _C(t,e){const n=ae(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uf(n.remoteStore,r.targetId))}async function wC(t,e,n){const r=SC(t);try{const s=await function(o,l){const u=ae(o),d=lt.now(),p=l.reduce((_,C)=>_.add(C.key),ye());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=dr(),R=ye();return u.cs.getEntries(_,p).next(V=>{C=V,C.forEach((T,E)=>{E.isValidDocument()||(R=R.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(V=>{m=V;const T=[];for(const E of l){const b=BT(E,m.get(E.key).overlayedDocument);b!=null&&T.push(new Qr(E.key,b,N_(b.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,T,l)}).next(V=>{g=V;const T=V.applyToLocalDocumentSet(m,R);return u.documentOverlayCache.saveOverlays(_,V.batchId,T)})}).then(()=>({batchId:g.batchId,changes:B_(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ke(ke)),d=d.insert(l,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await ga(r,s.changes),await Lu(r.remoteStore)}catch(s){const i=Wf(s,"Failed to persist write");n.reject(i)}}async function kw(t,e){const n=ae(t);try{const r=await jS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Re(o.va):s.removedDocuments.size>0&&(Re(o.va),o.va=!1))}),await ga(n,r,e)}catch(r){await ca(r)}}function a0(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ae(o);u.onlineState=l;let d=!1;u.queries.forEach((p,m)=>{for(const g of m.j_)g.Z_(l)&&(d=!0)}),d&&Gf(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xC(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ke(J.comparator);o=o.insert(i,Rt.newNoDocument(i,oe.min()));const l=ye().add(i),u=new Du(oe.min(),new Map,new Ke(ke),o,l);await kw(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Kf(r)}else await rh(r.localStore,e,!1).then(()=>ih(r,e,n)).catch(ca)}async function EC(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await VS(n.localStore,e);Sw(n,r,null),Tw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ga(n,s)}catch(s){await ca(s)}}async function bC(t,e,n){const r=ae(t);try{const s=await function(o,l){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(Re(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);Sw(r,e,n),Tw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ga(r,s)}catch(s){await ca(s)}}function Tw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Sw(t,e,n){const r=ae(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function ih(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Cw(t,r)})}function Cw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Uf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Kf(t))}function l0(t,e,n){for(const r of n)r instanceof Ew?(t.La.addReference(r.key,e),IC(t,r)):r instanceof bw?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Cw(t,r.key)):se()}function IC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),Kf(t))}function Kf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new fC(n)),t.Oa=t.Oa.insert(n,r),fw(t.remoteStore,new Cr(Fn(Df(n.path)),r,"TargetPurposeLimboResolution",Sf.oe))}}async function ga(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){s.push(d);const m=zf.Wi(u.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const p=ae(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,g=>B.forEach(g.$i,_=>p.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>B.forEach(g.Ui,_=>p.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!da(m))throw m;Y("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const _=p.os.get(g),C=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(C);p.os=p.os.insert(g,R)}}}(r.localStore,i))}async function kC(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await uw(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(u=>{u.reject(new K(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ga(n,r.hs)}}function TC(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let s=ye();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function Aw(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xC.bind(null,e),e.Ca.d_=uC.bind(null,e.eventManager),e.Ca.$a=cC.bind(null,e.eventManager),e}function SC(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return DS(this.persistence,new NS,e.initialUser,this.serializer)}Ga(e){return new CS(Ff.Zr,this.serializer)}Wa(e){return new zS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iu.provider={build:()=>new iu};class oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lC}()}createDatastore(e){const n=Vu(e.databaseInfo.databaseId),r=function(i){return new qS(i)}(e.databaseInfo);return function(i,o,l,u){return new GS(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new QS(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>a0(this.syncEngine,n,0),function(){return n0.D()?new n0:new US}())}createSyncEngine(e,n){return function(s,i,o,l,u,d,p){const m=new pC(s,i,o,l,u,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);Y("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ma(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}oh.provider={build:()=>new oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=C_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bc(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AC(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>r0(e.remoteStore,s)),t._onlineComponents=e}async function AC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;yi("Error using user provided cache. Falling back to memory cache: "+n),await Bc(t,new iu)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Bc(t,new iu);return t._offlineComponents}async function Nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await u0(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await u0(t,new oh))),t._onlineComponents}function RC(t){return Nw(t).then(e=>e.syncEngine)}async function Pw(t){const e=await Nw(t),n=e.eventManager;return n.onListen=mC.bind(null,e.syncEngine),n.onUnlisten=vC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_C.bind(null,e.syncEngine),n}function NC(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const p=new Rw({next:g=>{p.Za(),o.enqueueAndForget(()=>ww(i,m));const _=g.docs.has(l);!_&&g.fromCache?d.reject(new K(z.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&u&&u.source==="server"?d.reject(new K(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new xw(Df(l.path),p,{includeMetadataChanges:!0,_a:!0});return _w(i,m)}(await Pw(t),t.asyncQueue,e,n,r)),r.promise}function PC(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const p=new Rw({next:g=>{p.Za(),o.enqueueAndForget(()=>ww(i,m)),g.fromCache&&u.source==="server"?d.reject(new K(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new xw(l,p,{includeMetadataChanges:!0,_a:!0});return _w(i,m)}(await Pw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e,n){if(!n)throw new K(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DC(t,e,n,r){if(e===!0&&r===!0)throw new K(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d0(t){if(!J.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(J.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mu(t);throw new K(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X2;switch(r.type){case"firstParty":return new tT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c0.get(n);r&&(Y("ComponentProvider","Removing Datastore"),c0.delete(n),r.terminate())}(this),Promise.resolve()}}function VC(t,e,n,r={}){var s;const i=(t=hr(t,Ou))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ct.MOCK_USER;else{l=yk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new K(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(d)}t._authCredentials=new J2(new S_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Or extends ji{constructor(e,n,r){super(e,n,Df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new J(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function jw(t,e,...n){if(t=lr(t),Vw("collection","path",e),t instanceof Ou){const r=ze.fromString(e,...n);return h0(r),new Or(t,null,r)}{if(!(t instanceof Ot||t instanceof Or))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return h0(r),new Or(t.firestore,null,r)}}function Jn(t,e,...n){if(t=lr(t),arguments.length===1&&(e=C_.newId()),Vw("doc","path",e),t instanceof Ou){const r=ze.fromString(e,...n);return d0(r),new Ot(t,null,new J(r))}{if(!(t instanceof Ot||t instanceof Or))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return d0(r),new Ot(t.firestore,t instanceof Or?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dw(this,"async_queue_retry"),this.Vu=()=>{const r=Uc();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Uc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Uc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!da(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw cr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Hf.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ya extends Ou{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new p0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function jC(t,e){const n=typeof t=="object"?t:p_(),r=typeof t=="string"?t:"(default)",s=Ef(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=mk("firestore");i&&VC(s,...i)}return s}function Qf(t){if(t._terminated)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LC(t),t._firestoreClient}function LC(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,d,p){return new pT(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Dw(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new CC(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(xt.fromBase64String(e))}catch(n){throw new K(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^__.*__$/;class OC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}class Lw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class zu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ou(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Mw(this.Cu)&&MC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vu(e)}Qu(e,n,r,s=!1){return new zu({Cu:e,methodName:n,qu:r,path:yt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(t){const e=t._freezeSettings(),n=Vu(t._databaseId);return new FC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zC(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);tp("Data must be an object, but it was:",o,r);const l=Fw(r,o);let u,d;if(i.merge)u=new tn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const g=ah(e,m,n);if(!o.contains(g))throw new K(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Uw(p,g)||p.push(g)}u=new tn(p),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new OC(new Bt(l),u,d)}class Uu extends va{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uu}}function Ow(t,e,n){return new zu({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zf extends va{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=Ow(this,e,!0),r=this.Ku.map(i=>As(i,n)),s=new xi(r);return new Q_(e.path,s)}isEqual(e){return e instanceof Zf&&Qo(this.Ku,e.Ku)}}class ep extends va{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=Ow(this,e,!0),r=this.Ku.map(i=>As(i,n)),s=new Ei(r);return new Q_(e.path,s)}isEqual(e){return e instanceof ep&&Qo(this.Ku,e.Ku)}}function UC(t,e,n,r){const s=t.Qu(1,e,n);tp("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();Ss(r,(u,d)=>{const p=np(e,u,n);d=lr(d);const m=s.Nu(p);if(d instanceof Uu)i.push(p);else{const g=As(d,m);g!=null&&(i.push(p),o.set(p,g))}});const l=new tn(i);return new Lw(o,l,s.fieldTransforms)}function BC(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[ah(e,r,n)],u=[s];if(i.length%2!=0)throw new K(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(ah(e,i[g])),u.push(i[g+1]);const d=[],p=Bt.empty();for(let g=l.length-1;g>=0;--g)if(!Uw(d,l[g])){const _=l[g];let C=u[g];C=lr(C);const R=o.Nu(_);if(C instanceof Uu)d.push(_);else{const V=As(C,R);V!=null&&(d.push(_),p.set(_,V))}}const m=new tn(d);return new Lw(p,m,o.fieldTransforms)}function $C(t,e,n,r=!1){return As(n,t.Qu(r?4:3,e))}function As(t,e){if(zw(t=lr(t)))return tp("Unsupported field value:",e,t),Fw(t,e);if(t instanceof va)return function(r,s){if(!Mw(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=As(l,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=lt.fromDate(r);return{timestampValue:ru(s.serializer,i)}}if(r instanceof lt){const i=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ru(s.serializer,i)}}if(r instanceof Yf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:nw(s.serializer,r._byteString)};if(r instanceof Ot){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Vf(l.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Mu(r)}`)}(t,e)}function Fw(t,e){const n={};return A_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,(r,s)=>{const i=As(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function zw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Yf||t instanceof ki||t instanceof Ot||t instanceof va||t instanceof Xf)}function tp(t,e,n){if(!zw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Mu(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ah(t,e,n){if((e=lr(e))instanceof Fu)return e._internalPath;if(typeof e=="string")return np(t,e);throw ou("Field path arguments must be of type string or ",t,!1,void 0,n)}const qC=new RegExp("[~\\*/\\[\\]]");function np(t,e,n){if(e.search(qC)>=0)throw ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fu(...e.split("."))._internalPath}catch{throw ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ou(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new K(z.INVALID_ARGUMENT,l+t+u)}function Uw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HC extends Bw{data(){return super.data()}}function rp(t,e){return typeof e=="string"?np(t,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class GC extends sp{}function lh(t,e,...n){let r=[];e instanceof sp&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof ip).length,l=i.filter(u=>u instanceof Bu).length;if(o>1||o>0&&l>0)throw new K(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bu extends GC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bu(e,n,r)}_apply(e){const n=this._parse(e);return $w(e._query,n),new ji(e.firestore,e.converter,Xd(e._query,n))}_parse(e){const n=Jf(e.firestore);return function(i,o,l,u,d,p,m){let g;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new K(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){g0(m,p);const _=[];for(const C of m)_.push(m0(u,i,C));g={arrayValue:{values:_}}}else g=m0(u,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||g0(m,p),g=$C(l,o,m,p==="in"||p==="not-in");return rt.create(d,p,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uh(t,e,n){const r=e,s=rp("where",t);return Bu._create(s,r,n)}class ip extends sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ip(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)$w(o,u),o=Xd(o,u)}(e._query,n),new ji(e.firestore,e.converter,Xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function m0(t,e,n){if(typeof(n=lr(n))=="string"){if(n==="")throw new K(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(e)&&n.indexOf("/")!==-1)throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!J.isDocumentKey(r))throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mg(t,new J(r))}if(n instanceof Ot)return Mg(t,n._key);throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mu(n)}.`)}function g0(t,e){if(!Array.isArray(t)||t.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $w(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KC{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ss(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Xe(o.doubleValue));return new Xf(i)}convertGeoPoint(e){return new Yf(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=qr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Re(lw(r));const s=new ea(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qw extends Bw{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _l extends qw{data(e={}){return super.data(e)}}class YC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _l(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new _l(s._firestore,s._userDataWriter,l.doc.key,l.doc,new uo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new _l(s._firestore,s._userDataWriter,l.doc.key,l.doc,new uo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:XC(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){t=hr(t,Ot);const e=hr(t.firestore,ya);return NC(Qf(e),t._key).then(n=>JC(e,t,n))}class Hw extends KC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function ch(t){t=hr(t,ji);const e=hr(t.firestore,ya),n=Qf(e),r=new Hw(e);return WC(t._query),PC(n,t._query).then(s=>new YC(e,r,t,s))}function dh(t,e,n){t=hr(t,Ot);const r=hr(t.firestore,ya),s=QC(t.converter,e);return Ww(r,[zC(Jf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function y0(t,e,n,...r){t=hr(t,Ot);const s=hr(t.firestore,ya),i=Jf(s);let o;return o=typeof(e=lr(e))=="string"||e instanceof Fu?BC(i,"updateDoc",t._key,e,n,r):UC(i,"updateDoc",t._key,e),Ww(s,[o.toMutation(t._key,zn.exists(!0))])}function Ww(t,e){return function(r,s){const i=new rr;return r.asyncQueue.enqueueAndForget(async()=>wC(await RC(r),s,i)),i.promise}(Qf(t),e)}function JC(t,e,n){const r=n.docs.get(e._key),s=new Hw(t);return new qw(t,s,e._key,r,new uo(n.hasPendingWrites,n.fromCache),e.converter)}function ZC(...t){return new Zf("arrayUnion",t)}function eA(...t){return new ep("arrayRemove",t)}(function(e,n=!0){(function(s){Pi=s})(bf),gi(new fi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ya(new Z2(r.getProvider("auth-internal")),new rT(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(d.options.projectId,p)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),nr(Pg,"4.7.3",e),nr(Pg,"4.7.3","esm2017")})();const tA={apiKey:"AIzaSyBAInv4O5MVcOE3kb8ztIM9U2Q1OOmnjJk",authDomain:"mission-ready-30e27.firebaseapp.com",projectId:"mission-ready-30e27",storageBucket:"mission-ready-30e27.firebasestorage.app",messagingSenderId:"421602206314",appId:"1:421602206314:web:6f24797d13a78609532013",measurementId:"G-QQ21XL2Y9H"},nA=w_.initializeApp(tA),xn=jC(nA),hh={register:async(t,e)=>{try{const n=Jn(xn,"user_accounts",t);if((await So(n)).exists())return{success:!1,error:""};const s=Math.random().toString(36).substring(2,15);return await dh(n,{password:e,userId:s,createdAt:new Date().toISOString()}),{success:!0,userId:s}}catch(n){return{success:!1,error:n.message}}},login:async(t,e)=>{try{const n=Jn(xn,"user_accounts",t),r=await So(n);if(!r.exists())return{success:!1,error:""};const s=r.data();return s.password!==e?{success:!1,error:""}:{success:!0,userId:s.userId}}catch(n){return{success:!1,error:n.message}}},findUserByUsername:async t=>{try{const e=Jn(xn,"user_accounts",t),n=await So(e);return n.exists()?{success:!0,userId:n.data().userId}:{success:!1,error:""}}catch{return{success:!1,error:""}}},findUsernameById:async t=>{try{const e=lh(jw(xn,"user_accounts"),uh("userId","==",t)),n=await ch(e);return n.empty?{success:!1,error:"Unknown"}:{success:!0,username:n.docs[0].id}}catch{return{success:!1,error:"Error"}}}},fh={upload:async(t,e)=>{try{const{trips:n,...r}=e;if(!r.inventory||r.inventory.length===0){const s=Jn(xn,"users",t),i=await So(s);if(i.exists()){const o=JSON.parse(i.data().data);if(o.inventory&&o.inventory.length>0)return{success:!1,error:""}}}await dh(Jn(xn,"users",t),{lastUpdated:new Date().toISOString(),data:JSON.stringify(r)});for(const s of n)s.userId===t&&await dh(Jn(xn,"trips",s.id),s);return{success:!0}}catch(n){return console.error("Upload failed:",n),{success:!1,error:n}}},download:async(t,e=[])=>{try{const n=Jn(xn,"users",t),r=await So(n);let s={};r.exists()&&(s=JSON.parse(r.data().data));const i=jw(xn,"trips"),o=lh(i,uh("userId","==",t)),l=lh(i,uh("sharedWith","array-contains",t)),[u,d]=await Promise.all([ch(o),ch(l)]),p=[...u.docs.map(_=>_.data()),...d.docs.map(_=>_.data())],m=new Map(p.map(_=>[_.id,_])),g=[...p];return e.forEach(_=>{!m.has(_.id)&&_.userId===t&&g.push(_)}),s.trips=g,{success:!0,data:s}}catch(n){return console.error("Download failed:",n),{success:!1,error:n}}},shareTrip:async(t,e)=>{try{const n=await hh.findUserByUsername(e);if(!n.success||!n.userId)return{success:!1,error:""};const r=Jn(xn,"trips",t);return await y0(r,{sharedWith:ZC(n.userId)}),{success:!0,userId:n.userId}}catch(n){return console.error("Share failed:",n),{success:!1,error:""}}},unshareTrip:async(t,e)=>{try{const n=Jn(xn,"trips",t);return await y0(n,{sharedWith:eA(e)}),{success:!0}}catch(n){return console.error("Unshare failed:",n),{success:!1,error:""}}}},rA=({trip:t,categories:e,onUpdateTrip:n,onBack:r,onEdit:s})=>{const[i,o]=A.useState(t),[l,u]=A.useState(!1),[d,p]=A.useState(!1),[m,g]=A.useState("");A.useEffect(()=>{o(t)},[t]);const _=b=>{const P=i.items.map(w=>w.id===b?{...w,checked:!w.checked}:w),L={...i,items:P},F=P.every(w=>w.checked);L.status=F?"completed":"active",o(L),n(L)},C=Math.round(i.items.filter(b=>b.checked).length/i.items.length*100)||0,R=b=>{const P=e.find(L=>L.id===b);return{name:(P==null?void 0:P.name)||"",color:(P==null?void 0:P.color)||"bg-gray-100 text-gray-600 border-gray-200"}},V=()=>{const b=[],P={};return i.items.forEach(L=>{P[L.category]||(P[L.category]=[]),P[L.category].push(L)}),Object.keys(P).forEach(L=>{const F=P[L],w={};F.forEach(x=>{w[x.name]||(w[x.name]=[]),w[x.name].push(x)});const y=Object.keys(w).map(x=>{const I=w[x],S=I.reduce((le,Ve)=>le+Ve.qty,0),N={};I.forEach(le=>{const Ve=le.version||"()";N[Ve]=(N[Ve]||0)+le.qty});const k=Object.keys(N).map(le=>({version:le,qty:N[le]}));return{name:x,totalQty:S,details:k}});b.push({categoryId:L,items:y})}),b},T=()=>{let b=`# ${i.name}
 ${i.date}

`;i.groups.forEach(y=>{const x=i.items.filter(I=>I.tripGroupId===y.id);x.length>0&&(b+=`## ${y.name}
`,x.forEach(I=>{const S=I.checked?"[x]":"[ ]",N=I.version?` (${I.version.replace(/\n/g," ")})`:"";b+=`- ${S} ${I.name} x${I.qty}${N}
`}),b+=`
`)});const P=i.items.length,L=i.items.filter(y=>y.checked).length,F=Math.round(L/P*100)||0;b+=`---
###  
`,V().forEach(y=>{const x=R(y.categoryId).name;b+=`**${x}**
`,y.items.forEach(I=>{b+=`- ${I.name}: ${I.totalQty}
`}),b+=`
`}),b+=`---
${F}% (${L}/${P})`,navigator.clipboard.writeText(b).then(()=>alert(" Markdown "))},E=async()=>{if(m.trim()&&window.confirm(`${m}
`)){const b=await fh.shareTrip(i.id,m);b.success?(alert(" "),p(!1),g("")):alert(" "+b.error)}};return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[l&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-2xl shadow-2xl max-h-[85vh] flex flex-col border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50 rounded-t-xl",children:[h.jsxs("h3",{className:"font-bold text-xl flex items-center gap-2 text-slate-800 dark:text-white",children:[h.jsx(sg,{className:"text-blue-600"})," "]}),h.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:h.jsx(Ln,{size:24,className:"text-slate-500"})})]}),h.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[V().map(b=>{const P=R(b.categoryId);return h.jsxs("div",{className:"border border-slate-100 dark:border-slate-700 rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:`px-4 py-2 font-bold text-sm uppercase tracking-wider border-b dark:border-slate-700 ${P.color.replace("text-","bg-opacity-10 bg-").split(" ")[0]} ${P.color.split(" ")[1]}`,children:P.name}),h.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:b.items.map((L,F)=>h.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 flex flex-col sm:flex-row sm:justify-between gap-2",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 text-lg",children:L.name}),h.jsxs("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 px-2 py-0.5 rounded-full font-medium",children:[": ",L.totalQty]})]}),h.jsx("div",{className:"flex flex-col gap-1 sm:items-end",children:L.details.map((w,y)=>h.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[h.jsx("span",{className:`px-2 py-0.5 rounded text-xs border ${w.version==="()"?"bg-slate-50 dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-400":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-700 dark:text-yellow-500"}`,children:w.version}),h.jsxs("span",{className:"font-mono",children:["x",w.qty]})]},y))})]},F))})]},b.categoryId)}),i.items.length===0&&h.jsx("p",{className:"text-center text-slate-400 py-8",children:""})]}),h.jsx("div",{className:"p-4 border-t dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-center rounded-b-xl",children:h.jsx("button",{onClick:()=>u(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-sm",children:""})})]})}),d&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-md shadow-2xl flex flex-col border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50 rounded-t-xl",children:[h.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-800 dark:text-white",children:[h.jsx(Ac,{className:"text-blue-600"})," "]}),h.jsx("button",{onClick:()=>p(!1),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:h.jsx(Ln,{size:20,className:"text-slate-500"})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:""}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 uppercase",children:""}),h.jsx("input",{autoFocus:!0,className:"w-full border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500",placeholder:": Frank",value:m,onChange:b=>g(b.target.value)})]}),h.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[h.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700 rounded-lg",children:""}),h.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:""})]})]})]})}),h.jsxs("div",{className:"sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-950/95 backdrop-blur-sm pt-4 pb-2 border-b border-slate-200 dark:border-slate-800",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("button",{onClick:r,className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white",children:[h.jsx(Rv,{size:20,className:"mr-1"})," "]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 font-medium shadow-sm transition-all",title:"",children:[h.jsx(Ac,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:""})]}),h.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-600 mx-1"}),h.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all",title:"",children:[h.jsx(cb,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:""})]}),h.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 font-medium shadow-sm transition-all",title:"",children:[h.jsx(sg,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:""})]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all",children:[h.jsx(lb,{size:16}),""]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${i.status==="completed"?"bg-green-500 text-white":"bg-blue-600 text-white"}`,children:i.status==="completed"?"":""})]})]}),h.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[i.name,i.sharedWith&&i.sharedWith.length>0&&h.jsx(Ac,{size:20,className:"text-purple-500",title:""})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[h.jsx("div",{className:"flex-1 h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-green-500 transition-all duration-500 ease-out",style:{width:`${C}%`}})}),h.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300 min-w-[3rem] text-right",children:[C,"%"]})]})]}),i.groups.map(b=>{const P=i.items.filter(L=>L.tripGroupId===b.id);return P.length===0?null:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 text-lg flex items-center gap-2 border-l-4 border-blue-500 pl-3",children:[h.jsx(ng,{size:18,className:"text-blue-500"}),b.name]}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:P.map(L=>{const F=R(L.category);return h.jsxs("div",{onClick:()=>_(L.id),className:`relative cursor-pointer transition-all duration-200 p-4 rounded-xl border-2 shadow-sm flex items-start gap-4 ${L.checked?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 opacity-70":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md"}`,children:[h.jsxs("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-colors mt-1 ${L.checked?"bg-green-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-300 dark:text-slate-500"}`,children:[h.jsx(KE,{size:20,className:L.checked?"opacity-100":"opacity-0"}),!L.checked&&h.jsx(YE,{size:20,className:"absolute"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`text-lg font-bold break-words ${L.checked?"text-slate-500 dark:text-slate-500 line-through":"text-slate-800 dark:text-slate-200"}`,children:L.name}),h.jsx("span",{className:`text-[10px] w-fit px-1.5 py-0.5 rounded border mt-1 ${F.color}`,children:F.name})]}),h.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold px-2 py-1 rounded text-sm whitespace-nowrap ml-2",children:["x",L.qty]})]}),L.version&&h.jsx("div",{className:`text-sm mt-2 font-medium px-3 py-2 rounded w-full whitespace-pre-wrap break-words leading-relaxed ${L.checked?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500":"bg-yellow-50 dark:bg-yellow-900/10 text-yellow-800 dark:text-yellow-200 border border-yellow-200 dark:border-yellow-800"}`,children:L.version})]})]},L.id)})})]},b.id)}),i.items.length===0&&h.jsxs("div",{className:"text-center py-20 text-slate-400",children:[h.jsx(ng,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:""})]})]})},sA=({onLogin:t})=>{const[e,n]=A.useState(!1),[r,s]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,p]=A.useState(!1),m=async g=>{if(g.preventDefault(),u(""),p(!0),!r.trim()||!i.trim()){u(""),p(!1);return}try{if(e){const _=await hh.register(r,i);if(_.success&&_.userId){localStorage.setItem("mission_ready_active_user_id",_.userId);const C=JSON.parse(localStorage.getItem("mission_ready_users")||"[]");C.some(R=>R.username===r)||localStorage.setItem("mission_ready_users",JSON.stringify([...C,{id:_.userId,username:r,password:i}])),t({id:_.userId,username:r})}else u(_.error||"")}else{const _=await hh.login(r,i);if(_.success&&_.userId)localStorage.setItem("mission_ready_active_user_id",_.userId),t({id:_.userId,username:r});else{const R=JSON.parse(localStorage.getItem("mission_ready_users")||"[]").find(V=>V.username===r&&V.password===i);R?(console.log("Cloud login failed, using local credentials"),t({id:R.id,username:R.username})):u(_.error||"")}}}catch{u("")}finally{p(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900 p-4 transition-colors duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-200 dark:shadow-none",children:h.jsx(rg,{className:"text-white",size:32})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Mission Ready"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex items-center justify-center gap-1 mt-1",children:["",h.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full flex items-center gap-1",children:[h.jsx(XE,{size:10})," Cloud Sync"]})]})]}),h.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg mb-6",children:[h.jsx("button",{onClick:()=>{n(!1),u("")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${e?"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200":"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm"}`,children:""}),h.jsx("button",{onClick:()=>{n(!0),u("")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${e?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:""})]}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:""}),h.jsxs("div",{className:"relative",children:[h.jsx(pb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",value:r,onChange:g=>s(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-slate-800 outline-none transition-all text-slate-900 dark:text-white placeholder-slate-400",placeholder:""})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:""}),h.jsxs("div",{className:"relative",children:[h.jsx(rg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"password",value:i,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-slate-800 outline-none transition-all text-slate-900 dark:text-white placeholder-slate-400",placeholder:""})]})]}),l&&h.jsxs("div",{className:"text-red-500 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg border border-red-100 dark:border-red-900/30 flex items-center gap-2",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 dark:bg-red-400 rounded-full"}),l]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-200 dark:shadow-none active:scale-[0.98] transition-all flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?"...":e?"":""})]})]})})};function iA(){const[t,e]=A.useState(null),[n,r]=A.useState("DASHBOARD"),[s,i]=A.useState([]),[o,l]=A.useState([]),[u,d]=A.useState([]),[p,m]=A.useState([]),[g,_]=A.useState([]),[C,R]=A.useState([]),[V,T]=A.useState(null),[E,b]=A.useState(!1),[P,L]=A.useState(!1),[F,w]=A.useState(""),[y,x]=A.useState(!1),I=A.useRef(!0);A.useEffect(()=>{localStorage.getItem("mission_ready_theme")==="dark"&&(L(!0),document.documentElement.classList.add("dark"))},[]);const S=()=>{const U=!P;L(U),U?(document.documentElement.classList.add("dark"),localStorage.setItem("mission_ready_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("mission_ready_theme","light"))};A.useEffect(()=>{const U=localStorage.getItem("mission_ready_active_user_id"),X=JSON.parse(localStorage.getItem("mission_ready_users")||"[]");if(U&&X.length>0){const ce=X.find(pe=>pe.id===U);ce&&le({id:ce.id,username:ce.username})}},[]),A.useEffect(()=>{const U=setInterval(()=>{t&&y&&console.log("")},6e5);return()=>clearInterval(U)},[t,y]),A.useEffect(()=>{const U=X=>{y&&(X.preventDefault(),X.returnValue="")};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[y]);const N=U=>{const X=localStorage.getItem(`mission_ready_categories_${U}`);_(X?JSON.parse(X):Cc);const ce=localStorage.getItem(`mission_ready_bundles_${U}`);R(ce?JSON.parse(ce):BE);const pe=localStorage.getItem(`mission_ready_inventory_${U}`);let M=[];pe?(M=JSON.parse(pe),M=M.map(Me=>{let Pe=Me.category;return!Pe.startsWith("cat_")&&!Cc.some(Kt=>Kt.id===Pe)&&(Pe="cat_tools"),{...Me,category:Pe,folderId:Me.folderId||fe,groupId:Me.groupId||ge}})):M=UE,i(M);const ee=localStorage.getItem(`mission_ready_trips_${U}`);let re=ee?JSON.parse(ee):[];re=re.map(Me=>({...Me,groups:Me.groups||[{id:Ld,name:""}],items:Me.items.map(Pe=>({...Pe,category:!Pe.category.startsWith("cat_")&&!Cc.some(Kt=>Kt.id===Pe.category)?"cat_tools":Pe.category,tripGroupId:Pe.tripGroupId||Ld}))})),l(re);const he=localStorage.getItem(`mission_ready_folders_${U}`);d(he?JSON.parse(he):FE);const Ne=localStorage.getItem(`mission_ready_groups_${U}`);m(Ne?JSON.parse(Ne):zE),setTimeout(()=>{I.current=!1,x(!1)},500)},k=(U,X)=>{t&&(localStorage.setItem(U,JSON.stringify(X)),I.current||x(!0))};A.useEffect(()=>k(`mission_ready_inventory_${t==null?void 0:t.id}`,s),[s,t]),A.useEffect(()=>k(`mission_ready_trips_${t==null?void 0:t.id}`,o),[o,t]),A.useEffect(()=>k(`mission_ready_folders_${t==null?void 0:t.id}`,u),[u,t]),A.useEffect(()=>k(`mission_ready_groups_${t==null?void 0:t.id}`,p),[p,t]),A.useEffect(()=>k(`mission_ready_categories_${t==null?void 0:t.id}`,g),[g,t]),A.useEffect(()=>k(`mission_ready_bundles_${t==null?void 0:t.id}`,C),[C,t]);const le=U=>{I.current=!0,e(U),localStorage.setItem("mission_ready_active_user_id",U.id),N(U.id),r("DASHBOARD")},Ve=()=>{e(null),localStorage.removeItem("mission_ready_active_user_id"),i([]),l([]),d([]),m([]),_([]),R([]),x(!1)},ft=U=>{if(!t)return;const X={...U,userId:t.id};l(ce=>ce.find(M=>M.id===U.id)?ce.map(M=>M.id===U.id?X:M):[X,...ce]),T(U.id),r("TRIP_RUN")},Te=(U,X)=>{if(U.stopPropagation(),!!t&&window.confirm(`${X.name}`)){const ce={...X,id:Math.random().toString(36).substring(2,9),name:`${X.name} (Copy)`,date:new Date().toISOString().split("T")[0],status:"planning",items:X.items.map(pe=>({...pe,id:Math.random().toString(36).substring(2,9),checked:!1}))};l(pe=>[ce,...pe])}},q=()=>{T(null),r("TRIP_EDIT")},Q=U=>{T(U),r("TRIP_RUN")},Z=(U,X)=>{U.stopPropagation(),window.confirm("")&&(l(ce=>ce.filter(pe=>pe.id!==X)),V===X&&(T(null),r("DASHBOARD")))},ve=async()=>{if(!t)return;b(!0);const U={inventory:s,trips:o,folders:u,groups:p,categories:g,bundles:C};try{const X=await fh.upload(t.id,U);X.success?(alert(" "),x(!1)):alert(" "+JSON.stringify(X.error))}catch(X){console.error(X),alert(" ")}finally{b(!1)}},ne=async()=>{if(t&&window.confirm(` 

`)){b(!0);try{const U=await fh.download(t.id,o);if(U.success&&U.data){const{inventory:X,trips:ce,folders:pe,groups:M,categories:ee,bundles:re}=U.data;ee&&_(ee),re&&R(re),X&&i(X),ce&&l(ce),pe&&d(pe),M&&m(M),alert(" "),x(!1)}else alert(" ")}catch(U){console.error(U),alert(" ")}finally{b(!1)}}};if(!t)return h.jsx(sA,{onLogin:le});const ue=o.find(U=>U.id===V)||null,Se=s.filter(U=>U.name.toLowerCase().includes(F.toLowerCase())),je=o.filter(U=>U.name.toLowerCase().includes(F.toLowerCase()));return h.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans dark:bg-slate-950 dark:text-slate-100 transition-colors duration-200",children:[h.jsx("nav",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-20 shadow-sm",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[h.jsxs("div",{onClick:()=>r("DASHBOARD"),className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("div",{className:"bg-slate-900 dark:bg-slate-700 text-white p-1.5 rounded-lg",children:h.jsx(rb,{size:20})}),h.jsx("span",{className:"font-bold text-lg tracking-tight text-slate-800 dark:text-white hidden md:block",children:"Mission Ready"})]}),h.jsxs("div",{className:"flex items-center gap-1 md:gap-4",children:[h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>r("DASHBOARD"),className:`px-3 md:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="DASHBOARD"?"text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:""}),h.jsx("button",{onClick:()=>r("INVENTORY"),className:`px-3 md:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="INVENTORY"?"text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:""})]}),h.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:S,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:P?h.jsx(hb,{size:20}):h.jsx(ob,{size:20})}),E?h.jsx(sb,{size:18,className:"animate-spin text-slate-400"}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:ve,className:`p-2 rounded-lg transition-colors relative ${y?"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/30 ring-1 ring-blue-400":"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-800"}`,title:y?"":"",children:[h.jsx(fb,{size:20}),y&&h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),h.jsx("button",{onClick:ne,className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-slate-800 rounded-lg transition-colors",title:"",children:h.jsx(ZE,{size:20})})]}),h.jsx("div",{className:"h-4 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),h.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-600 dark:text-slate-300 text-sm font-medium px-2",children:[h.jsx(mb,{size:16}),h.jsx("span",{children:t.username})]}),h.jsx("button",{onClick:Ve,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-colors",children:h.jsx(ib,{size:20})})]})]})]})}),y&&h.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 px-4 py-1 text-xs text-center border-b border-yellow-200 dark:border-yellow-800 flex items-center justify-center gap-2",children:[h.jsx(HE,{size:12}),h.jsx("span",{children:""})]}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[n==="DASHBOARD"&&h.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[h.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-8 text-white shadow-lg flex flex-col md:flex-row justify-between items-center gap-6 border border-slate-700",children:[h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),h.jsxs("div",{className:"relative mt-4 max-w-md",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",placeholder:"...",value:F,onChange:U=>w(U.target.value),className:"w-full pl-10 pr-10 py-2 rounded-lg bg-slate-900/50 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),F&&h.jsx("button",{onClick:()=>w(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:h.jsx(Ln,{size:16})})]})]}),h.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-400 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg hover:shadow-xl transition-all active:scale-95 whitespace-nowrap",children:[h.jsx(jn,{size:24})," "]})]}),F&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[h.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-4",children:[': "',F,'"']}),h.jsxs("div",{className:"space-y-6",children:[je.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-blue-600 mb-2 uppercase",children:""}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:je.map(U=>h.jsxs("div",{onClick:()=>Q(U.id),className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 cursor-pointer hover:border-blue-400 transition-colors",children:[h.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:U.name}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:U.date})]},U.id))})]}),Se.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-green-600 mb-2 uppercase",children:""}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Se.map(U=>h.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-700/50 rounded border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200",children:U.name},U.id))})]}),Se.length===0&&je.length===0&&h.jsx("p",{className:"text-slate-400",children:""})]})]}),!F&&h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[h.jsx(GE,{size:20,className:"text-slate-500"}),""]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.length===0?h.jsxs("div",{className:"col-span-full bg-white dark:bg-slate-800 border border-dashed border-slate-300 dark:border-slate-700 rounded-xl p-12 text-center text-slate-400",children:[h.jsx(Md,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:""})]}):o.map(U=>{const X=U.items.filter(M=>M.checked).length,ce=U.items.length,pe=ce===0?0:Math.round(X/ce*100);return h.jsxs("div",{onClick:()=>Q(U.id),className:"group bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/50 transition-all cursor-pointer relative",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"min-w-0 pr-4",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 group-hover:text-blue-600 transition-colors truncate",children:U.name}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:U.date})]}),h.jsxs("div",{className:"flex flex-col items-end shrink-0",children:[h.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${pe===100?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:pe===100?"":""}),h.jsxs("div",{className:"flex gap-1 mt-2 z-10",children:[h.jsx("button",{onClick:M=>Te(M,U),className:"text-slate-300 hover:text-blue-500 p-1",title:"",children:h.jsx(JE,{size:14})}),h.jsx("button",{onClick:M=>Z(M,U.id),className:"text-slate-300 hover:text-red-500 p-1",title:"",children:h.jsx(Ln,{size:16})})]})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 font-medium",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:[X,"/",ce," "]})]}),h.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${pe}%`}})})]}),h.jsx(QE,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-200 dark:text-slate-600 opacity-0 group-hover:opacity-100 transition-all transform group-hover:translate-x-1"})]},U.id)})})]})]}),n==="INVENTORY"&&h.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:h.jsx(gb,{items:s,setItems:i,folders:u,setFolders:d,groups:p,setGroups:m,categories:g,setCategories:_,bundles:C,setBundles:R})}),n==="TRIP_EDIT"&&h.jsx("div",{className:"animate-in fade-in zoom-in-95 duration-200",children:h.jsx(ik,{inventory:s,folders:u,groups:p,categories:g,bundles:C,currentTrip:ue,onSave:ft,onCancel:()=>r(V?"TRIP_RUN":"DASHBOARD")})}),n==="TRIP_RUN"&&ue&&h.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:h.jsx(rA,{trip:ue,categories:g,onUpdateTrip:ft,onBack:()=>r("DASHBOARD"),onEdit:()=>r("TRIP_EDIT")})})]})]})}const Gw=document.getElementById("root");if(!Gw)throw new Error("Could not find root element to mount to");const oA=$c.createRoot(Gw);oA.render(h.jsx(Lt.StrictMode,{children:h.jsx(iA,{})}));
